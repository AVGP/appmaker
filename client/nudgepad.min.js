(function(a,b){function c(g){var a=g.length,q=d.type(g);return d.isWindow(g)?!1:1===g.nodeType&&a?!0:"array"===q||"function"!==q&&(0===a||"number"==typeof a&&0<a&&a-1 in g)}function e(g,a,q,x){if(d.acceptData(g)){var c,h,Sa=d.expando,e="string"==typeof a,l=g.nodeType,f=l?d.cache:g,k=l?g[Sa]:g[Sa]&&Sa;if(k&&f[k]&&(x||f[k].data)||!e||q!==b)return k||(l?g[Sa]=k=Ca.pop()||d.guid++:k=Sa),f[k]||(f[k]={},l||(f[k].toJSON=d.noop)),("object"==typeof a||"function"==typeof a)&&(x?f[k]=d.extend(f[k],a):f[k].data=
d.extend(f[k].data,a)),c=f[k],x||(c.data||(c.data={}),c=c.data),q!==b&&(c[d.camelCase(a)]=q),e?(h=c[a],null==h&&(h=c[d.camelCase(a)])):h=c,h}}function f(g,a,q){if(d.acceptData(g)){var b,c,h,Sa=g.nodeType,e=Sa?d.cache:g,l=Sa?g[d.expando]:d.expando;if(e[l]){if(a&&(h=q?e[l]:e[l].data)){d.isArray(a)?a=a.concat(d.map(a,d.camelCase)):a in h?a=[a]:(a=d.camelCase(a),a=a in h?[a]:a.split(" "));b=0;for(c=a.length;c>b;b++)delete h[a[b]];if(!(q?t:d.isEmptyObject)(h))return}(q||(delete e[l].data,t(e[l])))&&(Sa?
d.cleanData([g],!0):d.support.deleteExpando||e!=e.window?delete e[l]:e[l]=null)}}}function n(g,a,q){if(q===b&&1===g.nodeType){var x="data-"+a.replace(wa,"-$1").toLowerCase();if(q=g.getAttribute(x),"string"==typeof q){try{q="true"===q?!0:"false"===q?!1:"null"===q?null:+q+""===q?+q:Ga.test(q)?d.parseJSON(q):q}catch(c){}d.data(g,a,q)}else q=b}return q}function t(g){for(var a in g)if(("data"!==a||!d.isEmptyObject(g[a]))&&"toJSON"!==a)return!1;return!0}function m(){return!0}function p(){return!1}function P(g,
a){do g=g[a];while(g&&1!==g.nodeType);return g}function S(g,a,q){if(a=a||0,d.isFunction(a))return d.grep(g,function(g,b){return!!a.call(g,b,g)===q});if(a.nodeType)return d.grep(g,function(g){return g===a===q});if("string"==typeof a){var b=d.grep(g,function(g){return 1===g.nodeType});if(Uc.test(a))return d.filter(a,b,!q);a=d.filter(a,b)}return d.grep(g,function(g){return 0<=d.inArray(g,a)===q})}function W(g){var a=tc.split("|");g=g.createDocumentFragment();if(g.createElement)for(;a.length;)g.createElement(a.pop());
return g}function y(g){var a=g.getAttributeNode("type");return g.type=(a&&a.specified)+"/"+g.type,g}function A(g){var a=Vc.exec(g.type);return a?g.type=a[1]:g.removeAttribute("type"),g}function N(g,a){for(var q,b=0;null!=(q=g[b]);b++)d._data(q,"globalEval",!a||d._data(a[b],"globalEval"))}function X(g,a){if(1===a.nodeType&&d.hasData(g)){var q,b,c;b=d._data(g);var h=d._data(a,b),e=b.events;if(e)for(q in delete h.handle,h.events={},e){b=0;for(c=e[q].length;c>b;b++)d.event.add(a,q,e[q][b])}h.data&&(h.data=
d.extend({},h.data))}}function s(g,a){var q,x,c=0,h=typeof g.getElementsByTagName!==B?g.getElementsByTagName(a||"*"):typeof g.querySelectorAll!==B?g.querySelectorAll(a||"*"):b;if(!h){h=[];for(q=g.childNodes||g;null!=(x=q[c]);c++)!a||d.nodeName(x,a)?h.push(x):d.merge(h,s(x,a))}return a===b||a&&d.nodeName(g,a)?d.merge([g],h):h}function U(g){cc.test(g.type)&&(g.defaultChecked=g.checked)}function K(g,a){if(a in g)return a;for(var q=a.charAt(0).toUpperCase()+a.slice(1),b=a,d=uc.length;d--;)if(a=uc[d]+
q,a in g)return a;return b}function V(g,a){return g=a||g,"none"===d.css(g,"display")||!d.contains(g.ownerDocument,g)}function I(g,a){for(var q,b,c,h=[],e=0,l=g.length;l>e;e++)b=g[e],b.style&&(h[e]=d._data(b,"olddisplay"),q=b.style.display,a?(h[e]||"none"!==q||(b.style.display=""),""===b.style.display&&V(b)&&(h[e]=d._data(b,"olddisplay",ca(b.nodeName)))):h[e]||(c=V(b),(q&&"none"!==q||!c)&&d._data(b,"olddisplay",c?q:d.css(b,"display"))));for(e=0;l>e;e++)b=g[e],b.style&&(a&&"none"!==b.style.display&&
""!==b.style.display||(b.style.display=a?h[e]||"":"none"));return g}function j(g,a,b){return(g=Wc.exec(a))?Math.max(0,g[1]-(b||0))+(g[2]||"px"):a}function C(g,a,b,x,c){a=b===(x?"border":"content")?4:"width"===a?1:0;for(var h=0;4>a;a+=2)"margin"===b&&(h+=d.css(g,b+gb[a],!0,c)),x?("content"===b&&(h-=d.css(g,"padding"+gb[a],!0,c)),"margin"!==b&&(h-=d.css(g,"border"+gb[a]+"Width",!0,c))):(h+=d.css(g,"padding"+gb[a],!0,c),"padding"!==b&&(h+=d.css(g,"border"+gb[a]+"Width",!0,c)));return h}function Q(g,
a,b){var x=!0,c="width"===a?g.offsetWidth:g.offsetHeight,h=hb(g),e=d.support.boxSizing&&"border-box"===d.css(g,"boxSizing",!1,h);if(0>=c||null==c){if(c=ib(g,a,h),(0>c||null==c)&&(c=g.style[a]),Pb.test(c))return c;x=e&&(d.support.boxSizingReliable||c===g.style[a]);c=parseFloat(c)||0}return c+C(g,a,b||(e?"border":"content"),x,h)+"px"}function ca(g){var a=F,b=vc[g];return b||(b=L(g,a),"none"!==b&&b||(Gb=(Gb||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(a.documentElement),
a=(Gb[0].contentWindow||Gb[0].contentDocument).document,a.write("<!doctype html><html><body>"),a.close(),b=L(g,a),Gb.detach()),vc[g]=b),b}function L(g,a){var b=d(a.createElement(g)).appendTo(a.body),x=d.css(b[0],"display");return b.remove(),x}function H(g,a,b,x){var c;if(d.isArray(a))d.each(a,function(a,z){b||Xc.test(g)?x(g,z):H(g+"["+("object"==typeof z?a:"")+"]",z,b,x)});else if(b||"object"!==d.type(a))x(g,a);else for(c in a)H(g+"["+c+"]",a[c],b,x)}function R(g){return function(a,b){"string"!=typeof a&&
(b=a,a="*");var x,c=0,h=a.toLowerCase().match(Ba)||[];if(d.isFunction(b))for(;x=h[c++];)"+"===x[0]?(x=x.slice(1)||"*",(g[x]=g[x]||[]).unshift(b)):(g[x]=g[x]||[]).push(b)}}function O(g,a,q,x){function c(l){var f;return h[l]=!0,d.each(g[l]||[],function(g,d){var l=d(a,q,x);return"string"!=typeof l||e||h[l]?e?!(f=l):b:(a.dataTypes.unshift(l),c(l),!1)}),f}var h={},e=g===dc;return c(a.dataTypes[0])||!h["*"]&&c("*")}function fa(g,a){var q,x,c=d.ajaxSettings.flatOptions||{};for(x in a)a[x]!==b&&((c[x]?g:
q||(q={}))[x]=a[x]);return q&&d.extend(!0,g,q),g}function ha(){try{return new a.XMLHttpRequest}catch(g){}}function ja(){return setTimeout(function(){qb=b}),qb=d.now()}function ia(g,a,b){var x,c,h=0,e=Qb.length,l=d.Deferred().always(function(){delete f.elem}),f=function(){if(c)return!1;for(var a=qb||ja(),a=Math.max(0,k.startTime+k.duration-a),z=1-(a/k.duration||0),b=0,q=k.tweens.length;q>b;b++)k.tweens[b].run(z);return l.notifyWith(g,[k,z,a]),1>z&&q?a:(l.resolveWith(g,[k]),!1)},k=l.promise({elem:g,
props:d.extend({},a),opts:d.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:qb||ja(),duration:b.duration,tweens:[],createTween:function(a,z){var b=d.Tween(g,k.opts,a,z,k.opts.specialEasing[a]||k.opts.easing);return k.tweens.push(b),b},stop:function(a){var z=0,b=a?k.tweens.length:0;if(c)return this;for(c=!0;b>z;z++)k.tweens[z].run(1);return a?l.resolveWith(g,[k,a]):l.rejectWith(g,[k,a]),this}});a=k.props;b=k.opts.specialEasing;var v,r,j,w;for(r in a)if(v=d.camelCase(r),
j=b[v],x=a[r],d.isArray(x)&&(j=x[1],x=a[r]=x[0]),r!==v&&(a[v]=x,delete a[r]),w=d.cssHooks[v],w&&"expand"in w)for(r in x=w.expand(x),delete a[v],x)r in a||(a[r]=x[r],b[r]=j);else b[v]=j;for(;e>h;h++)if(x=Qb[h].call(k,g,a,k.opts))return x;var u=k;d.each(a,function(g,a){for(var z=(Hb[g]||[]).concat(Hb["*"]),b=0,q=z.length;q>b&&!z[b].call(u,g,a);b++);});return d.isFunction(k.opts.start)&&k.opts.start.call(g,k),d.fx.timer(d.extend(f,{elem:g,anim:k,queue:k.opts.queue})),k.progress(k.opts.progress).done(k.opts.done,
k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function Y(g,a,b,d,c){return new Y.prototype.init(g,a,b,d,c)}function k(g,a){var b,d={height:g},c=0;for(a=a?1:0;4>c;c+=2-a)b=gb[c],d["margin"+b]=d["padding"+b]=g;return a&&(d.opacity=d.width=g),d}function D(g){return d.isWindow(g)?g:9===g.nodeType?g.defaultView||g.parentWindow:!1}var r,u,B=typeof b,F=a.document,ga=a.location,$a=a.jQuery,ab=a.$,sa={},Ca=[],da=Ca.concat,ta=Ca.push,ka=Ca.slice,w=Ca.indexOf,T=sa.toString,G=sa.hasOwnProperty,Ta=
"1.9.1".trim,d=function(g,a){return new d.fn.init(g,a,u)},Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=/\S+/g,bb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,jb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ib=/^[\],:{}\s]*$/,Rb=/(?:^|:|,)(?:\s*\[)+/g,Ua=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ka=/^-ms-/,Jb=/-([\da-z])/gi,Sb=function(g,a){return a.toUpperCase()},E=function(g){(F.addEventListener||"load"===g.type||
"complete"===F.readyState)&&(Va(),d.ready())},Va=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",E,!1),a.removeEventListener("load",E,!1)):(F.detachEvent("onreadystatechange",E),a.detachEvent("onload",E))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,init:function(g,a,q){var x,c;if(!g)return this;if("string"==typeof g){if(x="<"===g.charAt(0)&&">"===g.charAt(g.length-1)&&3<=g.length?[null,g,null]:jb.exec(g),!x||!x[1]&&a)return!a||a.jquery?(a||q).find(g):this.constructor(a).find(g);
if(x[1]){if(a=a instanceof d?a[0]:a,d.merge(this,d.parseHTML(x[1],a&&a.nodeType?a.ownerDocument||a:F,!0)),kb.test(x[1])&&d.isPlainObject(a))for(x in a)d.isFunction(this[x])?this[x](a[x]):this.attr(x,a[x]);return this}if(c=F.getElementById(x[2]),c&&c.parentNode){if(c.id!==x[2])return q.find(g);this.length=1;this[0]=c}return this.context=F,this.selector=g,this}return g.nodeType?(this.context=this[0]=g,this.length=1,this):d.isFunction(g)?q.ready(g):(g.selector!==b&&(this.selector=g.selector,this.context=
g.context),d.makeArray(g,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ka.call(this)},get:function(g){return null==g?this.toArray():0>g?this[this.length+g]:this[g]},pushStack:function(g){g=d.merge(this.constructor(),g);return g.prevObject=this,g.context=this.context,g},each:function(g,a){return d.each(this,g,a)},ready:function(g){return d.ready.promise().done(g),this},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(g){var a=this.length;g=+g+(0>g?a:0);return this.pushStack(0<=g&&a>g?[this[g]]:[])},map:function(g){return this.pushStack(d.map(this,function(a,b){return g.call(a,b,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:ta,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var g,a,q,x,c,h,e=arguments[0]||{},l=1,k=arguments.length,f=!1;"boolean"==typeof e&&(f=e,e=arguments[1]||{},l=2);"object"==
typeof e||d.isFunction(e)||(e={});for(k===l&&(e=this,--l);k>l;l++)if(null!=(c=arguments[l]))for(x in c)g=e[x],q=c[x],e!==q&&(f&&q&&(d.isPlainObject(q)||(a=d.isArray(q)))?(a?(a=!1,h=g&&d.isArray(g)?g:[]):h=g&&d.isPlainObject(g)?g:{},e[x]=d.extend(f,h,q)):q!==b&&(e[x]=q));return e};d.extend({noConflict:function(g){return a.$===d&&(a.$=ab),g&&a.jQuery===d&&(a.jQuery=$a),d},isReady:!1,readyWait:1,holdReady:function(g){g?d.readyWait++:d.ready(!0)},ready:function(g){if(!0===g?!--d.readyWait:!d.isReady){if(!F.body)return setTimeout(d.ready);
d.isReady=!0;!0!==g&&0<--d.readyWait||(r.resolveWith(F,[d]),d.fn.trigger&&d(F).trigger("ready").off("ready"))}},isFunction:function(g){return"function"===d.type(g)},isArray:Array.isArray||function(g){return"array"===d.type(g)},isWindow:function(g){return null!=g&&g==g.window},isNumeric:function(g){return!isNaN(parseFloat(g))&&isFinite(g)},type:function(g){return null==g?g+"":"object"==typeof g||"function"==typeof g?sa[T.call(g)]||"object":typeof g},isPlainObject:function(g){if(!g||"object"!==d.type(g)||
g.nodeType||d.isWindow(g))return!1;try{if(g.constructor&&!G.call(g,"constructor")&&!G.call(g.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var q in g);return q===b||G.call(g,q)},isEmptyObject:function(g){for(var a in g)return!1;return!0},error:function(g){throw Error(g);},parseHTML:function(g,a,b){if(!g||"string"!=typeof g)return null;"boolean"==typeof a&&(b=a,a=!1);a=a||F;var x=kb.exec(g);b=!b&&[];return x?[a.createElement(x[1])]:(x=d.buildFragment([g],a,b),b&&d(b).remove(),
d.merge([],x.childNodes))},parseJSON:function(g){return a.JSON&&a.JSON.parse?a.JSON.parse(g):null===g?g:"string"==typeof g&&(g=d.trim(g),g&&Ib.test(g.replace(Ua,"@").replace(rb,"]").replace(Rb,"")))?Function("return "+g)():(d.error("Invalid JSON: "+g),b)},parseXML:function(g){var z,q;if(!g||"string"!=typeof g)return null;try{a.DOMParser?(q=new DOMParser,z=q.parseFromString(g,"text/xml")):(z=new ActiveXObject("Microsoft.XMLDOM"),z.async="false",z.loadXML(g))}catch(x){z=b}return z&&z.documentElement&&
!z.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+g),z},noop:function(){},globalEval:function(g){g&&d.trim(g)&&(a.execScript||function(g){a.eval.call(a,g)})(g)},camelCase:function(g){return g.replace(Ka,"ms-").replace(Jb,Sb)},nodeName:function(g,a){return g.nodeName&&g.nodeName.toLowerCase()===a.toLowerCase()},each:function(g,a,b){var d,h=0,e=g.length,l=c(g);if(b)if(l)for(;e>h&&!(d=a.apply(g[h],b),!1===d);h++);else for(h in g){if(d=a.apply(g[h],b),!1===d)break}else if(l)for(;e>
h&&!(d=a.call(g[h],h,g[h]),!1===d);h++);else for(h in g)if(d=a.call(g[h],h,g[h]),!1===d)break;return g},trim:Ta&&!Ta.call("\ufeff\u00a0")?function(g){return null==g?"":Ta.call(g)}:function(g){return null==g?"":(g+"").replace(bb,"")},makeArray:function(g,a){var b=a||[];return null!=g&&(c(Object(g))?d.merge(b,"string"==typeof g?[g]:g):ta.call(b,g)),b},inArray:function(g,a,b){var d;if(a){if(w)return w.call(a,g,b);d=a.length;for(b=b?0>b?Math.max(0,d+b):b:0;d>b;b++)if(b in a&&a[b]===g)return b}return-1},
merge:function(g,a){var d=a.length,x=g.length,c=0;if("number"==typeof d)for(;d>c;c++)g[x++]=a[c];else for(;a[c]!==b;)g[x++]=a[c++];return g.length=x,g},grep:function(g,a,b){var d,c=[],h=0,e=g.length;for(b=!!b;e>h;h++)d=!!a(g[h],h),b!==d&&c.push(g[h]);return c},map:function(g,a,b){var d,h=0,e=g.length,l=[];if(c(g))for(;e>h;h++)d=a(g[h],h,b),null!=d&&(l[l.length]=d);else for(h in g)d=a(g[h],h,b),null!=d&&(l[l.length]=d);return da.apply([],l)},guid:1,proxy:function(g,a){var q,x,c;return"string"==typeof a&&
(c=g[a],a=g,g=c),d.isFunction(g)?(q=ka.call(arguments,2),x=function(){return g.apply(a||this,q.concat(ka.call(arguments)))},x.guid=g.guid=g.guid||d.guid++,x):b},access:function(g,a,q,x,c,h,e){var l=0,k=g.length,f=null==q;if("object"===d.type(q))for(l in c=!0,q)d.access(g,a,l,q[l],!0,h,e);else if(x!==b&&(c=!0,d.isFunction(x)||(e=!0),f&&(e?(a.call(g,x),a=null):(f=a,a=function(g,a,b){return f.call(d(g),b)})),a))for(;k>l;l++)a(g[l],q,e?x:x.call(g[l],l,a(g[l],q)));return c?g:f?a.call(g):k?a(g[0],q):h},
now:function(){return(new Date).getTime()}});d.ready.promise=function(g){if(!r)if(r=d.Deferred(),"complete"===F.readyState)setTimeout(d.ready);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",E,!1),a.addEventListener("load",E,!1);else{F.attachEvent("onreadystatechange",E);a.attachEvent("onload",E);var b=!1;try{b=null==a.frameElement&&F.documentElement}catch(q){}b&&b.doScroll&&function Tc(){if(!d.isReady){try{b.doScroll("left")}catch(g){return setTimeout(Tc,50)}Va();d.ready()}}()}return r.promise(g)};
d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(g,a){sa["[object "+a+"]"]=a.toLowerCase()});u=d(F);var Wa={};d.Callbacks=function(g){var a;if("string"==typeof g){if(!(a=Wa[g])){a=g;var q=Wa[a]={};a=(d.each(a.match(Ba)||[],function(g,a){q[a]=!0}),q)}}else a=d.extend({},g);g=a;var x,c,h,e,l,k,f=[],r=!g.once&&[],v=function(a){c=g.memory&&a;h=!0;l=k||0;k=0;e=f.length;for(x=!0;f&&e>l;l++)if(!1===f[l].apply(a[0],a[1])&&g.stopOnFalse){c=!1;break}x=!1;f&&(r?r.length&&
v(r.shift()):c?f=[]:j.disable())},j={add:function(){if(f){var a=f.length;(function Yc(a){d.each(a,function(a,b){var z=d.type(b);"function"===z?g.unique&&j.has(b)||f.push(b):b&&b.length&&"string"!==z&&Yc(b)})})(arguments);x?e=f.length:c&&(k=a,v(c))}return this},remove:function(){return f&&d.each(arguments,function(g,a){for(var b;-1<(b=d.inArray(a,f,b));)f.splice(b,1),x&&(e>=b&&e--,l>=b&&l--)}),this},has:function(g){return g?-1<d.inArray(g,f):!(!f||!f.length)},empty:function(){return f=[],this},disable:function(){return f=
r=c=b,this},disabled:function(){return!f},lock:function(){return r=b,c||j.disable(),this},locked:function(){return!r},fireWith:function(g,a){return a=a||[],a=[g,a.slice?a.slice():a],!f||h&&!r||(x?r.push(a):v(a)),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!h}};return j};d.extend({Deferred:function(g){var a=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],
b="pending",c={state:function(){return b},always:function(){return h.done(arguments).fail(arguments),this},then:function(){var g=arguments;return d.Deferred(function(b){d.each(a,function(a,z){var q=z[0],e=d.isFunction(g[a])&&g[a];h[z[1]](function(){var g=e&&e.apply(this,arguments);g&&d.isFunction(g.promise)?g.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[q+"With"](this===c?b.promise():this,e?[g]:arguments)})});g=null}).promise()},promise:function(g){return null!=g?d.extend(g,c):c}},
h={};return c.pipe=c.then,d.each(a,function(g,d){var e=d[2],l=d[3];c[d[1]]=e.add;l&&e.add(function(){b=l},a[1^g][2].disable,a[2][2].lock);h[d[0]]=function(){return h[d[0]+"With"](this===h?c:this,arguments),this};h[d[0]+"With"]=e.fireWith}),c.promise(h),g&&g.call(h,h),h},when:function(g){var a=0,b=ka.call(arguments),c=b.length,h=1!==c||g&&d.isFunction(g.promise)?c:0,e=1===h?g:d.Deferred(),l=function(g,a,b){return function(d){a[g]=this;b[g]=1<arguments.length?ka.call(arguments):d;b===k?e.notifyWith(a,
b):--h||e.resolveWith(a,b)}},k,f,r;if(1<c){k=Array(c);f=Array(c);for(r=Array(c);c>a;a++)b[a]&&d.isFunction(b[a].promise)?b[a].promise().done(l(a,r,b)).fail(e.reject).progress(l(a,f,k)):--h}return h||e.resolveWith(r,b),e.promise()}});var ec=d,lb;var ba,ea,M,na,oa,ua,Ha,la,Na,ra,J=F.createElement("div");if(J.setAttribute("className","t"),J.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ea=J.getElementsByTagName("*"),M=J.getElementsByTagName("a")[0],!ea||!M||!ea.length)lb=
{};else{oa=F.createElement("select");Ha=oa.appendChild(F.createElement("option"));na=J.getElementsByTagName("input")[0];M.style.cssText="top:1px;float:left;opacity:.5";ba={getSetAttribute:"t"!==J.className,leadingWhitespace:3===J.firstChild.nodeType,tbody:!J.getElementsByTagName("tbody").length,htmlSerialize:!!J.getElementsByTagName("link").length,style:/top/.test(M.getAttribute("style")),hrefNormalized:"/a"===M.getAttribute("href"),opacity:/^0.5/.test(M.style.opacity),cssFloat:!!M.style.cssFloat,
checkOn:!!na.value,optSelected:Ha.selected,enctype:!!F.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===F.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};na.checked=!0;ba.noCloneChecked=na.cloneNode(!0).checked;oa.disabled=!0;ba.optDisabled=!Ha.disabled;try{delete J.test}catch(mb){ba.deleteExpando=!1}na=F.createElement("input");
na.setAttribute("value","");ba.input=""===na.getAttribute("value");na.value="t";na.setAttribute("type","radio");ba.radioValue="t"===na.value;na.setAttribute("checked","t");na.setAttribute("name","t");ua=F.createDocumentFragment();ua.appendChild(na);ba.appendChecked=na.checked;ba.checkClone=ua.cloneNode(!0).cloneNode(!0).lastChild.checked;J.attachEvent&&(J.attachEvent("onclick",function(){ba.noCloneEvent=!1}),J.cloneNode(!0).click());for(ra in{submit:!0,change:!0,focusin:!0})J.setAttribute(la="on"+
ra,"t"),ba[ra+"Bubbles"]=la in a||!1===J.attributes[la].expando;lb=(J.style.backgroundClip="content-box",J.cloneNode(!0).style.backgroundClip="",ba.clearCloneStyle="content-box"===J.style.backgroundClip,d(function(){var g,b,d,c=F.getElementsByTagName("body")[0];c&&(g=F.createElement("div"),g.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(g).appendChild(J),J.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=J.getElementsByTagName("td"),
d[0].style.cssText="padding:0;margin:0;border:0;display:none",Na=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",ba.reliableHiddenOffsets=Na&&0===d[0].offsetHeight,J.innerHTML="",J.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ba.boxSizing=4===J.offsetWidth,ba.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(ba.pixelPosition=
"1%"!==(a.getComputedStyle(J,null)||{}).top,ba.boxSizingReliable="4px"===(a.getComputedStyle(J,null)||{width:"4px"}).width,b=J.appendChild(F.createElement("div")),b.style.cssText=J.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",b.style.marginRight=b.style.width="0",J.style.width="1px",ba.reliableMarginRight=!parseFloat((a.getComputedStyle(b,null)||{}).marginRight)),typeof J.style.zoom!==B&&(J.innerHTML="",
J.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",ba.inlineBlockNeedsLayout=3===J.offsetWidth,J.style.display="block",J.innerHTML="<div></div>",J.firstChild.style.width="5px",ba.shrinkWrapBlocks=3!==J.offsetWidth,ba.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(g),J=null)}),ea=oa=ua=Ha=M=na=null,ba)}ec.support=lb;var Ga=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,wa=
/([A-Z])/g;d.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(g){return g=g.nodeType?d.cache[g[d.expando]]:g[d.expando],!!g&&!t(g)},data:function(g,a,b){return e(g,a,b)},removeData:function(g,a){return f(g,a)},_data:function(g,a,b){return e(g,a,b,!0)},_removeData:function(g,a){return f(g,a,!0)},acceptData:function(g){if(g.nodeType&&1!==g.nodeType&&9!==g.nodeType)return!1;var a=
g.nodeName&&d.noData[g.nodeName.toLowerCase()];return!a||!0!==a&&g.getAttribute("classid")===a}});d.fn.extend({data:function(g,a){var q,c,h=this[0],e=0,l=null;if(g===b){if(this.length&&(l=d.data(h),1===h.nodeType&&!d._data(h,"parsedAttrs"))){for(q=h.attributes;q.length>e;e++)c=q[e].name,c.indexOf("data-")||(c=d.camelCase(c.slice(5)),n(h,c,l[c]));d._data(h,"parsedAttrs",!0)}return l}return"object"==typeof g?this.each(function(){d.data(this,g)}):d.access(this,function(a){return a===b?h?n(h,g,d.data(h,
g)):null:(this.each(function(){d.data(this,g,a)}),b)},null,a,1<arguments.length,null,!0)},removeData:function(g){return this.each(function(){d.removeData(this,g)})}});d.extend({queue:function(g,a,q){var c;return g?(a=(a||"fx")+"queue",c=d._data(g,a),q&&(!c||d.isArray(q)?c=d._data(g,a,d.makeArray(q)):c.push(q)),c||[]):b},dequeue:function(g,a){a=a||"fx";var b=d.queue(g,a),c=b.length,h=b.shift(),e=d._queueHooks(g,a),l=function(){d.dequeue(g,a)};"inprogress"===h&&(h=b.shift(),c--);(e.cur=h)&&("fx"===
a&&b.unshift("inprogress"),delete e.stop,h.call(g,l,e));!c&&e&&e.empty.fire()},_queueHooks:function(g,a){var b=a+"queueHooks";return d._data(g,b)||d._data(g,b,{empty:d.Callbacks("once memory").add(function(){d._removeData(g,a+"queue");d._removeData(g,b)})})}});d.fn.extend({queue:function(g,a){var q=2;return"string"!=typeof g&&(a=g,g="fx",q--),q>arguments.length?d.queue(this[0],g):a===b?this:this.each(function(){var b=d.queue(this,g,a);d._queueHooks(this,g);"fx"===g&&"inprogress"!==b[0]&&d.dequeue(this,
g)})},dequeue:function(g){return this.each(function(){d.dequeue(this,g)})},delay:function(g,a){return g=d.fx?d.fx.speeds[g]||g:g,a=a||"fx",this.queue(a,function(a,b){var d=setTimeout(a,g);b.stop=function(){clearTimeout(d)}})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,a){var q,c=1,h=d.Deferred(),e=this,l=this.length,k=function(){--c||h.resolveWith(e,[e])};"string"!=typeof g&&(a=g,g=b);for(g=g||"fx";l--;)(q=d._data(e[l],g+"queueHooks"))&&q.empty&&(c++,q.empty.add(k));
return k(),h.promise(a)}});var xa,va,h=/[\t\r\n]/g,l=/\r/g,v=/^(?:input|select|textarea|button|object)$/i,Xa=/^(?:a|area)$/i,Oa=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ia=/^(?:checked|selected)$/i,Ea=d.support.getSetAttribute,sb=d.support.input;d.fn.extend({attr:function(g,a){return d.access(this,d.attr,g,a,1<arguments.length)},removeAttr:function(g){return this.each(function(){d.removeAttr(this,g)})},prop:function(g,
a){return d.access(this,d.prop,g,a,1<arguments.length)},removeProp:function(g){return g=d.propFix[g]||g,this.each(function(){try{this[g]=b,delete this[g]}catch(a){}})},addClass:function(g){var a,b,c,e,l,k=0,f=this.length;a="string"==typeof g&&g;if(d.isFunction(g))return this.each(function(a){d(this).addClass(g.call(this,a,this.className))});if(a)for(a=(g||"").match(Ba)||[];f>k;k++)if(b=this[k],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(h," "):" ")){for(l=0;e=a[l++];)0>c.indexOf(" "+
e+" ")&&(c+=e+" ");b.className=d.trim(c)}return this},removeClass:function(g){var a,b,c,e,l,k=0,f=this.length;a=0===arguments.length||"string"==typeof g&&g;if(d.isFunction(g))return this.each(function(a){d(this).removeClass(g.call(this,a,this.className))});if(a)for(a=(g||"").match(Ba)||[];f>k;k++)if(b=this[k],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(h," "):"")){for(l=0;e=a[l++];)for(;0<=c.indexOf(" "+e+" ");)c=c.replace(" "+e+" "," ");b.className=g?d.trim(c):""}return this},toggleClass:function(g,
a){var b=typeof g,c="boolean"==typeof a;return d.isFunction(g)?this.each(function(b){d(this).toggleClass(g.call(this,b,this.className,a),a)}):this.each(function(){if("string"===b)for(var h,e=0,l=d(this),k=a,f=g.match(Ba)||[];h=f[e++];)k=c?k:!l.hasClass(h),l[k?"addClass":"removeClass"](h);else(b===B||"boolean"===b)&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===g?"":d._data(this,"__className__")||"")})},hasClass:function(g){g=" "+g+" ";for(var a=
0,b=this.length;b>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(h," ").indexOf(g))return!0;return!1},val:function(g){var a,q,c,h=this[0];if(arguments.length)return c=d.isFunction(g),this.each(function(a){var z,h=d(this);1===this.nodeType&&(z=c?g.call(this,a,h.val()):g,null==z?z="":"number"==typeof z?z+="":d.isArray(z)&&(z=d.map(z,function(g){return null==g?"":g+""})),q=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],q&&"set"in q&&q.set(this,z,"value")!==b||(this.value=
z))});if(h)return q=d.valHooks[h.type]||d.valHooks[h.nodeName.toLowerCase()],q&&"get"in q&&(a=q.get(h,"value"))!==b?a:(a=h.value,"string"==typeof a?a.replace(l,""):null==a?"":a)}});d.extend({valHooks:{option:{get:function(g){var a=g.attributes.value;return!a||a.specified?g.value:g.text}},select:{get:function(g){for(var a,b=g.options,c=g.selectedIndex,h="select-one"===g.type||0>c,e=h?null:[],l=h?c+1:b.length,k=0>c?l:h?c:0;l>k;k++)if(a=b[k],!(!a.selected&&k!==c||(d.support.optDisabled?a.disabled:null!==
a.getAttribute("disabled"))||a.parentNode.disabled&&d.nodeName(a.parentNode,"optgroup"))){if(g=d(a).val(),h)return g;e.push(g)}return e},set:function(a,b){var q=d.makeArray(b);return d(a).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),q)}),q.length||(a.selectedIndex=-1),q}}},attr:function(a,z,q){var c,h,e,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l)return typeof a.getAttribute===B?d.prop(a,z,q):(h=1!==l||!d.isXMLDoc(a),h&&(z=z.toLowerCase(),c=d.attrHooks[z]||(Oa.test(z)?va:xa)),
q===b?c&&h&&"get"in c&&null!==(e=c.get(a,z))?e:(typeof a.getAttribute!==B&&(e=a.getAttribute(z)),null==e?b:e):null!==q?c&&h&&"set"in c&&(e=c.set(a,q,z))!==b?e:(a.setAttribute(z,q+""),q):(d.removeAttr(a,z),b))},removeAttr:function(a,b){var q,c,h=0,e=b&&b.match(Ba);if(e&&1===a.nodeType)for(;q=e[h++];)c=d.propFix[q]||q,Oa.test(q)?!Ea&&Ia.test(q)?a[d.camelCase("default-"+q)]=a[c]=!1:a[c]=!1:d.attr(a,q,""),a.removeAttribute(Ea?q:c)},attrHooks:{type:{set:function(a,b){if(!d.support.radioValue&&"radio"===
b&&d.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,q){var h,e,l,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k)return l=1!==k||!d.isXMLDoc(a),l&&(c=d.propFix[c]||c,e=d.propHooks[c]),
q!==b?e&&"set"in e&&(h=e.set(a,q,c))!==b?h:a[c]=q:e&&"get"in e&&null!==(h=e.get(a,c))?h:a[c]},propHooks:{tabIndex:{get:function(a){var d=a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):v.test(a.nodeName)||Xa.test(a.nodeName)&&a.href?0:b}}}});va={get:function(a,c){var q=d.prop(a,c),h="boolean"==typeof q&&a.getAttribute(c);return(q="boolean"==typeof q?sb&&Ea?null!=h:Ia.test(c)?a[d.camelCase("default-"+c)]:!!h:a.getAttributeNode(c))&&!1!==q.value?c.toLowerCase():b},set:function(a,
b,c){return!1===b?d.removeAttr(a,c):sb&&Ea||!Ia.test(c)?a.setAttribute(!Ea&&d.propFix[c]||c,c):a[d.camelCase("default-"+c)]=a[c]=!0,c}};sb&&Ea||(d.attrHooks.value={get:function(a,c){var q=a.getAttributeNode(c);return d.nodeName(a,"input")?a.defaultValue:q&&q.specified?q.value:b},set:function(a,c,q){return d.nodeName(a,"input")?(a.defaultValue=c,b):xa&&xa.set(a,c,q)}});Ea||(xa=d.valHooks.button={get:function(a,d){var c=a.getAttributeNode(d);return c&&("id"===d||"name"===d||"coords"===d?""!==c.value:
c.specified)?c.value:b},set:function(a,d,c){var h=a.getAttributeNode(c);return h||a.setAttributeNode(h=a.ownerDocument.createAttribute(c)),h.value=d+="","value"===c||d===a.getAttribute(c)?d:b}},d.attrHooks.contenteditable={get:xa.get,set:function(a,b,d){xa.set(a,""===b?!1:b,d)}},d.each(["width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(a,g){return""===g?(a.setAttribute(c,"auto"),g):b}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(a,
c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null==a?b:a}})}),d.each(["href","src"],function(a,b){d.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),
null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,c){return d.isArray(c)?a.checked=0<=d.inArray(d(a).val(),c):b}})});var tb=/^(?:input|select|textarea)$/i,Pa=/^key/,Tb=/^(?:mouse|contextmenu)|click/,Kb=/^(?:focusinfocus|focusoutblur)$/,Lb=/^([^.]*)(?:\.(.+)|)$/;
d.event={global:{},add:function(a,c,q,h,e){var l,k,f,r,v,j,w,u,D;if(f=d._data(a)){q.handler&&(r=q,q=r.handler,e=r.selector);q.guid||(q.guid=d.guid++);(k=f.events)||(k=f.events={});(v=f.handle)||(v=f.handle=function(a){return typeof d===B||a&&d.event.triggered===a.type?b:d.event.dispatch.apply(v.elem,arguments)},v.elem=a);c=(c||"").match(Ba)||[""];for(f=c.length;f--;)l=Lb.exec(c[f])||[],u=j=l[1],D=(l[2]||"").split(".").sort(),l=d.event.special[u]||{},u=(e?l.delegateType:l.bindType)||u,l=d.event.special[u]||
{},j=d.extend({type:u,origType:j,data:h,handler:q,guid:q.guid,selector:e,needsContext:e&&d.expr.match.needsContext.test(e),namespace:D.join(".")},r),(w=k[u])||(w=k[u]=[],w.delegateCount=0,l.setup&&!1!==l.setup.call(a,h,D,v)||(a.addEventListener?a.addEventListener(u,v,!1):a.attachEvent&&a.attachEvent("on"+u,v))),l.add&&(l.add.call(a,j),j.handler.guid||(j.handler.guid=q.guid)),e?w.splice(w.delegateCount++,0,j):w.push(j),d.event.global[u]=!0;a=null}},remove:function(a,b,c,h,e){var l,k,f,r,v,j,w,u,B,
D,m,p=d.hasData(a)&&d._data(a);if(p&&(j=p.events)){b=(b||"").match(Ba)||[""];for(v=b.length;v--;)if(f=Lb.exec(b[v])||[],B=m=f[1],D=(f[2]||"").split(".").sort(),B){w=d.event.special[B]||{};B=(h?w.delegateType:w.bindType)||B;u=j[B]||[];f=f[2]&&RegExp("(^|\\.)"+D.join("\\.(?:.*\\.|)")+"(\\.|$)");for(r=l=u.length;l--;)k=u[l],!e&&m!==k.origType||c&&c.guid!==k.guid||f&&!f.test(k.namespace)||h&&h!==k.selector&&("**"!==h||!k.selector)||(u.splice(l,1),k.selector&&u.delegateCount--,w.remove&&w.remove.call(a,
k));r&&!u.length&&(w.teardown&&!1!==w.teardown.call(a,D,p.handle)||d.removeEvent(a,B,p.handle),delete j[B])}else for(B in j)d.event.remove(a,B+b[v],c,h,!0);d.isEmptyObject(j)&&(delete p.handle,d._removeData(a,"events"))}},trigger:function(g,c,q,h){var e,l,k,f,r,v,j=[q||F],w=G.call(g,"type")?g.type:g;v=G.call(g,"namespace")?g.namespace.split("."):[];if(k=e=q=q||F,3!==q.nodeType&&8!==q.nodeType&&!Kb.test(w+d.event.triggered)&&(0<=w.indexOf(".")&&(v=w.split("."),w=v.shift(),v.sort()),l=0>w.indexOf(":")&&
"on"+w,g=g[d.expando]?g:new d.Event(w,"object"==typeof g&&g),g.isTrigger=!0,g.namespace=v.join("."),g.namespace_re=g.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=b,g.target||(g.target=q),c=null==c?[g]:d.makeArray(c,[g]),r=d.event.special[w]||{},h||!r.trigger||!1!==r.trigger.apply(q,c))){if(!h&&!r.noBubble&&!d.isWindow(q)){f=r.delegateType||w;for(Kb.test(f+w)||(k=k.parentNode);k;k=k.parentNode)j.push(k),e=k;e===(q.ownerDocument||F)&&j.push(e.defaultView||e.parentWindow||
a)}for(v=0;(k=j[v++])&&!g.isPropagationStopped();)g.type=1<v?f:r.bindType||w,(e=(d._data(k,"events")||{})[g.type]&&d._data(k,"handle"))&&e.apply(k,c),(e=l&&k[l])&&d.acceptData(k)&&e.apply&&!1===e.apply(k,c)&&g.preventDefault();if(g.type=w,!(h||g.isDefaultPrevented()||r._default&&!1!==r._default.apply(q.ownerDocument,c)||"click"===w&&d.nodeName(q,"a")||!d.acceptData(q)||!l||!q[w]||d.isWindow(q))){(e=q[l])&&(q[l]=null);d.event.triggered=w;try{q[w]()}catch(u){}d.event.triggered=b;e&&(q[l]=e)}return g.result}},
dispatch:function(a){a=d.event.fix(a);var c,q,h,e,l,k=[],f=ka.call(arguments);c=(d._data(this,"events")||{})[a.type]||[];var r=d.event.special[a.type]||{};if(f[0]=a,a.delegateTarget=this,!r.preDispatch||!1!==r.preDispatch.call(this,a)){k=d.event.handlers.call(this,a,c);for(c=0;(e=k[c++])&&!a.isPropagationStopped();){a.currentTarget=e.elem;for(l=0;(h=e.handlers[l++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(h.namespace))&&(a.handleObj=h,a.data=h.data,q=((d.event.special[h.origType]||
{}).handle||h.handler).apply(e.elem,f),q!==b&&!1===(a.result=q)&&(a.preventDefault(),a.stopPropagation()))}return r.postDispatch&&r.postDispatch.call(this,a),a.result}},handlers:function(a,c){var q,h,e,l,k=[],f=c.delegateCount,r=a.target;if(f&&r.nodeType&&(!a.button||"click"!==a.type))for(;r!=this;r=r.parentNode||this)if(1===r.nodeType&&(!0!==r.disabled||"click"!==a.type)){e=[];for(l=0;f>l;l++)h=c[l],q=h.selector+" ",e[q]===b&&(e[q]=h.needsContext?0<=d(q,this).index(r):d.find(q,this,null,[r]).length),
e[q]&&e.push(h);e.length&&k.push({elem:r,handlers:e})}return c.length>f&&k.push({elem:this,handlers:c.slice(f)}),k},fix:function(a){if(a[d.expando])return a;var b,c,h;b=a.type;var e=a,l=this.fixHooks[b];l||(this.fixHooks[b]=l=Tb.test(b)?this.mouseHooks:Pa.test(b)?this.keyHooks:{});h=l.props?this.props.concat(l.props):this.props;a=new d.Event(e);for(b=h.length;b--;)c=h[b],a[c]=e[c];return a.target||(a.target=e.srcElement||F),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,
l.filter?l.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var c,h,e,l=d.button,k=d.fromElement;
return null==a.pageX&&null!=d.clientX&&(h=a.target.ownerDocument||F,e=h.documentElement,c=h.body,a.pageX=d.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=d.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&k&&(a.relatedTarget=k===a.target?d.toElement:k),a.which||l===b||(a.which=1&l?1:2&l?3:4&l?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return d.nodeName(this,"input")&&"checkbox"===this.type&&
this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==F.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===F.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,h){a=d.extend(new d.Event,c,{type:a,isSimulated:!0,originalEvent:{}});h?d.event.trigger(a,null,b):d.event.dispatch.call(b,
a);a.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=F.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){b="on"+b;a.detachEvent&&(typeof a[b]===B&&(a[b]=null),a.detachEvent(b,d))};d.Event=function(a,c){return this instanceof d.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?m:p):this.type=a,c&&d.extend(this,c),this.timeStamp=
a&&a.timeStamp||d.now(),this[d.expando]=!0,b):new d.Event(a,c)};d.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
m;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={delegateType:b,bindType:b,handle:function(a){var g,c=a.relatedTarget,h=a.handleObj;return(!c||c!==this&&!d.contains(this,c))&&(a.type=h.origType,g=h.handler.apply(this,arguments),a.type=b),g}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){return d.nodeName(this,"form")?!1:(d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=d.nodeName(a,
"input")||d.nodeName(a,"button")?a.form:b)&&!d._data(a,"submitBubbles")&&(d.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),d._data(a,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&d.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return d.nodeName(this,"form")?!1:(d.event.remove(this,"._submit"),b)}});d.support.changeBubbles||(d.event.special.change={setup:function(){return tb.test(this.nodeName)?
(("checkbox"===this.type||"radio"===this.type)&&(d.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),d.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,a,!0)})),!1):(d.event.add(this,"beforeactivate._change",function(a){a=a.target;tb.test(a.nodeName)&&!d._data(a,"changeBubbles")&&(d.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||
a.isTrigger||d.event.simulate("change",this.parentNode,a,!0)}),d._data(a,"changeBubbles",!0))}),b)},handle:function(a){var d=a.target;return this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return d.event.remove(this,"._change"),!tb.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,h=function(a){d.event.simulate(b,a.target,d.event.fix(a),!0)};d.event.special[b]=
{setup:function(){0===c++&&F.addEventListener(a,h,!0)},teardown:function(){0===--c&&F.removeEventListener(a,h,!0)}}});d.fn.extend({on:function(a,c,h,e,l){var k,f;if("object"==typeof a){"string"!=typeof c&&(h=h||c,c=b);for(k in a)this.on(k,c,h,a[k],l);return this}if(null==h&&null==e?(e=c,h=c=b):null==e&&("string"==typeof c?(e=h,h=b):(e=h,h=c,c=b)),!1===e)e=p;else if(!e)return this;return 1===l&&(f=e,e=function(a){return d().off(a),f.apply(this,arguments)},e.guid=f.guid||(f.guid=d.guid++)),this.each(function(){d.event.add(this,
a,e,h,c)})},one:function(a,b,d,c){return this.on(a,b,d,c,1)},off:function(a,c,h){var e,l;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,d(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(l in a)this.off(l,c,a[l]);return this}return(!1===c||"function"==typeof c)&&(h=c,c=b),!1===h&&(h=p),this.each(function(){d.event.remove(this,a,h,c)})},bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,
null,b)},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,c){var h=this[0];return h?d.event.trigger(a,c,h,!0):b}});var ub=a,nb=function(){var a,b=[];return a=function(d,c){return b.push(d+=" ")>aa.cacheLength&&delete a[b.shift()],a[d]=c}},ya=function(a){return a[ma]=!0,a},Aa=function(a){var b=za.createElement("div");
try{return a(b)}catch(d){return!1}finally{}},Z=function(a,b,d,c){var h,e,l,k,f;if((b?b.ownerDocument||b:ob)!==za&&vb(b),b=b||za,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(!La&&!c){if(h=Zc.exec(a))if(l=h[1])if(9===k){if(e=b.getElementById(l),!e||!e.parentNode)return d;if(e.id===l)return d.push(e),d}else{if(b.ownerDocument&&(e=b.ownerDocument.getElementById(l))&&Mb(b,e)&&e.id===l)return d.push(e),d}else{if(h[2])return wb.apply(d,xb.call(b.getElementsByTagName(a),
0)),d;if((l=h[3])&&pa.getByClassName&&b.getElementsByClassName)return wb.apply(d,xb.call(b.getElementsByClassName(l),0)),d}if(pa.qsa&&!Qa.test(a)){if(h=!0,e=ma,l=b,f=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){k=Ya(a);(h=b.getAttribute("id"))?e=h.replace($c,"\\$&"):b.setAttribute("id",e);e="[id='"+e+"'] ";for(l=k.length;l--;)k[l]=e+yb(k[l]);l=fc.test(a)&&b.parentNode||b;f=k.join(",")}if(f)try{return wb.apply(d,xb.call(l.querySelectorAll(f),0)),d}catch(r){}finally{h||b.removeAttribute("id")}}}var v;
a:{a=a.replace(Ub,"$1");var j,w;e=Ya(a);if(!c&&1===e.length){if(v=e[0]=e[0].slice(0),2<v.length&&"ID"===(j=v[0]).type&&9===b.nodeType&&!La&&aa.relative[v[1].type]){if(b=aa.find.ID(j.matches[0].replace(cb,db),b)[0],!b){v=d;break a}a=a.slice(v.shift().value.length)}for(k=Vb.needsContext.test(a)?0:v.length;k--&&!(j=v[k],aa.relative[h=j.type]);)if((w=aa.find[h])&&(c=w(j.matches[0].replace(cb,db),fc.test(v[0].type)&&b.parentNode||b))){if(v.splice(k,1),a=c.length&&yb(v),!a){v=(wb.apply(d,xb.call(c,0)),
d);break a}break}}v=(gc(a,e)(c,b,La,d,fc.test(a)),d)}return v},zb=function(a,b){var d=b&&a,c=d&&(~b.sourceIndex||wc)-(~a.sourceIndex||wc);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1},Ab=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Za=function(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}},Ma=function(a){return ya(function(b){return b=+b,ya(function(d,c){for(var h,e=a([],d.length,
b),l=e.length;l--;)d[h=e[l]]&&(d[h]=!(c[h]=d[h]))})})},Ya=function(a,b){var d,c,h,e,l,k,f;if(l=xc[a+" "])return b?0:l.slice(0);l=a;k=[];for(f=aa.preFilter;l;){(!d||(c=ad.exec(l)))&&(c&&(l=l.slice(c[0].length)||l),k.push(h=[]));d=!1;(c=bd.exec(l))&&(d=c.shift(),h.push({value:d,type:c[0].replace(Ub," ")}),l=l.slice(d.length));for(e in aa.filter)!(c=Vb[e].exec(l))||f[e]&&!(c=f[e](c))||(d=c.shift(),h.push({value:d,type:e,matches:c}),l=l.slice(d.length));if(!d)break}return b?l.length:l?Z.error(a):xc(a,
k).slice(0)},yb=function(a){for(var b=0,d=a.length,c="";d>b;b++)c+=a[b].value;return c},Bb=function(a,b,d){var c=b.dir,h=d&&"parentNode"===c,e=cd++;return b.first?function(b,d,e){for(;b=b[c];)if(1===b.nodeType||h)return a(b,d,e)}:function(b,d,q){var l,z,k,f=Ra+" "+e;if(q)for(;b=b[c];){if((1===b.nodeType||h)&&a(b,d,q))return!0}else for(;b=b[c];)if(1===b.nodeType||h)if(k=b[ma]||(b[ma]={}),(z=k[c])&&z[0]===f){if(!0===(l=z[1])||l===Wb)return!0===l}else if(z=k[c]=[f],z[1]=a(b,d,q)||Wb,!0===z[1])return!0}},
Xb=function(a){return 1<a.length?function(b,d,c){for(var h=a.length;h--;)if(!a[h](b,d,c))return!1;return!0}:a[0]},Nb=function(a,b,d,c,h){for(var e,l=[],k=0,f=a.length,r=null!=b;f>k;k++)(e=a[k])&&(!d||d(e,c,h))&&(l.push(e),r&&b.push(k));return l},eb=function(a,b,d,c,h,e){return c&&!c[ma]&&(c=eb(c)),h&&!h[ma]&&(h=eb(h,e)),ya(function(e,l,k,f){var r,v,j=[],w=[],u=l.length,B;if(!(B=e)){B=b||"*";for(var qa=k.nodeType?[k]:k,D=[],p=0,m=qa.length;m>p;p++)Z(B,qa[p],D);B=D}B=!a||!e&&b?B:Nb(B,j,a,k,f);qa=d?
h||(e?a:u||c)?[]:l:B;if(d&&d(B,qa,k,f),c){r=Nb(qa,w);c(r,[],k,f);for(k=r.length;k--;)(v=r[k])&&(qa[w[k]]=!(B[w[k]]=v))}if(e){if(h||a){if(h){r=[];for(k=qa.length;k--;)(v=qa[k])&&r.push(B[k]=v);h(null,qa=[],r,f)}for(k=qa.length;k--;)(v=qa[k])&&-1<(r=h?hc.call(e,v):j[k])&&(e[r]=!(l[r]=v))}}else qa=Nb(qa===l?qa.splice(u,qa.length):qa),h?h(null,l,qa,f):wb.apply(l,qa)})},ic=function(a){var b,d,c,h=a.length,e=aa.relative[a[0].type];d=e||aa.relative[" "];for(var l=e?1:0,k=Bb(function(a){return a===b},d,!0),
f=Bb(function(a){return-1<hc.call(b,a)},d,!0),r=[function(a,g,d){return!e&&(d||g!==Yb)||((b=g).nodeType?k(a,g,d):f(a,g,d))}];h>l;l++)if(d=aa.relative[a[l].type])r=[Bb(Xb(r),d)];else{if(d=aa.filter[a[l].type].apply(null,a[l].matches),d[ma]){for(c=++l;h>c&&!aa.relative[a[c].type];c++);return eb(1<l&&Xb(r),1<l&&yb(a.slice(0,l-1)).replace(Ub,"$1"),d,c>l&&ic(a.slice(l,c)),h>c&&ic(a=a.slice(c)),h>c&&yb(a))}r.push(d)}return Xb(r)},yc=function(){},Cb,Wb,aa,Zb,zc,gc,Db,Yb,vb,za,Fa,La,Qa,Eb,$b,Mb,jc,ma="sizzle"+
-new Date,ob=ub.document,pa={},Ra=0,cd=0,Ac=nb(),xc=nb(),Bc=nb(),wc=-2147483648,ac=[],dd=ac.pop,wb=ac.push,xb=ac.slice,hc=ac.indexOf||function(a){for(var b=0,d=this.length;d>b;b++)if(this[b]===a)return b;return-1},Cc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Dc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Cc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",kc=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
Dc.replace(3,8)+")*)|.*)\\)|)",Ub=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ad=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,bd=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ed=RegExp(kc),fd=RegExp("^"+Cc+"$"),Vb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Dc),PSEUDO:RegExp("^"+kc),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},fc=/[\x20\t\r\n\f]*[+~]/,lc=/^[^{]+\{\s*\[native code/,Zc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gd=/^(?:input|select|textarea|button)$/i,hd=/^h\d$/i,$c=/'|\\/g,jd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cb=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,db=function(a,b){var d="0x"+b-65536;return d!==d?b:0>d?String.fromCharCode(d+65536):
String.fromCharCode(55296|d>>10,56320|1023&d)};try{xb.call(ob.documentElement.childNodes,0)[0].nodeType}catch(Id){xb=function(a){for(var b,d=[];b=this[a++];)d.push(b);return d}}zc=Z.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};vb=Z.setDocument=function(a){var b=a?a.ownerDocument||a:ob;if(b!==za&&9===b.nodeType&&b.documentElement){za=b;Fa=b.documentElement;La=zc(b);pa.tagNameNoComments=Aa(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length});
pa.attributes=Aa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});pa.getByClassName=Aa(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1});pa.getByName=Aa(function(a){a.id=ma+0;a.innerHTML="<a name='"+ma+"'></a><div name='"+ma+"'></div>";Fa.insertBefore(a,
Fa.firstChild);var g=b.getElementsByName&&b.getElementsByName(ma).length===2+b.getElementsByName(ma+0).length;return pa.getIdNotName=!b.getElementById(ma),Fa.removeChild(a),g});aa.attrHandle=Aa(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};pa.getIdNotName?(aa.find.ID=function(a,g){if("undefined"!==
typeof g.getElementById&&!La){var b=g.getElementById(a);return b&&b.parentNode?[b]:[]}},aa.filter.ID=function(a){var g=a.replace(cb,db);return function(a){return a.getAttribute("id")===g}}):(aa.find.ID=function(a,g){if("undefined"!==typeof g.getElementById&&!La){var b=g.getElementById(a);return b?b.id===a||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").value===a?[b]:void 0:[]}},aa.filter.ID=function(a){var g=a.replace(cb,db);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id"))&&a.value===g}});aa.find.TAG=pa.tagNameNoComments?function(a,g){return"undefined"!==typeof g.getElementsByTagName?g.getElementsByTagName(a):void 0}:function(a,g){var b,d=[],c=0,h=g.getElementsByTagName(a);if("*"===a){for(;b=h[c++];)1===b.nodeType&&d.push(b);return d}return h};aa.find.NAME=pa.getByName&&function(a,g){return"undefined"!==typeof g.getElementsByName?g.getElementsByName(name):void 0};aa.find.CLASS=pa.getByClassName&&function(a,g){return"undefined"===typeof g.getElementsByClassName||
La?void 0:g.getElementsByClassName(a)};Eb=[];Qa=[":focus"];(pa.qsa=lc.test(b.querySelectorAll+""))&&(Aa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||Qa.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||Qa.push(":checked")}),Aa(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&Qa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");
a.querySelectorAll(":enabled").length||Qa.push(":enabled",":disabled");a.querySelectorAll("*,:x");Qa.push(",.*:")}));a=pa;var d;d=$b=Fa.matchesSelector||Fa.mozMatchesSelector||Fa.webkitMatchesSelector||Fa.oMatchesSelector||Fa.msMatchesSelector;d=lc.test(d+"");a=((a.matchesSelector=d)&&Aa(function(a){pa.disconnectedMatch=$b.call(a,"div");$b.call(a,"[s!='']:x");Eb.push("!=",kc)}),Qa=RegExp(Qa.join("|")),Eb=RegExp(Eb.join("|")),Mb=lc.test(Fa.contains+"")||Fa.compareDocumentPosition?function(a,g){var b=
9===a.nodeType?a.documentElement:a,d=g&&g.parentNode;return a===d||!(!d||1!==d.nodeType||!(b.contains?b.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,g){if(g)for(;g=g.parentNode;)if(g===a)return!0;return!1},jc=Fa.compareDocumentPosition?function(a,g){var d;return a===g?(Db=!0,0):(d=g.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(g))?1&d||a.parentNode&&11===a.parentNode.nodeType?a===b||Mb(ob,a)?-1:g===b||Mb(ob,g)?1:0:4&d?-1:1:a.compareDocumentPosition?
-1:1}:function(a,g){var d,c=0;d=a.parentNode;var h=g.parentNode,e=[a],l=[g];if(a===g)return Db=!0,0;if(!d||!h)return a===b?-1:g===b?1:d?-1:h?1:0;if(d===h)return zb(a,g);for(d=a;d=d.parentNode;)e.unshift(d);for(d=g;d=d.parentNode;)l.unshift(d);for(;e[c]===l[c];)c++;return c?zb(e[c],l[c]):e[c]===ob?-1:l[c]===ob?1:0},Db=!1,[0,0].sort(jc),pa.detectDuplicates=Db,za)}else a=za;return a};Z.matches=function(a,b){return Z(a,null,null,b)};Z.matchesSelector=function(a,b){if((a.ownerDocument||a)!==za&&vb(a),
b=b.replace(jd,"='$1']"),!(!pa.matchesSelector||La||Eb&&Eb.test(b)||Qa.test(b)))try{var d=$b.call(a,b);if(d||pa.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(c){}return 0<Z(b,za,null,[a]).length};Z.contains=function(a,b){return(a.ownerDocument||a)!==za&&vb(a),Mb(a,b)};Z.attr=function(a,b){var d;return(a.ownerDocument||a)!==za&&vb(a),La||(b=b.toLowerCase()),(d=aa.attrHandle[b])?d(a):La||pa.attributes?a.getAttribute(b):((d=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?
b:d&&d.specified?d.value:null};Z.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};Z.uniqueSort=function(a){var b,d=[],c=1,h=0;if(Db=!pa.detectDuplicates,a.sort(jc),Db){for(;b=a[c];c++)b===a[c-1]&&(h=d.push(c));for(;h--;)a.splice(d[h],1)}return a};Zb=Z.getText=function(a){var b,d="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=Zb(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=
a[c];c++)d+=Zb(b);return d};aa=Z.selectors={cacheLength:50,createPseudo:ya,match:Vb,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||Z.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||
"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&Z.error(a[0]),a},PSEUDO:function(a){var b,d=!a[5]&&a[2];return Vb.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:d&&ed.test(d)&&(b=Ya(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(a[0]=a[0].slice(0,b),a[2]=d.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(cb,db).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=Ac[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+
a+"([\\x20\\t\\r\\n\\f]|$)"))&&Ac(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(c){c=Z.attr(c,a);return null==c?"!="===b:b?(c+="","="===b?c===d:"!="===b?c!==d:"^="===b?d&&0===c.indexOf(d):"*="===b?d&&-1<c.indexOf(d):"$="===b?d&&c.slice(-d.length)===d:"~="===b?-1<(" "+c+" ").indexOf(d):"|="===b?c===d||c.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,d,c,h){var e="nth"!==a.slice(0,3),l="last"!==
a.slice(-4),k="of-type"===b;return 1===c&&0===h?function(a){return!!a.parentNode}:function(b,d,q){var f,z,r,v,j;d=e!==l?"nextSibling":"previousSibling";var w=b.parentNode,u=k&&b.nodeName.toLowerCase();q=!q&&!k;if(w){if(e){for(;d;){for(z=b;z=z[d];)if(k?z.nodeName.toLowerCase()===u:1===z.nodeType)return!1;j=d="only"===a&&!j&&"nextSibling"}return!0}if(j=[l?w.firstChild:w.lastChild],l&&q){q=w[ma]||(w[ma]={});f=q[a]||[];v=f[0]===Ra&&f[1];r=f[0]===Ra&&f[2];for(z=v&&w.childNodes[v];z=++v&&z&&z[d]||(r=v=
0)||j.pop();)if(1===z.nodeType&&++r&&z===b){q[a]=[Ra,v,r];break}}else if(q&&(f=(b[ma]||(b[ma]={}))[a])&&f[0]===Ra)r=f[1];else for(;(z=++v&&z&&z[d]||(r=v=0)||j.pop())&&(!(k?z.nodeName.toLowerCase()===u:1===z.nodeType)||!++r||!(q&&((z[ma]||(z[ma]={}))[a]=[Ra,r]),z===b)););return r-=h,r===c||0===r%c&&0<=r/c}}},PSEUDO:function(a,b){var d,c=aa.pseudos[a]||aa.setFilters[a.toLowerCase()]||Z.error("unsupported pseudo: "+a);return c[ma]?c(b):1<c.length?(d=[a,a,"",b],aa.setFilters.hasOwnProperty(a.toLowerCase())?
ya(function(a,g){for(var d,h=c(a,b),e=h.length;e--;)d=hc.call(a,h[e]),a[d]=!(g[d]=h[e])}):function(a){return c(a,0,d)}):c}},pseudos:{not:ya(function(a){var b=[],d=[],c=gc(a.replace(Ub,"$1"));return c[ma]?ya(function(a,b,g,d){var h;g=c(a,null,d,[]);for(d=a.length;d--;)(h=g[d])&&(a[d]=!(b[d]=h))}):function(a,g,h){return b[0]=a,c(b,null,h,d),!d.pop()}}),has:ya(function(a){return function(b){return 0<Z(a,b).length}}),contains:ya(function(a){return function(b){return-1<(b.textContent||b.innerText||Zb(b)).indexOf(a)}}),
lang:ya(function(a){return fd.test(a||"")||Z.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var d;do if(d=La?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=ub.location&&ub.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Fa},focus:function(a){return a===za.activeElement&&(!za.hasFocus||za.hasFocus())&&!(!a.type&&
!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!aa.pseudos.empty(a)},header:function(a){return hd.test(a.nodeName)},
input:function(a){return gd.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:Ma(function(){return[0]}),last:Ma(function(a,b){return[b-1]}),eq:Ma(function(a,b,d){return[0>d?d+b:d]}),even:Ma(function(a,b){for(var d=0;b>d;d+=2)a.push(d);return a}),odd:Ma(function(a,b){for(var d=1;b>
d;d+=2)a.push(d);return a}),lt:Ma(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);return a}),gt:Ma(function(a,b,d){for(d=0>d?d+b:d;b>++d;)a.push(d);return a})}};for(Cb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[Cb]=Ab(Cb);for(Cb in{submit:!0,reset:!0})aa.pseudos[Cb]=Za(Cb);gc=Z.compile=function(a,b){var d,c=[],h=[],e=Bc[a+" "];if(!e){b||(b=Ya(a));for(d=b.length;d--;)e=ic(b[d]),e[ma]?c.push(e):h.push(e);var l=0,k=0<c.length,f=0<h.length;d=function(a,b,d,g,e){var q,r,z=[],v=
0,j="0",w=a&&[],u=null!=e,B=Yb,D=a||f&&aa.find.TAG("*",e&&b.parentNode||b),p=Ra+=null==B?1:Math.random()||0.1;for(u&&(Yb=b!==za&&b,Wb=l);null!=(e=D[j]);j++){if(f&&e){for(q=0;r=h[q++];)if(r(e,b,d)){g.push(e);break}u&&(Ra=p,Wb=++l)}k&&((e=!r&&e)&&v--,a&&w.push(e))}if(v+=j,k&&j!==v){for(q=0;r=c[q++];)r(w,z,b,d);if(a){if(0<v)for(;j--;)w[j]||z[j]||(z[j]=dd.call(g));z=Nb(z)}wb.apply(g,z);u&&!a&&0<z.length&&1<v+c.length&&Z.uniqueSort(g)}return u&&(Ra=p,Yb=B),w};d=k?ya(d):d;e=Bc(a,d)}return e};aa.pseudos.nth=
aa.pseudos.eq;aa.filters=yc.prototype=aa.pseudos;aa.setFilters=new yc;vb();Z.attr=d.attr;d.find=Z;d.expr=Z.selectors;d.expr[":"]=d.expr.pseudos;d.unique=Z.uniqueSort;d.text=Z.getText;d.isXMLDoc=Z.isXML;d.contains=Z.contains;var kd=/Until$/,ld=/^(?:parents|prev(?:Until|All))/,Uc=/^.[^:#\[\.,]*$/,Ec=d.expr.match.needsContext,md={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b,c,h,e=this.length;if("string"!=typeof a)return h=this,this.pushStack(d(a).filter(function(){for(b=
0;e>b;b++)if(d.contains(h[b],this))return!0}));c=[];for(b=0;e>b;b++)d.find(a,this[b],c);return c=this.pushStack(1<e?d.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,c=d(a,this),h=c.length;return this.filter(function(){for(b=0;h>b;b++)if(d.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(S(this,a,!1))},filter:function(a){return this.pushStack(S(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Ec.test(a)?0<=d(a,this.context).index(this[0]):
0<d.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,h=0,e=this.length,l=[],k=Ec.test(a)||"string"!=typeof a?d(a,b||this.context):0;e>h;h++)for(c=this[h];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(k?-1<k.index(c):d.find.matchesSelector(c,a)){l.push(c);break}c=c.parentNode}return this.pushStack(1<l.length?d.unique(l):l)},index:function(a){return a?"string"==typeof a?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(a,b){var c="string"==typeof a?d(a,b):d.makeArray(a&&a.nodeType?[a]:a),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return P(a,"nextSibling")},prev:function(a){return P(a,
"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.merge([],a.childNodes)}},function(a,
b){d.fn[a]=function(c,h){var e=d.map(this,b,c);return kd.test(a)||(h=c),h&&"string"==typeof h&&(e=d.filter(h,e)),e=1<this.length&&!md[a]?d.unique(e):e,1<this.length&&ld.test(a)&&(e=e.reverse()),this.pushStack(e)}});d.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,c,h){var e=[];for(a=a[c];a&&9!==a.nodeType&&(h===b||1!==a.nodeType||!d(a).is(h));)1===a.nodeType&&e.push(a),a=a[c];return e},sibling:function(a,
b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var tc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",nd=/ jQuery\d+="(?:null|\d+)"/g,Fc=RegExp("<(?:"+tc+")[\\s/>]","i"),mc=/^\s+/,Gc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Hc=/<([\w:]+)/,Ic=/<tbody/i,od=/<|&#?\w+;/,pd=/<(?:script|style|link)/i,cc=/^(?:checkbox|radio)$/i,qd=/checked\s*(?:[^=]|=\s*.checked.)/i,
Jc=/^$|\/(?:java|ecma)script/i,Vc=/^true\/(.*)/,rd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ja={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},
nc=W(F).appendChild(F.createElement("div"));Ja.optgroup=Ja.option;Ja.tbody=Ja.tfoot=Ja.colgroup=Ja.caption=Ja.thead;Ja.th=Ja.td;d.fn.extend({text:function(a){return d.access(this,function(a){return a===b?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(b){d(this).wrapInner(a.call(this,b))}):this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=d.isFunction(a);return this.each(function(c){d(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,
"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,h=0;null!=(c=this[h]);h++)(!a||0<d.filter(a,[c]).length)&&(b||1!==c.nodeType||d.cleanData(s(c)),c.parentNode&&(b&&d.contains(c.ownerDocument,c)&&N(s(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&d.cleanData(s(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&d.nodeName(a,"select")&&(a.options.length=
0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return d.clone(this,a,b)})},html:function(a){return d.access(this,function(a){var c=this[0]||{},g=0,h=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(nd,""):b;if(!("string"!=typeof a||pd.test(a)||!d.support.htmlSerialize&&Fc.test(a)||!d.support.leadingWhitespace&&mc.test(a)||Ja[(Hc.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Gc,"<$1></$2>");try{for(;h>g;g++)c=this[g]||{},1===c.nodeType&&
(d.cleanData(s(c,!1)),c.innerHTML=a);c=0}catch(e){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return d.isFunction(a)||"string"==typeof a||(a=d(a).not(this).detach()),this.domManip([a],!0,function(a){var b=this.nextSibling,c=this.parentNode;c&&(d(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,h){a=da.apply([],a);var e,l,k,f,r=0,v=this.length,j=this,w=v-1,u=a[0],B=d.isFunction(u);if(B||!(1>=v||"string"!=typeof u||
d.support.checkClone)&&qd.test(u))return this.each(function(d){var e=j.eq(d);B&&(a[0]=u.call(this,d,c?e.html():b));e.domManip(a,c,h)});if(v&&(f=d.buildFragment(a,this[0].ownerDocument,!1,this),e=f.firstChild,1===f.childNodes.length&&(f=e),e)){c=c&&d.nodeName(e,"tr");k=d.map(s(f,"script"),y);for(l=k.length;v>r;r++)e=f,r!==w&&(e=d.clone(e,!0,!0),l&&d.merge(k,s(e,"script"))),h.call(c&&d.nodeName(this[r],"table")?this[r].getElementsByTagName("tbody")[0]||this[r].appendChild(this[r].ownerDocument.createElement("tbody")):
this[r],e,r);if(l){f=k[k.length-1].ownerDocument;d.map(k,A);for(r=0;l>r;r++)e=k[r],Jc.test(e.type||"")&&!d._data(e,"globalEval")&&d.contains(f,e)&&(e.src?d.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((e.text||e.textContent||e.innerHTML||"").replace(rd,"")))}f=e=null}return this}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(a){for(var c=0,g=[],h=d(a),
e=h.length-1;e>=c;c++)a=c===e?this:this.clone(!0),d(h[c])[b](a),ta.apply(g,a.get());return this.pushStack(g)}});d.extend({clone:function(a,b,c){var h,e,l,k,f,r=d.contains(a.ownerDocument,a);if(d.support.html5Clone||d.isXMLDoc(a)||!Fc.test("<"+a.nodeName+">")?l=a.cloneNode(!0):(nc.innerHTML=a.outerHTML,nc.removeChild(l=nc.firstChild)),!(d.support.noCloneEvent&&d.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||d.isXMLDoc(a))){h=s(l);f=s(a);for(k=0;null!=(e=f[k]);++k)if(h[k]){var v=h[k],j=void 0,
w=void 0,u=void 0;if(1===v.nodeType){if(j=v.nodeName.toLowerCase(),!d.support.noCloneEvent&&v[d.expando]){u=d._data(v);for(w in u.events)d.removeEvent(v,w,u.handle);v.removeAttribute(d.expando)}"script"===j&&v.text!==e.text?(y(v).text=e.text,A(v)):"object"===j?(v.parentNode&&(v.outerHTML=e.outerHTML),d.support.html5Clone&&e.innerHTML&&!d.trim(v.innerHTML)&&(v.innerHTML=e.innerHTML)):"input"===j&&cc.test(e.type)?(v.defaultChecked=v.checked=e.checked,v.value!==e.value&&(v.value=e.value)):"option"===
j?v.defaultSelected=v.selected=e.defaultSelected:("input"===j||"textarea"===j)&&(v.defaultValue=e.defaultValue)}}}if(b)if(c){f=f||s(a);h=h||s(l);for(k=0;null!=(e=f[k]);k++)X(e,h[k])}else X(a,l);return h=s(l,"script"),0<h.length&&N(h,!r&&s(a,"script")),l},buildFragment:function(a,b,c,h){for(var e,l,k,f,r,v,j,w=a.length,u=W(b),B=[],D=0;w>D;D++)if(l=a[D],l||0===l)if("object"===d.type(l))d.merge(B,l.nodeType?[l]:l);else if(od.test(l)){f=f||u.appendChild(b.createElement("div"));r=(Hc.exec(l)||["",""])[1].toLowerCase();
j=Ja[r]||Ja._default;f.innerHTML=j[1]+l.replace(Gc,"<$1></$2>")+j[2];for(e=j[0];e--;)f=f.lastChild;if(!d.support.leadingWhitespace&&mc.test(l)&&B.push(b.createTextNode(mc.exec(l)[0])),!d.support.tbody)for(e=(l="table"!==r||Ic.test(l)?"<table>"!==j[1]||Ic.test(l)?0:f:f.firstChild)&&l.childNodes.length;e--;)d.nodeName(v=l.childNodes[e],"tbody")&&!v.childNodes.length&&l.removeChild(v);d.merge(B,f.childNodes);for(f.textContent="";f.firstChild;)f.removeChild(f.firstChild);f=u.lastChild}else B.push(b.createTextNode(l));
f&&u.removeChild(f);d.support.appendChecked||d.grep(s(B,"input"),U);for(D=0;l=B[D++];)if((!h||-1===d.inArray(l,h))&&(k=d.contains(l.ownerDocument,l),f=s(u.appendChild(l),"script"),k&&N(f),c))for(e=0;l=f[e++];)Jc.test(l.type||"")&&c.push(l);return u},cleanData:function(a,b){for(var c,h,e,l,k=0,f=d.expando,r=d.cache,v=d.support.deleteExpando,j=d.event.special;null!=(c=a[k]);k++)if((b||d.acceptData(c))&&(e=c[f],l=e&&r[e])){if(l.events)for(h in l.events)j[h]?d.event.remove(c,h):d.removeEvent(c,h,l.handle);
r[e]&&(delete r[e],v?delete c[f]:typeof c.removeAttribute!==B?c.removeAttribute(f):c[f]=null,Ca.push(e))}}});var Gb,hb,ib,oc=/alpha\([^)]*\)/i,sd=/opacity\s*=\s*([^)]*)/,td=/^(top|right|bottom|left)$/,ud=/^(none|table(?!-c[ea]).+)/,Kc=/^margin/,Wc=RegExp("^("+Da+")(.*)$","i"),Pb=RegExp("^("+Da+")(?!px)[a-z%]+$","i"),vd=RegExp("^([+-])=("+Da+")","i"),vc={BODY:"block"},wd={position:"absolute",visibility:"hidden",display:"block"},Lc={letterSpacing:0,fontWeight:400},gb=["Top","Right","Bottom","Left"],
uc=["Webkit","O","Moz","ms"];d.fn.extend({css:function(a,c){return d.access(this,function(a,c,g){var h,e={},l=0;if(d.isArray(c)){h=hb(a);for(g=c.length;g>l;l++)e[c[l]]=d.css(a,c[l],!1,h);return e}return g!==b?d.style(a,c,g):d.css(a,c)},a,c,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:V(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=
ib(a,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,h,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var l,k,f,r=d.camelCase(c),v=a.style;if(c=d.cssProps[r]||(d.cssProps[r]=K(v,r)),f=d.cssHooks[c]||d.cssHooks[r],h===b)return f&&"get"in f&&(l=f.get(a,!1,e))!==b?l:v[c];if(k=typeof h,"string"===k&&(l=vd.exec(h))&&
(h=(l[1]+1)*l[2]+parseFloat(d.css(a,c)),k="number"),!(null==h||"number"===k&&isNaN(h)||("number"!==k||d.cssNumber[r]||(h+="px"),d.support.clearCloneStyle||""!==h||0!==c.indexOf("background")||(v[c]="inherit"),f&&"set"in f&&(h=f.set(a,h,e))===b)))try{v[c]=h}catch(j){}}},css:function(a,c,h,e){var l,k,f,r=d.camelCase(c);return c=d.cssProps[r]||(d.cssProps[r]=K(a.style,r)),f=d.cssHooks[c]||d.cssHooks[r],f&&"get"in f&&(k=f.get(a,!0,h)),k===b&&(k=ib(a,c,e)),"normal"===k&&c in Lc&&(k=Lc[c]),""===h||h?(l=
parseFloat(k),!0===h||d.isNumeric(l)?l||0:k):k},swap:function(a,b,d,c){var h,e={};for(h in b)e[h]=a.style[h],a.style[h]=b[h];d=d.apply(a,c||[]);for(h in b)a.style[h]=e[h];return d}});a.getComputedStyle?(hb=function(b){return a.getComputedStyle(b,null)},ib=function(a,c,h){var e,l,k,f=(h=h||hb(a))?h.getPropertyValue(c)||h[c]:b,r=a.style;return h&&(""!==f||d.contains(a.ownerDocument,a)||(f=d.style(a,c)),Pb.test(f)&&Kc.test(c)&&(e=r.width,l=r.minWidth,k=r.maxWidth,r.minWidth=r.maxWidth=r.width=f,f=h.width,
r.width=e,r.minWidth=l,r.maxWidth=k)),f}):F.documentElement.currentStyle&&(hb=function(a){return a.currentStyle},ib=function(a,d,c){var h,e,l;c=(c=c||hb(a))?c[d]:b;var k=a.style;return null==c&&k&&k[d]&&(c=k[d]),Pb.test(c)&&!td.test(d)&&(h=k.left,e=a.runtimeStyle,l=e&&e.left,l&&(e.left=a.currentStyle.left),k.left="fontSize"===d?"1em":c,c=k.pixelLeft+"px",k.left=h,l&&(e.left=l)),""===c?"auto":c});d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(a,g,h){return g?0===a.offsetWidth&&
ud.test(d.css(a,"display"))?d.swap(a,wd,function(){return Q(a,c,h)}):Q(a,c,h):b},set:function(a,b,g){var h=g&&hb(a);return j(a,b,g?C(a,c,g,d.support.boxSizing&&"border-box"===d.css(a,"boxSizing",!1,h),h):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return sd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,h=a.currentStyle,e=d.isNumeric(b)?"alpha(opacity="+100*b+")":"",l=h&&h.filter||c.filter||
"";c.zoom=1;(1<=b||""===b)&&""===d.trim(l.replace(oc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||h&&!h.filter)||(c.filter=oc.test(l)?l.replace(oc,e):l+" "+e)}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,c){return c?d.swap(a,{display:"inline-block"},ib,[a,"marginRight"]):b}});!d.support.pixelPosition&&d.fn.position&&d.each(["top","left"],function(a,c){d.cssHooks[c]={get:function(a,h){return h?(h=ib(a,c),Pb.test(h)?d(a).position()[c]+"px":
h):b}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!d.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||d.css(a,"display"))},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});d.each({margin:"",padding:"",border:"Width"},function(a,b){d.cssHooks[a+b]={expand:function(d){var c=0,h={};for(d="string"==typeof d?d.split(" "):[d];4>c;c++)h[a+gb[c]+b]=d[c]||d[c-2]||d[0];return h}};Kc.test(a)||(d.cssHooks[a+
b].set=j)});var xd=/%20/g,Xc=/\[\]$/,Mc=/\r?\n/g,yd=/^(?:submit|button|image|reset|file)$/i,zd=/^(?:input|select|textarea|keygen)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=d.prop(this,"elements");return a?d.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!d(this).is(":disabled")&&zd.test(this.nodeName)&&!yd.test(a)&&(this.checked||!cc.test(a))}).map(function(a,b){var c=d(this).val();
return null==c?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(Mc,"\r\n")}}):{name:b.name,value:c.replace(Mc,"\r\n")}}).get()}});d.param=function(a,c){var h,e=[],l=function(a,b){b=d.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){l(this.name,this.value)});else for(h in a)H(h,a[h],c,l);return e.join("&").replace(xd,
"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){d.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});d.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var pb,fb,pc=d.now(),qc=/\?/,Ad=/#.*$/,Nc=/([?&])_=[^&]*/,Bd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cd=/^(?:GET|HEAD)$/,
Dd=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=d.fn.load,Qc={},dc={},Rc="*/".concat("*");try{fb=ga.href}catch(Jd){fb=F.createElement("a"),fb.href="",fb=fb.href}pb=Oc.exec(fb.toLowerCase())||[];d.fn.load=function(a,c,h){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,l,k,f=this,r=a.indexOf(" ");return 0<=r&&(e=a.slice(r,a.length),a=a.slice(0,r)),d.isFunction(c)?(h=c,c=b):c&&"object"==typeof c&&(k="POST"),0<f.length&&d.ajax({url:a,type:k,dataType:"html",data:c}).done(function(a){l=
arguments;f.html(e?d("<div>").append(d.parseHTML(a)).find(e):a)}).complete(h&&function(a,b){f.each(h,l||[a.responseText,b,a])}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(a){return this.on(b,a)}});d.each(["get","post"],function(a,c){d[c]=function(a,h,g,e){return d.isFunction(h)&&(e=e||g,g=h,h=b),d.ajax({url:a,type:c,dataType:e,data:h,success:g})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fb,type:"GET",
isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,
context:!0}},ajaxSetup:function(a,b){return b?fa(fa(a,d.ajaxSettings),b):fa(d.ajaxSettings,a)},ajaxPrefilter:R(Qc),ajaxTransport:R(dc),ajax:function(a,c){function h(a,c,g,e){var l,w,q,z,T,s=c;if(2!==G){G=2;r&&clearTimeout(r);j=b;f=e||"";n.readyState=0<a?4:0;if(g){z=u;e=n;var x,F,C,t,Oa=z.contents,ga=z.dataTypes,Ta=z.responseFields;for(t in Ta)t in g&&(e[Ta[t]]=g[t]);for(;"*"===ga[0];)ga.shift(),F===b&&(F=z.mimeType||e.getResponseHeader("Content-Type"));if(F)for(t in Oa)if(Oa[t]&&Oa[t].test(F)){ga.unshift(t);
break}if(ga[0]in g)C=ga[0];else{for(t in g){if(!ga[0]||z.converters[t+" "+ga[0]]){C=t;break}x||(x=t)}C=C||x}z=C?(C!==ga[0]&&ga.unshift(C),g[C]):b}if(200<=a&&300>a||304===a)if(u.ifModified&&(T=n.getResponseHeader("Last-Modified"),T&&(d.lastModified[k]=T),T=n.getResponseHeader("etag"),T&&(d.etag[k]=T)),204===a)l=!0,s="nocontent";else if(304===a)l=!0,s="notmodified";else{var A;a:{g=u;l=z;var H,Ia;q={};T=0;s=g.dataTypes.slice();x=s[0];if(g.dataFilter&&(l=g.dataFilter(l,g.dataType)),s[1])for(H in g.converters)q[H.toLowerCase()]=
g.converters[H];for(;w=s[++T];)if("*"!==w){if("*"!==x&&x!==w){if(H=q[x+" "+w]||q["* "+w],!H)for(A in q)if(Ia=A.split(" "),Ia[1]===w&&(H=q[x+" "+Ia[0]]||q["* "+Ia[0]])){!0===H?H=q[A]:!0!==q[A]&&(w=Ia[0],s.splice(T--,0,w));break}if(!0!==H)if(H&&g["throws"])l=H(l);else try{l=H(l)}catch(Q){A={state:"parsererror",error:H?Q:"No conversion from "+x+" to "+w};break a}}x=w}A={state:"success",data:l}}l=A;s=l.state;w=l.data;q=l.error;l=!q}else q=s,(a||!s)&&(s="error",0>a&&(a=0));n.status=a;n.statusText=(c||
s)+"";l?p.resolveWith(B,[w,s,n]):p.rejectWith(B,[n,s,q]);n.statusCode(Xa);Xa=b;v&&D.trigger(l?"ajaxSuccess":"ajaxError",[n,u,l?w:q]);m.fireWith(B,[n,s]);v&&(D.trigger("ajaxComplete",[n,u]),--d.active||d.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b);c=c||{};var e,l,k,f,r,v,j,w,u=d.ajaxSetup({},c),B=u.context||u,D=u.context&&(B.nodeType||B.jquery)?d(B):d.event,p=d.Deferred(),m=d.Callbacks("once memory"),Xa=u.statusCode||{},T={},s={},G=0,F="canceled",n={readyState:0,getResponseHeader:function(a){var b;
if(2===G){if(!w)for(w={};b=Bd.exec(f);)w[b[1].toLowerCase()]=b[2];b=w[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===G?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return G||(a=s[c]=s[c]||a,T[a]=b),this},overrideMimeType:function(a){return G||(u.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>G)for(b in a)Xa[b]=[Xa[b],a[b]];else n.always(a[n.status]);return this},abort:function(a){a=a||F;return j&&j.abort(a),h(0,a),this}};if(p.promise(n).complete=
m.add,n.success=n.done,n.error=n.fail,u.url=((a||u.url||fb)+"").replace(Ad,"").replace(Dd,pb[1]+"//"),u.type=c.method||c.type||u.method||u.type,u.dataTypes=d.trim(u.dataType||"*").toLowerCase().match(Ba)||[""],null==u.crossDomain&&(e=Oc.exec(u.url.toLowerCase()),u.crossDomain=!(!e||e[1]===pb[1]&&e[2]===pb[2]&&(e[3]||("http:"===e[1]?80:443))==(pb[3]||("http:"===pb[1]?80:443)))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=d.param(u.data,u.traditional)),O(Qc,u,c,n),2===G)return n;(v=u.global)&&
0===d.active++&&d.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!Cd.test(u.type);k=u.url;u.hasContent||(u.data&&(k=u.url+=(qc.test(k)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Nc.test(k)?k.replace(Nc,"$1_="+pc++):k+(qc.test(k)?"&":"?")+"_="+pc++));u.ifModified&&(d.lastModified[k]&&n.setRequestHeader("If-Modified-Since",d.lastModified[k]),d.etag[k]&&n.setRequestHeader("If-None-Match",d.etag[k]));(u.data&&u.hasContent&&!1!==u.contentType||c.contentType)&&n.setRequestHeader("Content-Type",
u.contentType);n.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Rc+"; q=0.01":""):u.accepts["*"]);for(l in u.headers)n.setRequestHeader(l,u.headers[l]);if(u.beforeSend&&(!1===u.beforeSend.call(B,n,u)||2===G))return n.abort();F="abort";for(l in{success:1,error:1,complete:1})n[l](u[l]);if(j=O(dc,u,c,n)){n.readyState=1;v&&D.trigger("ajaxSend",[n,u]);u.async&&0<u.timeout&&(r=setTimeout(function(){n.abort("timeout")},u.timeout));
try{G=1,j.send(T,h)}catch(C){if(!(2>G))throw C;h(-1,C)}}else h(-1,"No Transport");return n},getScript:function(a,c){return d.get(a,b,c,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return d.globalEval(a),a}}});d.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&
(a.type="GET",a.global=!1)});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,h=F.head||d("head")[0]||F.documentElement;return{send:function(b,d){c=F.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||d(200,"success"))};h.insertBefore(c,h.firstChild)},abort:function(){c&&
c.onload(b,!0)}}}});var Sc=[],rc=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Sc.pop()||d.expando+"_"+pc++;return this[a]=!0,a}});d.ajaxPrefilter("json jsonp",function(c,h,e){var l,k,f,r=!1!==c.jsonp&&(rc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&rc.test(c.data)&&"data");return r||"jsonp"===c.dataTypes[0]?(l=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,r?c[r]=
c[r].replace(rc,"$1"+l):!1!==c.jsonp&&(c.url+=(qc.test(c.url)?"&":"?")+c.jsonp+"="+l),c.converters["script json"]=function(){return f||d.error(l+" was not called"),f[0]},c.dataTypes[0]="json",k=a[l],a[l]=function(){f=arguments},e.always(function(){a[l]=k;c[l]&&(c.jsonpCallback=h.jsonpCallback,Sc.push(l));f&&d.isFunction(k)&&k(f[0]);f=k=b}),"script"):b});var Fb,Ob,Ed=0,sc=a.ActiveXObject&&function(){for(var a in Fb)Fb[a](b,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&
ha()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:ha;Ob=d.ajaxSettings.xhr();d.support.cors=!!Ob&&"withCredentials"in Ob;(Ob=d.support.ajax=!!Ob)&&d.ajaxTransport(function(c){if(!c.crossDomain||d.support.cors){var h;return{send:function(e,l){var k,f,r=c.xhr();if(c.username?r.open(c.type,c.url,c.async,c.username,c.password):r.open(c.type,c.url,c.async),c.xhrFields)for(f in c.xhrFields)r[f]=c.xhrFields[f];c.mimeType&&r.overrideMimeType&&r.overrideMimeType(c.mimeType);
c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(f in e)r.setRequestHeader(f,e[f])}catch(v){}r.send(c.hasContent&&c.data||null);h=function(a,e){var f,v,j,u;try{if(h&&(e||4===r.readyState))if(h=b,k&&(r.onreadystatechange=d.noop,sc&&delete Fb[k]),e)4!==r.readyState&&r.abort();else{u={};f=r.status;v=r.getAllResponseHeaders();"string"==typeof r.responseText&&(u.text=r.responseText);try{j=r.statusText}catch(w){j=""}f||!c.isLocal||c.crossDomain?1223===f&&(f=204):f=
u.text?200:404}}catch(q){e||l(-1,q)}u&&l(f,j,u,v)};c.async?4===r.readyState?setTimeout(h):(k=++Ed,sc&&(Fb||(Fb={},d(a).unload(sc)),Fb[k]=h),r.onreadystatechange=h):h()},abort:function(){h&&h(b,!0)}}}});var qb,bc,Fd=/^(?:toggle|show|hide)$/,Gd=RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Hd=/queueHooks$/,Qb=[function(a,b,c){var h,e,l,k,f,r,v=this,j=a.style,u={},w=[],B=a.nodeType&&V(a);c.queue||(f=d._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,r=f.empty.fire,f.empty.fire=function(){f.unqueued||
r()}),f.unqueued++,v.always(function(){v.always(function(){f.unqueued--;d.queue(a,"fx").length||f.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[j.overflow,j.overflowX,j.overflowY],"inline"===d.css(a,"display")&&"none"===d.css(a,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==ca(a.nodeName)?j.zoom=1:j.display="inline-block"));c.overflow&&(j.overflow="hidden",d.support.shrinkWrapBlocks||v.always(function(){j.overflow=c.overflow[0];j.overflowX=c.overflow[1];j.overflowY=
c.overflow[2]}));for(e in b)if(l=b[e],Fd.exec(l))(delete b[e],h=h||"toggle"===l,l===(B?"hide":"show"))||w.push(e);if(b=w.length){l=d._data(a,"fxshow")||d._data(a,"fxshow",{});"hidden"in l&&(B=l.hidden);h&&(l.hidden=!B);B?d(a).show():v.done(function(){d(a).hide()});v.done(function(){var b;d._removeData(a,"fxshow");for(b in u)d.style(a,b,u[b])});for(e=0;b>e;e++)h=w[e],k=v.createTween(h,B?l[h]:0),u[h]=l[h]||d.style(a,h),h in l||(l[h]=k.start,B&&(k.end=k.start,k.start="width"===h||"height"===h?1:0))}}],
Hb={"*":[function(a,b){var c,h,e=this.createTween(a,b),l=Gd.exec(b),k=e.cur(),f=+k||0,r=1,v=20;if(l){if(c=+l[2],h=l[3]||(d.cssNumber[a]?"":"px"),"px"!==h&&f){f=d.css(e.elem,a,!0)||c||1;do r=r||".5",f/=r,d.style(e.elem,a,f+h);while(r!==(r=e.cur()/k)&&1!==r&&--v)}e.unit=h;e.start=f;e.end=l[1]?f+(l[1]+1)*c:c}return e}]};d.Animation=d.extend(ia,{tweener:function(a,b){d.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,h=0,e=a.length;e>h;h++)c=a[h],Hb[c]=Hb[c]||[],Hb[c].unshift(b)},prefilter:function(a,
b){b?Qb.unshift(a):Qb.push(a)}});d.Tween=Y;Y.prototype={constructor:Y,init:function(a,b,c,h,e,l){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=h;this.unit=l||(d.cssNumber[c]?"":"px")},cur:function(){var a=Y.propHooks[this.prop];return a&&a.get?a.get(this):Y.propHooks._default.get(this)},run:function(a){var b,c=Y.propHooks[this.prop];return this.pos=b=this.options.duration?d.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):
a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Y.propHooks._default.set(this),this}};Y.prototype.init.prototype=Y.prototype;Y.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=d.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){d.fx.step[a.prop]?d.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[d.cssProps[a.prop]]||d.cssHooks[a.prop])?
d.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};d.each(["toggle","show","hide"],function(a,b){var c=d.fn[b];d.fn[b]=function(a,d,h){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(k(b,!0),a,d,h)}});d.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,h){var e=
d.isEmptyObject(a),l=d.speed(b,c,h),k=function(){var b=ia(this,d.extend({},a),l);k.finish=function(){b.stop(!0)};(e||d._data(this,"finish"))&&b.stop(!0)};return k.finish=k,e||!1===l.queue?this.each(k):this.queue(l.queue,k)},stop:function(a,c,h){var e=function(a){var b=a.stop;delete a.stop;b(h)};return"string"!=typeof a&&(h=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",l=d.timers,k=d._data(this);if(c)k[c]&&k[c].stop&&e(k[c]);else for(c in k)k[c]&&
k[c].stop&&Hd.test(c)&&e(k[c]);for(c=l.length;c--;)l[c].elem!==this||null!=a&&l[c].queue!==a||(l[c].anim.stop(h),b=!1,l.splice(c,1));(b||!h)&&d.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=d._data(this),h=c[a+"queue"];b=c[a+"queueHooks"];var e=d.timers,l=h?h.length:0;c.finish=!0;d.queue(this,a,[]);b&&b.cur&&b.cur.finish&&b.cur.finish.call(this);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;l>b;b++)h[b]&&
h[b].finish&&h[b].finish.call(this);delete c.finish})}});d.each({slideDown:k("show"),slideUp:k("hide"),slideToggle:k("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});d.speed=function(a,b,c){var h=a&&"object"==typeof a?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};return h.duration=d.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in
d.fx.speeds?d.fx.speeds[h.duration]:d.fx.speeds._default,(null==h.queue||!0===h.queue)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){d.isFunction(h.old)&&h.old.call(this);h.queue&&d.dequeue(this,h.queue)},h};d.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};d.timers=[];d.fx=Y.prototype.init;d.fx.tick=function(){var a,c=d.timers,h=0;for(qb=d.now();c.length>h;h++)a=c[h],a()||c[h]!==a||c.splice(h--,1);c.length||d.fx.stop();qb=b};d.fx.timer=function(a){a()&&
d.timers.push(a)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){bc||(bc=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval(bc);bc=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});d.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){d.offset.setOffset(this,a,b)});var c,h,e={top:0,left:0},l=this[0],k=
l&&l.ownerDocument;if(k)return c=k.documentElement,d.contains(c,l)?(typeof l.getBoundingClientRect!==B&&(e=l.getBoundingClientRect()),h=D(k),{top:e.top+(h.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(h.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e};d.offset={setOffset:function(a,b,c){var h=d.css(a,"position");"static"===h&&(a.style.position="relative");var e=d(a),l=e.offset(),k=d.css(a,"top"),f=d.css(a,"left"),r={},v={},j,u;("absolute"===h||"fixed"===h)&&-1<d.inArray("auto",[k,f])?(v=
e.position(),j=v.top,u=v.left):(j=parseFloat(k)||0,u=parseFloat(f)||0);d.isFunction(b)&&(b=b.call(a,c,l));null!=b.top&&(r.top=b.top-l.top+j);null!=b.left&&(r.left=b.left-l.left+u);"using"in b?b.using.call(a,r):e.css(r)}};d.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},h=this[0];return"fixed"===d.css(h,"position")?b=h.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),d.nodeName(a[0],"html")||(c=a.offset()),c.top+=d.css(a[0],"borderTopWidth",!0),c.left+=d.css(a[0],
"borderLeftWidth",!0)),{top:b.top-c.top-d.css(h,"marginTop",!0),left:b.left-c.left-d.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.documentElement;a&&!d.nodeName(a,"html")&&"static"===d.css(a,"position");)a=a.offsetParent;return a||F.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var h=/Y/.test(c);d.fn[a]=function(e){return d.access(this,function(a,e,l){var g=D(a);return l===b?g?c in g?g[c]:
g.document.documentElement[e]:a[e]:(g?g.scrollTo(h?d(g).scrollLeft():l,h?l:d(g).scrollTop()):a[e]=l,b)},a,e,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(a,c){d.each({padding:"inner"+a,content:c,"":"outer"+a},function(h,e){d.fn[e]=function(e,l){var k=arguments.length&&(h||"boolean"!=typeof e),f=h||(!0===e||!0===l?"margin":"border");return d.access(this,function(c,h,e){var l;return d.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(l=c.documentElement,
Math.max(c.body["scroll"+a],l["scroll"+a],c.body["offset"+a],l["offset"+a],l["client"+a])):e===b?d.css(c,h,f):d.style(c,h,e,f)},c,k?e:b,k,null)}})});a.jQuery=a.$=d;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);$.fn.top=function(){var a;a=Math.floor(parseFloat(this.css("top"))||this.position().top);return isNaN(a)?0:a};$.fn.middle=function(){return Math.round(this.top()+Math.round($(this).outerHeight()/2))};
$.fn.bottom=function(){return Math.round(this.top()+this.outerHeight())};$.fn.right=function(){return Math.round(this.left()+this.outerWidth())};$.fn.center=function(){return Math.round(this.left()+Math.round($(this).outerWidth()/2))};$.fn.left=function(){var a;a=parseFloat(this.css("left"))||this.position().left;a=Math.floor(a);return isNaN(a)?0:a};
$.fn.dimensions=function(){var a={};$(this).each(function(){if(void 0===a.left)a.left=$(this).position().left,a.right=a.left+$(this).outerWidth(),a.top=$(this).position().top,a.bottom=a.top+$(this).outerHeight();else{var b=$(this).position().left,c=b+$(this).outerWidth(),e=$(this).position().top,f=e+$(this).outerHeight();b<a.left&&(a.left=b);c>a.right&&(a.right=c);e<a.top&&(a.top=e);f>a.bottom&&(a.bottom=f)}});a.height=a.bottom-a.top;a.width=a.right-a.left;a.center=a.left+Math.floor(a.width/2);a.middle=
a.top+Math.floor(a.height/2);return a};var ValidateEmail=function(a){return/\S+@\S+\.\S+/.test(a)},ParseQueryString=function(){for(var a={},b,c=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=window.location.search.substring(1);b=e.exec(f);)a[decodeURIComponent(b[1].replace(c," "))]=decodeURIComponent(b[2].replace(c," "));return a},Permalink=function(a){return!a?"":a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"_")};
$.scrollbarWidth=function(){if(navigator.userAgent.match(/Mac OS X 10_7/))return 10;var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"> </div>');$("body").append(a);var b=$("div",a).innerWidth();a.css("overflow-y","scroll");var c=$("div",a).innerWidth();a.remove();return b-c};
$.isOnScrollbar=function(a,b){var c=$.scrollbarWidth(),e=$(window).width(),f=$(window).height(),n=$("body").width(),t=$("body").height()>f;return t&&e-a<c||n>e&&f-b<c?!0:!1};var ToProperCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},ParseName=function(a){return!a?"":ToProperCase(a.replace(/\@.*/,"").replace(/[0-9]/g,"").replace(/\./," "))};
$.topDiv=function(a,b,c){var e=null;$(a).each(function(){var a=$(this);if(a.left()>b||a.right()<b||a.top()>c||a.bottom()<c)return!0;if(!e)return e=a;var n=parseFloat(a.css("z-index")),t=parseFloat(e.css("z-index"));if(n>t)return e=a;if(n<t)return!0;if(a.index()>e.index())return e=a});return e};var blinker={"default":"Nudgepad"};blinker.blinking=blinker.default;blinker.interval=null;blinker.change=function(a){blinker.blinking=a};
blinker.blink=function(){if(document.hasFocus())return blinker.stop();document.title=document.title==blinker.default?blinker.blinking:blinker.default};blinker.start=function(){clearInterval(blinker.interval);blinker.blinking=blinker.default;blinker.interval=setInterval(blinker.blink,2E3)};blinker.stop=function(){clearInterval(blinker.interval);document.title=blinker.blinking=blinker.default};$(window).on("blur",blinker.start);$(window).on("focus",blinker.stop);
(function(a,b,c){function e(a,b,c){for(var e=[],k=0;k<a.length;k++){var f=tinycolor(a[k]),j=0.5>f.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",j=j+(tinycolor.equals(b,a[k])?" sp-thumb-active":""),D=y?"background-color:"+f.toRgbString():"filter:"+f.toFilter();e.push('<span title="'+f.toRgbString()+'" data-color="'+f.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+D+';" /></span>')}return"<div class='sp-cf "+c+"'>"+e.join("")+"</div>"}function f(a,c){var e=
a.outerWidth(),k=a.outerHeight(),f=c.outerHeight(),j=a[0].ownerDocument,D=j.documentElement,p=D.clientWidth+b(j).scrollLeft(),j=D.clientHeight+b(j).scrollTop(),D=c.offset();D.top+=f;D.left-=Math.min(D.left,D.left+e>p&&p>e?Math.abs(D.left+e-p):0);D.top-=Math.min(D.top,D.top+k>j&&j>k?Math.abs(k+f-0):0);return D}function n(){}function t(a){a.stopPropagation()}function m(a,b){var c=Array.prototype.slice,e=c.call(arguments,2);return function(){return a.apply(b,e.concat(c.call(arguments)))}}function p(c,
e,k,f){function j(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function D(a){if(s){if(W&&9>document.documentMode&&!a.button)return p();var b=a.originalEvent.touches,d=b?b[0].pageY:a.pageY,b=Math.max(0,Math.min((b?b[0].pageX:a.pageX)-n.left,t)),d=Math.max(0,Math.min(d-n.top,C));w&&j(a);e.apply(c,[b,d,a])}}function p(){s&&(b(m).unbind(T),b(m.body).removeClass("sp-dragging"),f.apply(c,arguments));s=!1}e=e||function(){};k=k||function(){};f=f||function(){};
var m=c.ownerDocument||document,s=!1,n={},C=0,t=0,w="ontouchstart"in a,T={};T.selectstart=j;T.dragstart=j;T[w?"touchmove":"mousemove"]=D;T[w?"touchend":"mouseup"]=p;b(c).bind(w?"touchstart":"mousedown",function(a){if(!(a.which?3==a.which:2==a.button)&&!s&&!1!==k.apply(c,arguments))s=!0,C=b(c).height(),t=b(c).width(),n=b(c).offset(),b(m).bind(T),b(m.body).addClass("sp-dragging"),w||D(a),j(a)})}var P={beforeShow:n,move:n,change:n,show:n,hide:n,color:!1,flat:!1,showInput:!0,showButtons:!1,clickoutFiresChange:!1,
showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},S=[],W=!!/msie/i.exec(a.navigator.userAgent),y,A=document.createElement("div").style;A.cssText="background-color:rgba(0,0,0,.5)";y=!!~(""+A.backgroundColor).indexOf("rgba")||!!~(""+A.backgroundColor).indexOf("hsla");var N,A="";if(W)for(var X=
1;6>=X;X++)A+="<div class='sp-"+X+"'></div>";N=["<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",A,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("");
b.fn.spectrum=function(k,j){if("string"==typeof k){var B=this,D=Array.prototype.slice.call(arguments,1);this.each(function(){var a=S[b(this).data("spectrum.id")];if(a){var c=a[k];if(!c)throw Error("Spectrum: no such method: '"+k+"'");"get"==k?B=a.get():"container"==k?B=a.container:"option"==k?B=a.option.apply(a,D):"destroy"==k?(a.destroy(),b(this).removeData("spectrum.id")):c.apply(a,D)}});return B}return this.spectrum("destroy").each(function(){var j,u=function(){l.toggleClass("sp-flat",U);l.toggleClass("sp-input-disabled",
!L.showInput);l.toggleClass("sp-alpha-enabled",L.showAlpha);l.toggleClass("sp-buttons-disabled",!L.showButtons||U);l.toggleClass("sp-palette-disabled",!L.showPalette);l.toggleClass("sp-palette-only",L.showPaletteOnly);l.toggleClass("sp-initial-disabled",!L.showInitial);l.addClass(L.className);K()},B=function(c){if(V&&(c=tinycolor(c).toRgbString(),-1===b.inArray(c,Ga)&&Ga.push(c),ca&&a.localStorage))try{a.localStorage[ca]=Ga.join(";")}catch(d){}},D=function(){var a=[],b=Ga,c={},d;if(L.showPalette){for(var h=
0;h<mb.length;h++)for(var e=0;e<mb[h].length;e++)d=tinycolor(mb[h][e]).toRgbString(),c[d]=!0;for(h=0;h<b.length;h++)d=tinycolor(b[h]).toRgbString(),c.hasOwnProperty(d)||(a.push(b[h]),c[d]=!0)}return a.reverse().slice(0,L.maxSelectionSize)},s=function(){var a=A(),c=b.map(mb,function(b,c){return e(b,a,"sp-palette-row sp-palette-row-"+c)});Ga&&c.push(e(D(),a,"sp-palette-row sp-palette-row-selection"));Tb.html(c.join(""))},n=function(){if(L.showInitial){var a=Za,b=A();Kb.html(e([a,b],b,"sp-palette-row-initial"))}},
C=function(){(0===ea||0===ba||0===na)&&K();l.addClass(wa)},F=function(){l.removeClass(wa)},w=function(){var a=tinycolor(Pa.val());a.ok?d(a):Pa.addClass("sp-validation-error")},T=function(){ja?H():G()},G=function(){if(ja)K();else if(!1!==E.beforeShow(A())){for(var c=0;c<S.length;c++)S[c]&&S[c].hide();ja=!0;b(xa).bind("click.spectrum",H);b(a).bind("resize.spectrum",fa);Aa.addClass("sp-active");l.show();L.showPalette&&s();K();R();Za=A();n();E.show(Za)}},H=function(c){if((!c||!("click"==c.type&&2==c.button))&&
ja&&!U)ja=!1,b(xa).unbind("click.spectrum",H),b(a).unbind("resize.spectrum",fa),Aa.removeClass("sp-active"),l.hide(),tinycolor.equals(A(),Za)||(yb&&"cancel"!==c?X(!0):d(Za,!0)),E.hide(A())},d=function(a,b){if(!tinycolor.equals(a,A())){var c=tinycolor(a),d=c.toHsv();la=d.h;Na=d.s;ra=d.v;J=d.a;R();b||(Ya=Ma||c.format)}},A=function(){return tinycolor.fromRatio({h:la,s:Na,v:ra,a:Math.round(100*J)/100})},Q=function(){R();E.move(A())},R=function(){Pa.removeClass("sp-validation-error");I();var a=tinycolor({h:la,
s:"1.0",v:"1.0"});v.css("background-color",a.toHexString());a=Ya;if(1>J&&("hex"===a||"name"===a))a="rgb";var b=A(),c=b.toHexString(),d=b.toRgbString();y||1===b.alpha?zb.css("background-color",d):(zb.css("background-color","transparent"),zb.css("filter",b.toFilter()));if(L.showAlpha){d=b.toRgb();d.a=0;var d=tinycolor(d).toRgbString(),h="linear-gradient(left, "+d+", "+c+")";W?Ea.css("filter",tinycolor(d).toFilter({gradientType:1},c)):(Ea.css("background","-webkit-"+h),Ea.css("background","-moz-"+h),
Ea.css("background","-ms-"+h),Ea.css("background",h))}if(L.showInput){if(1>J&&("hex"===a||"name"===a))a="rgb";Pa.val(b.toString(a))}L.showPalette&&s();n()},I=function(){var a=Na*ba,b=ea-ra*ea,a=Math.max(-M,Math.min(ba-M,a-M)),b=Math.max(-M,Math.min(ea-M,b-M));Xa.css({top:b,left:a});tb.css({left:J*oa-ua/2});Ia.css({top:la*na-Ha})},X=function(a){var b=A();nb&&va.val(b.toString(Ya)).change();var c=!tinycolor.equals(b,Za);Za=b;B(b);a&&c&&E.change(b)},K=function(){ba=v.width();ea=v.height();M=Xa.height();
Oa.width();na=Oa.height();Ha=Ia.height();oa=sb.width();ua=tb.width();U||l.offset(f(l,Z));I()};j=function(){H();h=!0;va.attr("disabled",!0);Z.addClass("sp-disabled")};var L,O=b.extend({},P,k);O.callbacks={move:m(O.move,this),change:m(O.change,this),show:m(O.show,this),hide:m(O.hide,this),beforeShow:m(O.beforeShow,this)};L=O;var U=L.flat,V=L.showSelectionPalette,ca=L.localStorageKey,Y=L.theme,E=L.callbacks,fa,ha=K,ia;fa=function(){var a=this,b=arguments;ia||(ia=setTimeout(function(){ia=null;ha.apply(a,
b)},10))};var ja=!1,ba=0,ea=0,M=0,na=0,oa=0,ua=0,Ha=0,la=0,Na=0,ra=0,J=1,O=L.palette.slice(0),mb=b.isArray(O[0])?O:[O],Ga=L.selectionPalette.slice(0),wa="sp-dragging",xa=this.ownerDocument,O=xa.body,va=b(this),h=!1,l=b(N,xa).addClass(Y),v=l.find(".sp-color"),Xa=l.find(".sp-dragger"),Oa=l.find(".sp-hue"),Ia=l.find(".sp-slider"),Ea=l.find(".sp-alpha-inner"),sb=l.find(".sp-alpha"),tb=l.find(".sp-alpha-handle"),Pa=l.find(".sp-input"),Tb=l.find(".sp-palette"),Kb=l.find(".sp-initial"),Lb=l.find(".sp-cancel"),
ub=l.find(".sp-choose"),nb=va.is("input"),ya=nb&&!U,Aa=ya?b("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div></div>").addClass(Y):b([]),Z=ya?Aa:va,zb=Aa.find(".sp-preview-inner"),Ab=L.color||nb&&va.val(),Za=!1,Ma=L.preferredFormat,Ya=Ma,yb=!L.showButtons||L.clickoutFiresChange,Y=function(a){a.data&&a.data.ignore?(d(b(this).data("color")),Q()):(d(b(this).data("color")),X(!0),Q(),H());return!1};W&&l.find("*:not(input)").attr("unselectable","on");u();ya&&va.hide().after(Aa);
U?va.after(l).hide():b(O).append(l.hide());if(ca&&a.localStorage){try{var Bb=a.localStorage[ca].split(",#");1<Bb.length&&(delete a.localStorage[ca],b.each(Bb,function(a,b){B(b)}))}catch(Xb){}try{Ga=a.localStorage[ca].split(";")}catch(Nb){}}Z.bind("click.spectrum touchstart.spectrum",function(a){h||T();a.stopPropagation();b(a.target).is("input")||a.preventDefault()});(va.is(":disabled")||!0===L.disabled)&&j();l.click(t);Pa.change(w);Pa.bind("paste",function(){setTimeout(w,1)});Pa.keydown(function(a){13==
a.keyCode&&w()});Lb.text(L.cancelText);Lb.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();H("cancel")});ub.text(L.chooseText);ub.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Pa.hasClass("sp-validation-error")||(X(!0),H())});p(sb,function(a,b,c){J=a/oa;c.shiftKey&&(J=Math.round(10*J)/10);Q()});p(Oa,function(a,b){la=parseFloat(b/na);Q()},C,F);p(v,function(a,b){Na=parseFloat(a/ba);ra=parseFloat((ea-b)/ea);Q()},C,F);Ab?(d(Ab),R(),Ya=Ma||tinycolor(Ab).format,
B(Ab)):R();U&&G();C=W?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Tb.delegate(".sp-thumb-el",C,Y);Kb.delegate(".sp-thumb-el:nth-child(1)",C,{ignore:!0},Y);var eb={show:G,hide:H,toggle:T,reflow:K,option:function(a,d){if(a===c)return b.extend({},L);if(d===c)return L[a];L[a]=d;u()},enable:function(){h=!1;va.attr("disabled",!1);Z.removeClass("sp-disabled")},disable:j,set:function(a){d(a);X()},get:A,destroy:function(){va.show();Z.unbind("click.spectrum touchstart.spectrum");l.remove();Aa.remove();
S[eb.id]=null},container:l};eb.id=S.push(eb)-1;j=eb;b(this).data("spectrum.id",j.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=p;b.fn.spectrum.defaults=P;b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){var a=b("<input type='color' value='!' />")[0];"color"===a.type&&"!"!=a.value||b("input[type=color]").spectrum({preferredFormat:"hex6"})};var s=function(a){var b,c,e,f,p;if("object"==typeof a&&a.hasOwnProperty("_tc_id"))return a;
c=a;var m=0,n=0,t=0;a=1;var A=!1,y=!1;if("string"==typeof c)a:{c=c.replace(C,"").replace(Q,"").toLowerCase();var N=!1;if(ja[c])c=ja[c],N=!0;else if("transparent"==c){c={r:0,g:0,b:0,a:0};break a}c=(b=D.rgb.exec(c))?{r:b[1],g:b[2],b:b[3]}:(b=D.rgba.exec(c))?{r:b[1],g:b[2],b:b[3],a:b[4]}:(b=D.hsl.exec(c))?{h:b[1],s:b[2],l:b[3]}:(b=D.hsla.exec(c))?{h:b[1],s:b[2],l:b[3],a:b[4]}:(b=D.hsv.exec(c))?{h:b[1],s:b[2],v:b[3]}:(b=D.hex6.exec(c))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16),format:N?
"name":"hex"}:(b=D.hex3.exec(c))?{r:parseInt(b[1]+""+b[1],16),g:parseInt(b[2]+""+b[2],16),b:parseInt(b[3]+""+b[3],16),format:N?"name":"hex"}:!1}"object"==typeof c&&(c.hasOwnProperty("r")&&c.hasOwnProperty("g")&&c.hasOwnProperty("b")?(m=255*I(c.r,255),n=255*I(c.g,255),t=255*I(c.b,255),A=!0,y="rgb"):c.hasOwnProperty("h")&&c.hasOwnProperty("s")&&c.hasOwnProperty("v")?(y=c.h,n=c.s,t=c.v,y=6*I(y,360),n=I(n,100),t=I(t,100),m=L.floor(y),A=y-m,y=t*(1-n),b=t*(1-A*n),A=t*(1-(1-A)*n),N=m%6,m=255*[t,b,y,y,A,
t][N],n=255*[A,t,t,b,y,y][N],t=255*[y,y,A,t,t,b][N],A=!0,y="hsv"):c.hasOwnProperty("h")&&(c.hasOwnProperty("s")&&c.hasOwnProperty("l"))&&(m=c.h,y=c.s,t=c.l,n=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a},m=I(m,360),y=I(y,100),t=I(t,100),0===y?y=t=b=t:(b=0.5>t?t*(1+y):t+y-t*y,A=2*t-b,y=n(A,b,m+1/3),t=n(A,b,m),b=n(A,b,m-1/3)),m=255*y,n=255*t,t=255*b,A=!0,y="hsl"),c.hasOwnProperty("a")&&(a=c.a));m=R(255,O(m,0));n=R(255,O(n,0));t=R(255,O(t,0));1>m&&
(m=H(m));1>n&&(n=H(n));1>t&&(t=H(t));b=A;c=c&&c.format||y;e=m;f=n;p=t;var w=ha(a);return{ok:b,format:c,_tc_id:ca++,alpha:w,toHsv:function(){var a=K(e,f,p);return{h:a.h,s:a.s,v:a.v,a:w}},toHsvString:function(){var a=K(e,f,p),b=H(360*a.h),c=H(100*a.s),a=H(100*a.v);return 1==w?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+w+")"},toHsl:function(){var a=U(e,f,p);return{h:a.h,s:a.s,l:a.l,a:w}},toHslString:function(){var a=U(e,f,p),b=H(360*a.h),c=H(100*a.s),a=H(100*a.l);return 1==w?"hsl("+
b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+w+")"},toHex:function(){return V(e,f,p)},toHexString:function(a){return"#"+V(e,f,p,a)},toRgb:function(){return{r:H(e),g:H(f),b:H(p),a:w}},toRgbString:function(){return 1==w?"rgb("+H(e)+", "+H(f)+", "+H(p)+")":"rgba("+H(e)+", "+H(f)+", "+H(p)+", "+w+")"},toName:function(){return k[V(e,f,p)]||!1},toFilter:function(a,b){var c=V(e,f,p,!0),d=c,k=Math.round(255*ha(w)).toString(16),r=k,u=a&&a.gradientType?"GradientType = 1, ":"";b&&(r=s(b),d=r.toHex(),
r=Math.round(255*ha(r.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+u+"startColorstr=#"+j(k)+c+",endColorstr=#"+j(r)+d+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());"hex"===a&&(b=this.toHexString());"hex6"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString(!0)}}},U=function(a,b,c){a=I(a,255);b=I(b,255);c=I(c,255);var e=O(a,b,c),
k=R(a,b,c),f,j=(e+k)/2;if(e==k)f=k=0;else{var D=e-k,k=0.5<j?D/(2-e-k):D/(e+k);switch(e){case a:f=(b-c)/D+(b<c?6:0);break;case b:f=(c-a)/D+2;break;case c:f=(a-b)/D+4}f/=6}return{h:f,s:k,l:j}},K=function(a,b,c){a=I(a,255);b=I(b,255);c=I(c,255);var e=O(a,b,c),k=R(a,b,c),f,j=e-k;if(e==k)f=0;else{switch(e){case a:f=(b-c)/j+(b<c?6:0);break;case b:f=(c-a)/j+2;break;case c:f=(a-b)/j+4}f/=6}return{h:f,s:0===e?0:j/e,v:e}},V=function(a,b,c,e){a=[j(H(a).toString(16)),j(H(b).toString(16)),j(H(c).toString(16))];
return!e&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")},I=function(a,b){"string"==typeof a&&(-1!=a.indexOf(".")&&1===ha(a))&&(a="100%");var c="string"===typeof a&&-1!=a.indexOf("%");a=R(b,O(0,ha(a)));c&&(a*=b/100);return 1E-6>L.abs(a-b)?1:1<=a?a%b/ha(b):a},j=function(a){return 1==a.length?"0"+a:""+a},C=/^[\s,#]+/,Q=/\s+$/,ca=0,L=Math,H=L.round,R=L.min,O=L.max,fa=L.random,ha=this.parseFloat;s.fromRatio=
function(a){if("object"==typeof a)for(var b in a)1===a[b]&&(a[b]="1.0");return s(a)};s.equals=function(a,b){return!a||!b?!1:s(a).toRgbString()==s(b).toRgbString()};s.random=function(){return s.fromRatio({r:fa(),g:fa(),b:fa()})};s.desaturate=function(a,b){var c=s(a).toHsl();c.s-=(b||10)/100;c.s=R(1,O(0,c.s));return s(c)};s.saturate=function(a,b){var c=s(a).toHsl();c.s+=(b||10)/100;c.s=R(1,O(0,c.s));return s(c)};s.greyscale=function(a){return s.desaturate(a,100)};s.lighten=function(a,b){var c=s(a).toHsl();
c.l+=(b||10)/100;c.l=R(1,O(0,c.l));return s(c)};s.darken=function(a,b){var c=s(a).toHsl();c.l-=(b||10)/100;c.l=R(1,O(0,c.l));return s(c)};s.complement=function(a){a=s(a).toHsl();a.h=(a.h+0.5)%1;return s(a)};s.triad=function(a){var b=s(a).toHsl(),c=360*b.h;return[s(a),s({h:(c+120)%360,s:b.s,l:b.l}),s({h:(c+240)%360,s:b.s,l:b.l})]};s.tetrad=function(a){var b=s(a).toHsl(),c=360*b.h;return[s(a),s({h:(c+90)%360,s:b.s,l:b.l}),s({h:(c+180)%360,s:b.s,l:b.l}),s({h:(c+270)%360,s:b.s,l:b.l})]};s.splitcomplement=
function(a){var b=s(a).toHsl(),c=360*b.h;return[s(a),s({h:(c+72)%360,s:b.s,l:b.l}),s({h:(c+216)%360,s:b.s,l:b.l})]};s.analogous=function(a,b,c){b=b||6;c=c||30;var e=s(a).toHsl();c=360/c;a=[s(a)];e.h*=360;for(e.h=(e.h-(c*b>>1)+720)%360;--b;)e.h=(e.h+c)%360,a.push(s(e));return a};s.monochromatic=function(a,b){b=b||6;for(var c=s(a).toHsv(),e=c.h,k=c.s,c=c.v,f=[],j=1/b;b--;)f.push(s({h:e,s:k,v:c})),c=(c+j)%1;return f};s.readable=function(a,b){var c=s(a).toRgb(),e=s(b).toRgb();return 10404<(e.r-c.r)*(e.r-
c.r)+(e.g-c.g)*(e.g-c.g)+(e.b-c.b)*(e.b-c.b)};var ja=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",
darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",
ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",
lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=s,X=ja,ia={},Y;for(Y in X)X.hasOwnProperty(Y)&&(ia[X[Y]]=Y);var k=A.hexNames=ia,D;D={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};this.tinycolor=s;b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
(function(){function a(b,c,e){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped);c._chain&&(c=c._wrapped);if(b.isEqual&&j.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&j.isFunction(c.isEqual))return c.isEqual(b);var f=p.call(b);if(f!=p.call(c))return!1;switch(f){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==
c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var m=e.length;m--;)if(e[m]==b)return!0;e.push(b);var m=0,n=!0;if("[object Array]"==f){if(m=b.length,n=m==c.length)for(;m--&&(n=m in b==m in c&&a(b[m],c[m],e)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var s in b)if(j.has(b,s)&&(m++,!(n=j.has(c,s)&&a(b[s],c[s],e))))break;if(n){for(s in c)if(j.has(c,s)&&!m--)break;
n=!m}}e.pop();return n}var b=this,c=b._,e={},f=Array.prototype,n=Object.prototype,t=f.slice,m=f.unshift,p=n.toString,P=n.hasOwnProperty,S=f.forEach,W=f.map,y=f.reduce,A=f.reduceRight,N=f.filter,X=f.every,s=f.some,U=f.indexOf,K=f.lastIndexOf,n=Array.isArray,V=Object.keys,I=Function.prototype.bind,j=function(a){return new ia(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=j),exports._=j):b._=j;j.VERSION="1.3.3";var C=j.each=j.forEach=function(a,
b,c){if(null!=a)if(S&&a.forEach===S)a.forEach(b,c);else if(a.length===+a.length)for(var f=0,m=a.length;f<m&&!(f in a&&b.call(c,a[f],f,a)===e);f++);else for(f in a)if(j.has(a,f)&&b.call(c,a[f],f,a)===e)break};j.map=j.collect=function(a,b,c){var e=[];if(null==a)return e;if(W&&a.map===W)return a.map(b,c);C(a,function(a,f,k){e[e.length]=b.call(c,a,f,k)});a.length===+a.length&&(e.length=a.length);return e};j.reduce=j.foldl=j.inject=function(a,b,c,e){var f=2<arguments.length;null==a&&(a=[]);if(y&&a.reduce===
y)return e&&(b=j.bind(b,e)),f?a.reduce(b,c):a.reduce(b);C(a,function(a,k,j){f?c=b.call(e,c,a,k,j):(c=a,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return c};j.reduceRight=j.foldr=function(a,b,c,e){var f=2<arguments.length;null==a&&(a=[]);if(A&&a.reduceRight===A)return e&&(b=j.bind(b,e)),f?a.reduceRight(b,c):a.reduceRight(b);var m=j.toArray(a).reverse();e&&!f&&(b=j.bind(b,e));return f?j.reduce(m,b,c,e):j.reduce(m,b)};j.find=j.detect=function(a,b,c){var e;Q(a,function(a,
f,k){if(b.call(c,a,f,k))return e=a,!0});return e};j.filter=j.select=function(a,b,c){var e=[];if(null==a)return e;if(N&&a.filter===N)return a.filter(b,c);C(a,function(a,f,k){b.call(c,a,f,k)&&(e[e.length]=a)});return e};j.reject=function(a,b,c){var e=[];if(null==a)return e;C(a,function(a,f,k){b.call(c,a,f,k)||(e[e.length]=a)});return e};j.every=j.all=function(a,b,c){var f=!0;if(null==a)return f;if(X&&a.every===X)return a.every(b,c);C(a,function(a,k,j){if(!(f=f&&b.call(c,a,k,j)))return e});return!!f};
var Q=j.some=j.any=function(a,b,c){b||(b=j.identity);var f=!1;if(null==a)return f;if(s&&a.some===s)return a.some(b,c);C(a,function(a,k,j){if(f||(f=b.call(c,a,k,j)))return e});return!!f};j.include=j.contains=function(a,b){return null==a?!1:U&&a.indexOf===U?-1!=a.indexOf(b):Q(a,function(a){return a===b})};j.invoke=function(a,b){var c=t.call(arguments,2);return j.map(a,function(a){return(j.isFunction(b)?b||a:a[b]).apply(a,c)})};j.pluck=function(a,b){return j.map(a,function(a){return a[b]})};j.max=function(a,
b,c){if(!b&&j.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&j.isEmpty(a))return-Infinity;var e={computed:-Infinity};C(a,function(a,f,k){f=b?b.call(c,a,f,k):a;f>=e.computed&&(e={value:a,computed:f})});return e.value};j.min=function(a,b,c){if(!b&&j.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&j.isEmpty(a))return Infinity;var e={computed:Infinity};C(a,function(a,f,k){f=b?b.call(c,a,f,k):a;f<e.computed&&(e={value:a,computed:f})});return e.value};j.shuffle=function(a){var b=
[],c;C(a,function(a,e){c=Math.floor(Math.random()*(e+1));b[e]=b[c];b[c]=a});return b};j.sortBy=function(a,b,c){var e=j.isFunction(b)?b:function(a){return a[b]};return j.pluck(j.map(a,function(a,b,f){return{value:a,criteria:e.call(c,a,b,f)}}).sort(function(a,b){var c=a.criteria,e=b.criteria;return void 0===c?1:void 0===e?-1:c<e?-1:c>e?1:0}),"value")};j.groupBy=function(a,b){var c={},e=j.isFunction(b)?b:function(a){return a[b]};C(a,function(a,b){var f=e(a,b);(c[f]||(c[f]=[])).push(a)});return c};j.sortedIndex=
function(a,b,c){c||(c=j.identity);for(var e=0,f=a.length;e<f;){var m=e+f>>1;c(a[m])<c(b)?e=m+1:f=m}return e};j.toArray=function(a){return!a?[]:j.isArray(a)||j.isArguments(a)?t.call(a):a.toArray&&j.isFunction(a.toArray)?a.toArray():j.values(a)};j.size=function(a){return j.isArray(a)?a.length:j.keys(a).length};j.first=j.head=j.take=function(a,b,c){return null!=b&&!c?t.call(a,0,b):a[0]};j.initial=function(a,b,c){return t.call(a,0,a.length-(null==b||c?1:b))};j.last=function(a,b,c){return null!=b&&!c?
t.call(a,Math.max(a.length-b,0)):a[a.length-1]};j.rest=j.tail=function(a,b,c){return t.call(a,null==b||c?1:b)};j.compact=function(a){return j.filter(a,function(a){return!!a})};j.flatten=function(a,b){return j.reduce(a,function(a,c){if(j.isArray(c))return a.concat(b?c:j.flatten(c));a[a.length]=c;return a},[])};j.without=function(a){return j.difference(a,t.call(arguments,1))};j.uniq=j.unique=function(a,b,c){c=c?j.map(a,c):a;var e=[];3>a.length&&(b=!0);j.reduce(c,function(c,f,r){if(b?j.last(c)!==f||
!c.length:!j.include(c,f))c.push(f),e.push(a[r]);return c},[]);return e};j.union=function(){return j.uniq(j.flatten(arguments,!0))};j.intersection=j.intersect=function(a){var b=t.call(arguments,1);return j.filter(j.uniq(a),function(a){return j.every(b,function(b){return 0<=j.indexOf(b,a)})})};j.difference=function(a){var b=j.flatten(t.call(arguments,1),!0);return j.filter(a,function(a){return!j.include(b,a)})};j.zip=function(){for(var a=t.call(arguments),b=j.max(j.pluck(a,"length")),c=Array(b),e=
0;e<b;e++)c[e]=j.pluck(a,""+e);return c};j.indexOf=function(a,b,c){if(null==a)return-1;var e;if(c)return c=j.sortedIndex(a,b),a[c]===b?c:-1;if(U&&a.indexOf===U)return a.indexOf(b);c=0;for(e=a.length;c<e;c++)if(c in a&&a[c]===b)return c;return-1};j.lastIndexOf=function(a,b){if(null==a)return-1;if(K&&a.lastIndexOf===K)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};j.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var e=Math.max(Math.ceil((b-
a)/c),0),f=0,j=Array(e);f<e;)j[f++]=a,a+=c;return j};var ca=function(){};j.bind=function(a,b){var c,e;if(a.bind===I&&I)return I.apply(a,t.call(arguments,1));if(!j.isFunction(a))throw new TypeError;e=t.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,e.concat(t.call(arguments)));ca.prototype=a.prototype;var f=new ca,j=a.apply(f,e.concat(t.call(arguments)));return Object(j)===j?j:f}};j.bindAll=function(a){var b=t.call(arguments,1);0==b.length&&(b=j.functions(a));C(b,function(b){a[b]=
j.bind(a[b],a)});return a};j.memoize=function(a,b){var c={};b||(b=j.identity);return function(){var e=b.apply(this,arguments);return j.has(c,e)?c[e]:c[e]=a.apply(this,arguments)}};j.delay=function(a,b){var c=t.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};j.defer=function(a){return j.delay.apply(j,[a,1].concat(t.call(arguments,1)))};j.throttle=function(a,b){var c,e,f,m,p,n,s=j.debounce(function(){p=m=!1},b);return function(){c=this;e=arguments;f||(f=setTimeout(function(){f=
null;p&&a.apply(c,e);s()},b));m?p=!0:n=a.apply(c,e);s();m=!0;return n}};j.debounce=function(a,b,c){var e;return function(){var f=this,j=arguments;c&&!e&&a.apply(f,j);clearTimeout(e);e=setTimeout(function(){e=null;c||a.apply(f,j)},b)}};j.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;return c=a.apply(this,arguments)}};j.wrap=function(a,b){return function(){var c=[a].concat(t.call(arguments,0));return b.apply(this,c)}};j.compose=function(){var a=arguments;return function(){for(var b=
arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};j.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};j.keys=V||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)j.has(a,c)&&(b[b.length]=c);return b};j.values=function(a){return j.map(a,j.identity)};j.functions=j.methods=function(a){var b=[],c;for(c in a)j.isFunction(a[c])&&b.push(c);return b.sort()};j.extend=function(a){C(t.call(arguments,1),function(b){for(var c in b)a[c]=
b[c]});return a};j.pick=function(a){var b={};C(j.flatten(t.call(arguments,1)),function(c){c in a&&(b[c]=a[c])});return b};j.defaults=function(a){C(t.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])});return a};j.clone=function(a){return!j.isObject(a)?a:j.isArray(a)?a.slice():j.extend({},a)};j.tap=function(a,b){b(a);return a};j.isEqual=function(b,c){return a(b,c,[])};j.isEmpty=function(a){if(null==a)return!0;if(j.isArray(a)||j.isString(a))return 0===a.length;for(var b in a)if(j.has(a,
b))return!1;return!0};j.isElement=function(a){return!!(a&&1==a.nodeType)};j.isArray=n||function(a){return"[object Array]"==p.call(a)};j.isObject=function(a){return a===Object(a)};j.isArguments=function(a){return"[object Arguments]"==p.call(a)};j.isArguments(arguments)||(j.isArguments=function(a){return!(!a||!j.has(a,"callee"))});j.isFunction=function(a){return"[object Function]"==p.call(a)};j.isString=function(a){return"[object String]"==p.call(a)};j.isNumber=function(a){return"[object Number]"==
p.call(a)};j.isFinite=function(a){return j.isNumber(a)&&isFinite(a)};j.isNaN=function(a){return a!==a};j.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==p.call(a)};j.isDate=function(a){return"[object Date]"==p.call(a)};j.isRegExp=function(a){return"[object RegExp]"==p.call(a)};j.isNull=function(a){return null===a};j.isUndefined=function(a){return void 0===a};j.has=function(a,b){return P.call(a,b)};j.noConflict=function(){b._=c;return this};j.identity=function(a){return a};j.times=
function(a,b,c){for(var e=0;e<a;e++)b.call(c,e)};j.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};j.result=function(a,b){if(null==a)return null;var c=a[b];return j.isFunction(c)?c.call(a):c};j.mixin=function(a){C(j.functions(a),function(b){var c=j[b]=a[b];ia.prototype[b]=function(){var a=t.call(arguments);m.call(a,this._wrapped);return Y(c.apply(j,a),this._chain)}})};var L=0;j.uniqueId=
function(a){var b=L++;return a?a+b:b};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/.^/,R={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},O;for(O in R)R[R[O]]=O;var fa=/\\|'|\r|\n|\t|\u2028|\u2029/g,ha=/\\(\\|'|r|n|t|u2028|u2029)/g,ja=function(a){return a.replace(ha,function(a,b){return R[b]})};j.template=function(a,b,c){c=j.defaults(c||{},j.templateSettings);a="__p+='"+a.replace(fa,function(a){return"\\"+R[a]}).replace(c.escape||
H,function(a,b){return"'+\n_.escape("+ja(b)+")+\n'"}).replace(c.interpolate||H,function(a,b){return"'+\n("+ja(b)+")+\n'"}).replace(c.evaluate||H,function(a,b){return"';\n"+ja(b)+"\n;__p+='"})+"';\n";c.variable||(a="with(obj||{}){\n"+a+"}\n");a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n";var e=new Function(c.variable||"obj","_",a);if(b)return e(b,j);b=function(a){return e.call(this,a,j)};b.source="function("+(c.variable||"obj")+"){\n"+a+"}";
return b};j.chain=function(a){return j(a).chain()};var ia=function(a){this._wrapped=a};j.prototype=ia.prototype;var Y=function(a,b){return b?j(a).chain():a};j.mixin(j);C("pop push reverse shift sort splice unshift".split(" "),function(a){var b=f[a];ia.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var e=c.length;("shift"==a||"splice"==a)&&0===e&&delete c[0];return Y(c,this._chain)}});C(["concat","join","slice"],function(a){var b=f[a];ia.prototype[a]=function(){return Y(b.apply(this._wrapped,
arguments),this._chain)}});ia.prototype.chain=function(){this._chain=!0;return this};ia.prototype.value=function(){return this._wrapped}}).call(this);
(function(){function a(a,b){return"!"!==a[0][0]?'<a href="'+n(b.href)+'"'+(b.title?' title="'+n(b.title)+'"':"")+">"+s.lexer(a[1])+"</a>":'<img src="'+n(b.href)+'" alt="'+n(a[1])+'"'+(b.title?' title="'+n(b.title)+'"':"")+">"}function b(){return K=U.pop()}function c(){switch(K.type){case "space":return"";case "hr":return"<hr>\n";case "heading":return"<h"+K.depth+">"+s.lexer(K.text)+"</h"+K.depth+">\n";case "code":return V.highlight&&(K.code=V.highlight(K.text,K.lang),null!=K.code&&K.code!==K.text&&
(K.escaped=!0,K.text=K.code)),K.escaped||(K.text=n(K.text,!0)),"<pre><code"+(K.lang?' class="lang-'+K.lang+'"':"")+">"+K.text+"</code></pre>\n";case "blockquote_start":for(var a="";"blockquote_end"!==b().type;)a+=c();return"<blockquote>\n"+a+"</blockquote>\n";case "list_start":for(var f=K.ordered?"ol":"ul",a="";"list_end"!==b().type;)a+=c();return"<"+f+">\n"+a+"</"+f+">\n";case "list_item_start":for(a="";"list_item_end"!==b().type;)a+="text"===K.type?e():c();return"<li>"+a+"</li>\n";case "loose_item_start":for(a=
"";"list_item_end"!==b().type;)a+=c();return"<li>"+a+"</li>\n";case "html":return V.sanitize?s.lexer(K.text):!K.pre&&!V.pedantic?s.lexer(K.text):K.text;case "paragraph":return"<p>"+s.lexer(K.text)+"</p>\n";case "text":return"<p>"+e()+"</p>\n"}}function e(){for(var a=K.text,c;(c=U[U.length-1])&&"text"===c.type;)a+="\n"+b().text;return s.lexer(a)}function f(a){U=a.reverse();for(a="";b();)a+=c();K=U=null;return a}function n(a,b){return a.replace(!b?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t(a){for(var b="",c=a.length,e=0,f;e<c;e++)f=a.charCodeAt(e),0.5<Math.random()&&(f="x"+f.toString(16)),b+="&#"+f+";";return b}function m(){return"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b"}function p(a,b){a=a.source;b=b||"";return function ca(c,e){if(!c)return RegExp(a,b);a=a.replace(c,e.source||e);return ca}}function P(){}function S(a,
b){W(b);return f(y.lexer(a))}function W(a){a||(a=I);V!==a&&(V=a,V.gfm?(y.fences=y.gfm.fences,y.paragraph=y.gfm.paragraph,s.text=s.gfm.text,s.url=s.gfm.url):(y.fences=y.normal.fences,y.paragraph=y.normal.paragraph,s.text=s.normal.text,s.url=s.normal.url),V.pedantic?(s.em=s.pedantic.em,s.strong=s.pedantic.strong):(s.em=s.normal.em,s.strong=s.normal.strong))}var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:P,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,
blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};y.item=p(y.item,"gm")(/bull/g,y.bullet)();y.list=p(y.list)(/bull/g,y.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();y.html=p(y.html)("comment",
/\x3c!--[^\0]*?--\x3e/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,m())();var A=y,N;N=y.paragraph.source;var X=[];(function C(a){a=y[a]?y[a].source:a;X.push(a.replace(/(^|[^\[])\^/g,"$1"));return C})("hr")("heading")("lheading")("blockquote")("<"+m())("def");N=RegExp(N.replace("body",X.join("|")));A.paragraph=N;y.normal={fences:y.fences,paragraph:y.paragraph};y.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/};y.gfm.paragraph=
p(y.paragraph)("(?!","(?!"+y.gfm.fences.source.replace(/(^|[^\[])\^/g,"$2")+"|")();y.lexer=function(a){var b=[];b.links={};a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return y.token(a,b,!0)};y.token=function(a,b,c){a=a.replace(/^ +$/gm,"");for(var e,f,m,p,n,s;a;){if(m=y.newline.exec(a))a=a.substring(m[0].length),1<m[0].length&&b.push({type:"space"});if(m=y.code.exec(a))a=a.substring(m[0].length),m=m[0].replace(/^ {4}/gm,""),b.push({type:"code",text:!V.pedantic?m.replace(/\n+$/,""):m});else if(m=
y.fences.exec(a))a=a.substring(m[0].length),b.push({type:"code",lang:m[2],text:m[3]});else if(m=y.heading.exec(a))a=a.substring(m[0].length),b.push({type:"heading",depth:m[1].length,text:m[2]});else if(m=y.lheading.exec(a))a=a.substring(m[0].length),b.push({type:"heading",depth:"="===m[2]?1:2,text:m[1]});else if(m=y.hr.exec(a))a=a.substring(m[0].length),b.push({type:"hr"});else if(m=y.blockquote.exec(a))a=a.substring(m[0].length),b.push({type:"blockquote_start"}),m=m[0].replace(/^ *> ?/gm,""),y.token(m,
b,c),b.push({type:"blockquote_end"});else if(m=y.list.exec(a)){a=a.substring(m[0].length);b.push({type:"list_start",ordered:isFinite(m[2])});m=m[0].match(y.item);e=!1;s=m.length;for(n=0;n<s;n++)p=m[n],f=p.length,p=p.replace(/^ *([*+-]|\d+\.) +/,""),~p.indexOf("\n ")&&(f-=p.length,p=!V.pedantic?p.replace(RegExp("^ {1,"+f+"}","gm"),""):p.replace(/^ {1,4}/gm,"")),f=e||/\n\n(?!\s*$)/.test(p),n!==s-1&&(e="\n"===p[p.length-1],f||(f=e)),b.push({type:f?"loose_item_start":"list_item_start"}),y.token(p,b),
b.push({type:"list_item_end"});b.push({type:"list_end"})}else if(m=y.html.exec(a))a=a.substring(m[0].length),b.push({type:"html",pre:"pre"===m[1],text:m[0]});else if(c&&(m=y.def.exec(a)))a=a.substring(m[0].length),b.links[m[1].toLowerCase()]={href:m[2],title:m[3]};else if(c&&(m=y.paragraph.exec(a)))a=a.substring(m[0].length),b.push({type:"paragraph",text:m[0]});else if(m=y.text.exec(a))a=a.substring(m[0].length),b.push({type:"text",text:m[0]})}return b};var s={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,
autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:P,tag:/^\x3c!--[^\0]*?--\x3e|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_linkInside:/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,_linkHref:/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/};
s.link=p(s.link)("inside",s._linkInside)("href",s._linkHref)();s.reflink=p(s.reflink)("inside",s._linkInside)();s.normal={url:s.url,strong:s.strong,em:s.em,text:s.text};s.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};s.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};s.lexer=function(b){for(var c="",e=U.links,f,m;b;)if(m=s.escape.exec(b))b=b.substring(m[0].length),
c+=m[1];else if(m=s.autolink.exec(b))b=b.substring(m[0].length),"@"===m[2]?(f=":"===m[1][6]?t(m[1].substring(7)):t(m[1]),m=t("mailto:")+f):m=f=n(m[1]),c+='<a href="'+m+'">'+f+"</a>";else if(m=s.url.exec(b))b=b.substring(m[0].length),m=f=n(m[1]),c+='<a href="'+m+'">'+f+"</a>";else if(m=s.tag.exec(b))b=b.substring(m[0].length),c+=V.sanitize?n(m[0]):m[0];else if(m=s.link.exec(b))b=b.substring(m[0].length),c+=a(m,{href:m[2],title:m[3]});else if((m=s.reflink.exec(b))||(m=s.nolink.exec(b)))b=b.substring(m[0].length),
f=(m[2]||m[1]).replace(/\s+/g," "),f=e[f.toLowerCase()],!f||!f.href?(c+=m[0][0],b=m[0].substring(1)+b):c+=a(m,f);else if(m=s.strong.exec(b))b=b.substring(m[0].length),c+="<strong>"+s.lexer(m[2]||m[1])+"</strong>";else if(m=s.em.exec(b))b=b.substring(m[0].length),c+="<em>"+s.lexer(m[2]||m[1])+"</em>";else if(m=s.code.exec(b))b=b.substring(m[0].length),c+="<code>"+n(m[2],!0)+"</code>";else if(m=s.br.exec(b))b=b.substring(m[0].length),c+="<br>";else if(m=s.text.exec(b))b=b.substring(m[0].length),c+=
n(m[0]);return c};var U,K;P.exec=P;var V,I;S.options=S.setOptions=function(a){I=a;W(a);return S};S.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null});S.parser=function(a,b){W(b);return f(a)};S.lexer=function(a,b){W(b);return y.lexer(a)};S.parse=S;"undefined"!==typeof module?module.exports=S:this.marked=S}).call(function(){return this||("undefined"!==typeof window?window:global)}());
function natural_sort(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,e=/(^[ ]*|[ ]*$)/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,t=/^0/,m=(natural_sort.insensitive&&(""+a).toLowerCase()||""+a).replace(e,"")||"",p=(natural_sort.insensitive&&(""+b).toLowerCase()||""+b).replace(e,"")||"",e=m.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=p.replace(c,"\x00$1\x00").replace(/\0$/,
"").replace(/^\0/,"").split("\x00"),m=parseInt(m.match(n))||1!=e.length&&m.match(f)&&Date.parse(m);if(f=parseInt(p.match(n))||m&&p.match(f)&&Date.parse(p)||null){if(m<f)return-1;if(m>f)return 1}m=0;for(p=Math.max(e.length,c.length);m<p;m++){f=!(e[m]||"").match(t)&&parseFloat(e[m])||e[m]||0;n=!(c[m]||"").match(t)&&parseFloat(c[m])||c[m]||0;if(isNaN(f)!==isNaN(n))return isNaN(f)?1:-1;typeof f!==typeof n&&(f+="",n+="");if(f<n)return-1;if(f>n)return 1}return 0}
(function(){var a={},b=window,c=b.document,e;a.disabled=!1;a.set=function(){};a.get=function(){};a.remove=function(){};a.clear=function(){};a.transact=function(b,c,e){var f=a.get(b);null==e&&(e=c,c=null);"undefined"==typeof f&&(f=c||{});e(f);a.set(b,f)};a.getAll=function(){};a.serialize=function(a){return JSON.stringify(a)};a.deserialize=function(a){return"string"!=typeof a?void 0:JSON.parse(a)};var f;try{f="localStorage"in b&&b.localStorage}catch(n){f=!1}if(f)e=b.localStorage,a.set=function(b,c){if(void 0===
c)return a.remove(b);e.setItem(b,a.serialize(c))},a.get=function(b){return a.deserialize(e.getItem(b))},a.remove=function(a){e.removeItem(a)},a.clear=function(){e.clear()},a.getAll=function(){for(var b={},c=0;c<e.length;++c){var f=e.key(c);b[f]=a.get(f)}return b};else{var t;try{t="globalStorage"in b&&b.globalStorage&&b.globalStorage[b.location.hostname]}catch(m){t=!1}if(t)e=b.globalStorage[b.location.hostname],a.set=function(b,c){if(void 0===c)return a.remove(b);e[b]=a.serialize(c)},a.get=function(b){return a.deserialize(e[b]&&
e[b].value)},a.remove=function(a){delete e[a]},a.clear=function(){for(var a in e)delete e[a]},a.getAll=function(){for(var b={},c=0;c<e.length;++c){var f=e.key(c);b[f]=a.get(f)}return b};else if(c.documentElement.addBehavior){var p,P;try{P=new ActiveXObject("htmlfile"),P.open(),P.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>'),P.close(),p=P.w.frames[0].document,e=p.createElement("div")}catch(S){e=c.createElement("div"),p=c.body}var b=function(b){return function(){var c=
Array.prototype.slice.call(arguments,0);c.unshift(e);p.appendChild(e);e.addBehavior("#default#userData");e.load("localStorage");c=b.apply(a,c);p.removeChild(e);return c}},W=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;a.set=b(function(b,c,e){c=c.replace(W,"___");if(void 0===e)return a.remove(c);b.setAttribute(c,a.serialize(e));b.save("localStorage")});a.get=b(function(b,c){c=c.replace(W,"___");return a.deserialize(b.getAttribute(c))});a.remove=b(function(a,b){b=b.replace(W,"___");a.removeAttribute(b);a.save("localStorage")});
a.clear=b(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,e;e=b[c];c++)a.removeAttribute(e.name);a.save("localStorage")});a.getAll=b(function(b){var c=b.XMLDocument.documentElement.attributes;b.load("localStorage");b={};for(var e=0,f;f=c[e];++e)b[f]=a.get(f);return b})}}try{a.set("__storejs__","__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(y){a.disabled=!0}a.enabled=!a.disabled;"undefined"!=typeof module&&
"function"!=typeof module?module.exports=a:"function"===typeof define&&define.amd?define(a):this.store=a})();if("undefined"===typeof Events)var Events={};Events.slide={};Events.slide.timeout=!1;Events.slide.target=!1;Events.slide.started=!1;Events.slide.mouseDelay=70;Events.slide.mousedown=null;Events.slide.mouseThreshold=4;Events.slide.touchstart=null;Events.slide.touchThreshold=20;
Events.slide.onMouseMove=function(a){var b=Events.slide.mousedown;if(!b)return!0;var c=Events.slide.target;if(Events.slide.started)return $(c).trigger("slide",a),!0;if(1!=a.which||(new Date).getTime()-b.timeStamp<Events.slide.mouseDelay)return!0;var e=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(e+b<Events.slide.mouseThreshold)return!0;$(c).trigger("slidestart",a);Events.slide.started=!0};Events.slide.onMouseDown=function(a){Events.slide.mousedown=a;Events.slide.target=a.target};
Events.slide.onMouseUp=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.target).trigger("slideend",a));Events.slide.mousedown=!1;return!0};Events.slide.onTouchStart=function(a){Events.slide.touchstart=a;Events.slide.target=a.target};Events.slide.onTouchEnd=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.touchstart.target).trigger("slideend",a));return!0};
Events.slide.onTouchMove=function(a){var b=Events.slide.touchstart,c=Events.slide.target;if((new Date).getTime()-b.timeStamp<Events.slide.delay)return!0;var e=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(e+b<Events.slide.threshold)return!0;if(Events.slide.started)return $(c).trigger("slide",a),!0;$(c).trigger("slidestart",a);Events.slide.started=!0};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.slide.onTouchStart,!0),document.addEventListener("touchmove",Events.slide.onTouchMove,!0),document.addEventListener("touchend",Events.slide.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.slide.onMouseDown,!0),document.addEventListener("mousemove",Events.slide.onMouseMove,!0),document.addEventListener("mouseup",Events.slide.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.tap={};Events.tap.mouseTime=750;Events.tap.mousedown=null;Events.tap.maxMouseDistance=8;Events.tap.onMouseDown=function(a){Events.tap.mousedown=a};Events.tap.onMouseUp=function(a){var b=Events.tap.mousedown;if(a.timeStamp-b.timeStamp>Events.tap.mouseTime||a.target!==b.target)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b>Events.tap.maxMouseDistance)return!0;if(Events.tap.onPass)Events.tap.onPass(a);$(a.target).trigger("tap")};Events.tap.touchstart=null;
Events.tap.maxTouchDistance=20;Events.tap.onTouchStart=function(a){Events.tap.touchstart=a};Events.tap.onTouchEnd=function(a){var b=Events.tap.touchstart;if(a.timeStamp-b.timeStamp>Events.tap.maxTime||a.target!==b.target)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b>Events.tap.maxTouchDistance)return!0;$(a.target).trigger("tap")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.tap.onTouchStart,!0),document.addEventListener("touchend",Events.tap.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.tap.onMouseDown,!0),document.addEventListener("mouseup",Events.tap.onMouseUp,!0));$(document).on("keydown","input",function(a){if(13!==a.keyCode)return!0;$(this).trigger("enterkey")});"undefined"===typeof Events&&(Events={});Events.hold={};Events.hold.mousetime=750;
Events.hold.touchtime=1E3;Events.hold.mousedown=null;Events.hold.target=!1;Events.hold.maxMouseDistance=8;Events.hold.timeout=!1;Events.hold.onMouseDown=function(a){if(1!==a.which)return!0;Events.hold.mousedown=a;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireMouse()",Events.hold.mousetime)};Events.hold.onMouseMove=function(a){Events.hold.mousemove=a};Events.hold.onMouseUp=function(){Events.hold.mousedown=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireMouse=function(){var a=Events.hold.mousedown,b=Events.hold.mousemove;if(!Events.hold.mousedown)return!0;var c=Math.abs(b.screenX-a.screenX),a=Math.abs(b.screenY-a.screenY);if(c+a>Events.hold.maxMouseDistance)return!0;$(Events.hold.target).trigger("hold")};Events.hold.touchstart=null;Events.hold.maxTouchDistance=8;
Events.hold.onTouchStart=function(a){Events.hold.touchstart=a;Events.hold.touchmove=a;Events.hold.startX=a.touches[0].pageX;Events.hold.startY=a.touches[0].pageY;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireTouch()",Events.hold.touchtime)};Events.hold.onTouchMove=function(a){console.log(Events.hold.touchstart.touches[0].pageX);Events.hold.touchmove=a};Events.hold.onTouchEnd=function(){Events.hold.touchstart=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireTouch=function(){var a=Events.hold.touchmove,b=Math.abs(a.touches[0].pageX-Events.hold.startX),a=Math.abs(a.touches[0].pageY-Events.hold.startY);if(b+a>Events.hold.maxTouchDistance)return!0;$(Events.hold.target).trigger("hold")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.hold.onTouchStart,!0),document.addEventListener("touchend",Events.hold.onTouchEnd,!0),document.addEventListener("touchmove",Events.hold.onTouchMove,!0)):(document.addEventListener("mousedown",Events.hold.onMouseDown,!0),document.addEventListener("mousemove",Events.hold.onMouseMove,!0),document.addEventListener("mouseup",Events.hold.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.shortcut={};Events.shortcut.context="";Events.shortcut.on=!0;Events.shortcut.shortcuts={};
Events.shortcut.fire=function(a){if(!Events.shortcut.on||$("input:focus, div:focus, textarea:focus, a:focus").length||$("div[contenteditable]").get(0)==document.activeElement)return!0;var b=Events.shortcut.string_from_keycode(a.keyCode);a.shiftKey&&(b="shift+"+b);a.metaKey&&(b="meta+"+b);a.ctrlKey&&(b="ctrl+"+b);a.altKey&&(b="alt+"+b);if(Events.shortcut.shortcuts[b]){var c=Events.shortcut.shortcuts[b];"function"===typeof c?c():$(Events.shortcut.context+"#"+c).trigger("tap");if(Events.shortcut.onfire)Events.shortcut.onfire(b);
a.preventDefault()}};
Events.shortcut.string_from_keycode=function(a){var b=String.fromCharCode(a).toLowerCase(),c={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",
121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",190:".",191:"/",224:"meta"};a in c&&(b=c[a]);return b};$(document).on("ready",function(){$(document).on("keydown",Events.shortcut.fire)});
var parseCookie=function(a){var b={};a.split(/[;,] */).forEach(function(a){var e=a.indexOf("="),f=a.substr(0,e).trim();a=a.substr(++e,a.length).trim();'"'==a[0]&&(a=a.slice(1,-1));if(void 0==b[f])try{b[f]=decodeURIComponent(a)}catch(n){b[f]=a}});return b},MoveCursorToEnd=function(a){if(!a)return null;var b;document.createRange&&(b=document.createRange(),b.selectNodeContents(a),b.collapse(!1),a=window.getSelection(),a.removeAllRanges(),a.addRange(b))},io="undefined"===typeof module?{}:module.exports;
(function(){var a=this,b="object"===typeof module?module.exports:this.io={};b.version="0.9.11";b.protocol=1;b.transports=[];b.j=[];b.sockets={};b.connect=function(c,d){var e=b.util.parseUri(c),f,j;a&&a.location&&(e.protocol=e.protocol||a.location.protocol.slice(0,-1),e.host=e.host||(a.document?a.document.domain:a.location.hostname),e.port=e.port||a.location.port);f=b.util.uniqueUri(e);var k={host:e.host,secure:"https"==e.protocol,port:e.port||("https"==e.protocol?443:80),query:e.query||""};b.util.merge(k,
d);if(k["force new connection"]||!b.sockets[f])j=new b.Socket(k);!k["force new connection"]&&j&&(b.sockets[f]=j);j=j||b.sockets[f];return j.of(1<e.path.length?e.path:"")};var c=this,e=("undefined"!=typeof io?io:module.exports).util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var b={},c=14;c--;)b[n[c]]=a[c]||"";return b};e.uniqueUri=function(a){var b=a.protocol,d=a.host;a=a.port;"document"in c?(d=d||document.domain,a=a||("https"==b&&"https:"!==document.location.protocol?443:document.location.port)):(d=d||"localhost",!a&&"https"==b&&(a=443));return(b||"http")+"://"+d+":"+(a||80)};e.query=function(a,b){var c=e.chunkQuery(a||""),d=[];e.merge(c,e.chunkQuery(b||""));for(var f in c)c.hasOwnProperty(f)&&d.push(f+"="+c[f]);return d.length?
"?"+d.join("&"):""};e.chunkQuery=function(a){var b={};a=a.split("&");for(var c=0,d=a.length,e;c<d;++c)e=a[c].split("="),e[0]&&(b[e[0]]=e[1]);return b};var t=!1;e.load=function(a){if("document"in c&&"complete"===document.readyState||t)return a();e.on(c,"load",a,!1)};e.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null};"undefined"!=typeof window&&e.load(function(){t=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,b,c,d){d=d||[];c="undefined"==typeof c?2:c;for(var f in b)b.hasOwnProperty(f)&&0>e.indexOf(d,f)&&("object"!==typeof a[f]||!c?(a[f]=b[f],d.push(b[f])):
e.merge(a[f],b[f],c-1,d));return a};e.mixin=function(a,b){e.merge(a.prototype,b.prototype)};e.inherit=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,b){for(var c=[],d=a.length>b.length?a:b,f=a.length>b.length?b:a,j=0,k=f.length;j<k;j++)~e.indexOf(d,f[j])&&c.push(f[j]);return c};e.indexOf=function(a,b,c){var d=a.length;for(c=0>c?0>c+d?0:c+d:c||0;c<d&&a[c]!==
b;c++);return d<=c?-1:c};e.toArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b};e.ua={};var m=e.ua,p;if(p="undefined"!=typeof XMLHttpRequest)a:{try{var P=new XMLHttpRequest}catch(S){p=!1;break a}p=void 0!=P.withCredentials}m.hasCORS=p;e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var W="undefined"!=typeof io?io:module.parent.exports,m=function(){};("undefined"!=
typeof io?io:module.exports).EventEmitter=m;m.prototype.on=function(a,b){this.$events||(this.$events={});this.$events[a]?W.util.isArray(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b;return this};m.prototype.addListener=m.prototype.on;m.prototype.once=function(a,b){function c(){d.removeListener(a,c);b.apply(this,arguments)}var d=this;c.listener=b;this.on(a,c);return this};m.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var c=
this.$events[a];if(W.util.isArray(c)){for(var d=-1,e=0,f=c.length;e<f;e++)if(c[e]===b||c[e].listener&&c[e].listener===b){d=e;break}if(0>d)return this;c.splice(d,1);c.length||delete this.$events[a]}else(c===b||c.listener&&c.listener===b)&&delete this.$events[a]}return this};m.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};m.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||
(this.$events[a]=[]);W.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};m.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var c=Array.prototype.slice.call(arguments,1);if("function"==typeof b)b.apply(this,c);else if(W.util.isArray(b))for(var b=b.slice(),d=0,e=b.length;d<e;d++)b[d].apply(this,c);else return!1;return!0};(function(a,b){function c(a){return 10>a?"0"+a:a}function d(a){k.lastIndex=0;return k.test(a)?'"'+
a.replace(k,function(a){var b=p[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,b){var h,f,l,j,k=m,p,s=b[a];s instanceof Date&&(s=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":null);"function"===typeof n&&(s=n.call(b,a,s));switch(typeof s){case "string":return d(s);case "number":return isFinite(s)?String(s):"null";
case "boolean":case "null":return String(s);case "object":if(!s)return"null";m+=w;p=[];if("[object Array]"===Object.prototype.toString.apply(s)){j=s.length;for(h=0;h<j;h+=1)p[h]=e(h,s)||"null";l=0===p.length?"[]":m?"[\n"+m+p.join(",\n"+m)+"\n"+k+"]":"["+p.join(",")+"]";m=k;return l}if(n&&"object"===typeof n){j=n.length;for(h=0;h<j;h+=1)"string"===typeof n[h]&&(f=n[h],(l=e(f,s))&&p.push(d(f)+(m?": ":":")+l))}else for(f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l=e(f,s))&&p.push(d(f)+(m?": ":
":")+l);l=0===p.length?"{}":m?"{\n"+m+p.join(",\n"+m)+"\n"+k+"}":"{"+p.join(",")+"}";m=k;return l}}if(b&&b.parse)return a.JSON={parse:b.parse,stringify:b.stringify};var f=a.JSON={},j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,w,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;
f.stringify=function(a,b,c){var d;w=m="";if("number"===typeof c)for(d=0;d<c;d+=1)w+=" ";else"string"===typeof c&&(w=c);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return e("",{"":a})};f.parse=function(a,b){function c(a,d){var e,h,f=a[d];if(f&&"object"===typeof f)for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(h=c(f,e),void 0!==h?f[e]=h:delete f[e]);return b.call(a,d,f)}var d;a=String(a);j.lastIndex=0;j.test(a)&&(a=a.replace(j,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var m="undefined"!=typeof io?io:module.parent.exports,
y=("undefined"!=typeof io?io:module.exports).parser={},A=y.packets="disconnect connect heartbeat message json event ack error noop".split(" "),N=y.reasons=["transport not supported","client not handshaken","unauthorized"],X=y.advice=["reconnect"],s=m.JSON,U=m.util.indexOf;y.encodePacket=function(a){var b=U(A,a.type),c=a.id||"",d=a.endpoint||"",e=a.ack,f=null;switch(a.type){case "error":var j=a.reason?U(N,a.reason):"";a=a.advice?U(X,a.advice):"";if(""!==j||""!==a)f=j+(""!==a?"+"+a:"");break;case "message":""!==
a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=s.stringify(f);break;case "json":f=s.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+s.stringify(a.args):"")}b=[b,c+("data"==e?"+":""),d];null!==f&&void 0!==f&&b.push(f);return b.join(":")};y.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,d=a.length;c<d;c++)b+="\ufffd"+a[c].length+"\ufffd"+a[c];return b};var K=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
y.decodePacket=function(a){var b=a.match(K);if(!b)return{};var c=b[2]||"";a=b[5]||"";var d={type:A[b[1]],endpoint:b[4]||""};c&&(d.id=c,d.ack=b[3]?"data":!0);switch(d.type){case "error":b=a.split("+");d.reason=N[b[0]]||"";d.advice=X[b[1]]||"";break;case "message":d.data=a||"";break;case "event":try{var e=s.parse(a);d.name=e.name;d.args=e.args}catch(f){}d.args=d.args||[];break;case "json":try{d.data=s.parse(a)}catch(j){}break;case "connect":d.qs=a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(d.ackId=
b[1],d.args=[],b[3])try{d.args=b[3]?s.parse(b[3]):[]}catch(k){}}return d};y.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var b=[],c=1,d="";c<a.length;c++)"\ufffd"==a.charAt(c)?(b.push(y.decodePacket(a.substr(c+1).substr(0,d))),c+=Number(d)+1,d=""):d+=a.charAt(c);return b}return[y.decodePacket(a)]};var V="undefined"!=typeof io?io:module.parent.exports,m=function(a,b){this.socket=a;this.sessid=b};("undefined"!=typeof io?io:module.exports).Transport=m;V.util.mixin(m,V.EventEmitter);m.prototype.heartbeats=
function(){return!0};m.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=V.parser.decodePayload(a))&&a.length)for(var b=0,c=a.length;b<c;b++)this.onPacket(a[b]);return this};m.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=
!1);this.socket.onPacket(a);return this};m.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};m.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};m.prototype.onConnect=function(){this.socket.onConnect();return this};m.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=
null)};m.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};m.prototype.packet=function(a){this.send(V.parser.encodePacket(a))};m.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};m.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};m.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};m.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+
"://"+a.host+":"+a.port+"/"+a.resource+"/"+V.protocol+"/"+this.name+"/"+this.sessid};m.prototype.ready=function(a,b){b.call(this)};var I="undefined"!=typeof io?io:module.parent.exports,j=this,m=function(a){this.options={port:80,secure:!1,document:"document"in j?document:!1,resource:"socket.io",transports:I.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};I.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||I.util.ua.hasCORS)){var b=this;I.util.on(j,"beforeunload",function(){b.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},C=function(){};("undefined"!=typeof io?io:module.exports).Socket=m;I.util.mixin(m,I.EventEmitter);
m.prototype.of=function(a){this.namespaces[a]||(this.namespaces[a]=new I.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};m.prototype.publish=function(){this.emit.apply(this,arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};m.prototype.handshake=function(a){function b(d){d instanceof Error?(c.connecting=!1,c.onError(d.message)):a.apply(null,d.split(":"))}var c=this,d=this.options,
d=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,I.protocol,I.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!I.util.ua.hasCORS){var e=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=d+"&jsonp="+I.j.length;e.parentNode.insertBefore(f,e);I.j.push(function(a){b(a);f.parentNode.removeChild(f)})}else{var j=I.util.request();j.open("GET",d,!0);this.isXDomain()&&(j.withCredentials=!0);j.onreadystatechange=function(){if(4==j.readyState)if(j.onreadystatechange=
C,200==j.status)b(j.responseText);else if(403==j.status)c.onError(j.responseText);else c.connecting=!1,!c.reconnecting&&c.onError(j.responseText)};j.send(null)}};m.prototype.getTransport=function(a){a=a||this.transports;for(var b=0,c;c=a[b];b++)if(I.Transport[c]&&I.Transport[c].check(this)&&(!this.isXDomain()||I.Transport[c].xdomainCheck(this)))return new I.Transport[c](this,this.sessionid);return null};m.prototype.connect=function(a){if(this.connecting)return this;var b=this;b.connecting=!0;this.handshake(function(c,
d,e,f){function j(a){b.transport&&b.transport.clearTimeouts();b.transport=b.getTransport(a);if(!b.transport)return b.publish("connect_failed");b.transport.ready(b,function(){b.connecting=!0;b.publish("connecting",b.transport.name);b.transport.open();b.options["connect timeout"]&&(b.connectTimeoutTimer=setTimeout(function(){if(!b.connected&&(b.connecting=!1,b.options["try multiple transports"])){for(var a=b.transports;0<a.length&&a.splice(0,1)[0]!=b.transport.name;);a.length?j(a):b.publish("connect_failed")}},
b.options["connect timeout"]))})}b.sessionid=c;b.closeTimeout=1E3*e;b.heartbeatTimeout=1E3*d;b.transports||(b.transports=b.origTransports=f?I.util.intersect(f.split(","),b.options.transports):b.options.transports);b.setHeartbeatTimeout();j(b.transports);b.once("connect",function(){clearTimeout(b.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};m.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};m.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};m.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};m.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};m.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};m.prototype.disconnectSync=function(){var a=I.util.request(),b=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,I.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",b,!1);a.send(null);this.onDisconnect("booted")};m.prototype.isXDomain=function(){var a=j.location.port||("https:"==j.location.protocol?443:80);return this.options.host!==
j.location.hostname||this.options.port!=a};m.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};m.prototype.onOpen=function(){this.open=!0};m.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};m.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};m.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),
this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};m.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};m.prototype.reconnect=function(){function a(){if(c.connected){for(var d in c.namespaces)c.namespaces.hasOwnProperty(d)&&""!==
d&&c.namespaces[d].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=e}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,
1E3);c.reconnectionAttempts++>=d?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<f&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var c=this,d=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)};var Q="undefined"!=typeof io?io:module.parent.exports,m=function(a,b){this.socket=a;this.name=b||"";this.flags={};this.json=new ca(this,"json");this.ackPackets=0;this.acks={}},ca=function(a,b){this.namespace=
a;this.name=b};("undefined"!=typeof io?io:module.exports).SocketNamespace=m;Q.util.mixin(m,Q.EventEmitter);m.prototype.$emit=Q.EventEmitter.prototype.emit;m.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};m.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};m.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b);return this.packet(c)};
m.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1));d.args=b;return this.packet(d)};m.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};m.prototype.onPacket=function(a){function b(){c.packet({type:"ack",args:Q.util.toArray(arguments),ackId:a.id})}
var c=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var d=["message",a.data];"data"==a.ack?d.push(b):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,d);break;case "event":d=[a.name].concat(a.args);"data"==a.ack&&d.push(b);this.$emit.apply(this,d);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};ca.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};ca.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)};var L="undefined"!=typeof io?io:module.parent.exports,H=this,m=function(a){L.Transport.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=m;L.util.inherit(m,L.Transport);m.prototype.name="websocket";m.prototype.open=function(){var a=L.util.query(this.socket.options.query),b=this,c;c||(c=H.MozWebSocket||H.WebSocket);this.websocket=new c(this.prepareUrl()+a);this.websocket.onopen=function(){b.onOpen();b.socket.setBuffer(!1)};this.websocket.onmessage=function(a){b.onData(a.data)};this.websocket.onclose=function(){b.onClose();b.socket.setBuffer(!0)};this.websocket.onerror=
function(a){b.onError(a)};return this};m.prototype.send=L.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};m.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};m.prototype.close=function(){this.websocket.close();return this};m.prototype.onError=function(a){this.socket.onError(a)};m.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};m.check=
function(){return"WebSocket"in H&&!("__addTask"in WebSocket)||"MozWebSocket"in H};m.xdomainCheck=function(){return!0};L.transports.push("websocket");var R="undefined"!=typeof io?io:module.parent.exports,O=function(){R.Transport.websocket.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).flashsocket=O;R.util.inherit(O,R.Transport.websocket);O.prototype.name="flashsocket";O.prototype.open=function(){var a=this,b=arguments;WebSocket.__addTask(function(){R.Transport.websocket.prototype.open.apply(a,
b)});return this};O.prototype.send=function(){var a=this,b=arguments;WebSocket.__addTask(function(){R.Transport.websocket.prototype.send.apply(a,b)});return this};O.prototype.close=function(){WebSocket.__tasks.length=0;R.Transport.websocket.prototype.close.call(this);return this};O.prototype.ready=function(a,b){function c(){var e=a.options,f=e["flash policy port"],j=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];
O.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=j.join("/")),843!==f&&WebSocket.loadFlashPolicyFile("xmlsocket://"+e.host+":"+f),WebSocket.__initialize(),O.loaded=!0);b.call(d)}var d=this;if(document.body)return c();R.util.load(c)};O.check=function(){return"undefined"==typeof WebSocket||!("__initialize"in WebSocket)||!fa?!1:10<=fa.getFlashPlayerVersion().major};O.xdomainCheck=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=
!0);R.transports.push("flashsocket");if("undefined"!=typeof window){var fa,ha=function(){if(!Ua){try{var a=G.getElementsByTagName("body")[0].appendChild(G.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}Ua=!0;for(var a=d.length,c=0;c<a;c++)d[c]()}},ja=function(a){Ua?a():d[d.length]=a},m=function(a){if(typeof T.addEventListener!=da)T.addEventListener("load",a,!1);else if(typeof G.addEventListener!=da)G.addEventListener("load",a,!1);else if(typeof T.attachEvent!=da){var b=T;b.attachEvent("onload",
a);bb[bb.length]=[b,"onload",a]}else if("function"==typeof T.onload){var c=T.onload;T.onload=function(){c();a()}}else T.onload=a},ia=function(){var a=Da.length;if(0<a)for(var b=0;b<a;b++){var c=Da[b].id,d=Da[b].callbackFn,e={success:!1,id:c};if(0<E.pv[0]){var f=ga(c);if(f)if($a(Da[b].swfVersion)&&!(E.wk&&312>E.wk))sa(c,!0),d&&(e.success=!0,e.ref=Y(c),d(e));else if(Da[b].expressInstall&&k()){e={};e.data=Da[b].expressInstall;e.width=f.getAttribute("width")||"0";e.height=f.getAttribute("height")||"0";
f.getAttribute("class")&&(e.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(e.align=f.getAttribute("align"));for(var j={},f=f.getElementsByTagName("param"),m=f.length,w=0;w<m;w++)"movie"!=f[w].getAttribute("name").toLowerCase()&&(j[f[w].getAttribute("name")]=f[w].getAttribute("value"));D(e,j,c,d)}else r(f),d&&d(e)}else if(sa(c,!0),d){if((c=Y(c))&&typeof c.SetVariable!=da)e.success=!0,e.ref=c;d(e)}}},Y=function(a){var b=null;if((a=ga(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=da?
b=a:(a=a.getElementsByTagName(ta)[0])&&(b=a);return b},k=function(){return!rb&&$a("6.0.65")&&(E.win||E.mac)&&!(E.wk&&312>E.wk)},D=function(a,b,c,d){rb=!0;Ib=d||null;Rb={success:!1,id:c};var e=ga(c);if(e){"OBJECT"==e.nodeName?(jb=u(e),kb=null):(jb=e,kb=c);a.id=w;if(typeof a.width==da||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==da||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";G.title=G.title.slice(0,47)+" - Flash Player Installation";d=E.ie&&E.win?
["Active"].concat("").join("X"):"PlugIn";d="MMredirectURL="+T.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+G.title;b.flashvars=typeof b.flashvars!=da?b.flashvars+("&"+d):d;E.ie&&(E.win&&4!=e.readyState)&&(d=G.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}());B(a,b,c)}},r=function(a){if(E.ie&&E.win&&4!=a.readyState){var b=
G.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(u(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(u(a),a)},u=function(a){var b=G.createElement("div");if(E.win&&E.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(ta)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));
return b},B=function(a,b,c){var d,e=ga(c);if(E.wk&&312>E.wk)return d;if(e)if(typeof a.id==da&&(a.id=c),E.ie&&E.win){var f="",j;for(j in a)a[j]!=Object.prototype[j]&&("data"==j.toLowerCase()?b.movie=a[j]:"styleclass"==j.toLowerCase()?f+=' class="'+a[j]+'"':"classid"!=j.toLowerCase()&&(f+=" "+j+'="'+a[j]+'"'));j="";for(var k in b)b[k]!=Object.prototype[k]&&(j+='<param name="'+k+'" value="'+b[k]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+j+"</object>";Ba[Ba.length]=
a.id;d=ga(a.id)}else{k=G.createElement(ta);k.setAttribute("type",ka);for(var m in a)a[m]!=Object.prototype[m]&&("styleclass"==m.toLowerCase()?k.setAttribute("class",a[m]):"classid"!=m.toLowerCase()&&k.setAttribute(m,a[m]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=k,j=f,m=b[f],c=G.createElement("param"),c.setAttribute("name",j),c.setAttribute("value",m),a.appendChild(c));e.parentNode.replaceChild(k,e);d=k}return d},F=function(a){var b=ga(a);b&&"OBJECT"==b.nodeName&&(E.ie&&
E.win?(b.style.display="none",function(){if(4==b.readyState){var c=ga(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},ga=function(a){var b=null;try{b=G.getElementById(a)}catch(c){}return b},$a=function(a){var b=E.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1},
ab=function(a,b,c,d){if(!E.ie||!E.mac){var e=G.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";d&&(Jb=Ka=null);if(!Ka||Jb!=c)d=G.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),Ka=e.appendChild(d),E.ie&&(E.win&&typeof G.styleSheets!=da&&0<G.styleSheets.length)&&(Ka=G.styleSheets[G.styleSheets.length-1]),Jb=c;E.ie&&E.win?Ka&&typeof Ka.addRule==ta&&Ka.addRule(a,b):Ka&&typeof G.createTextNode!=da&&Ka.appendChild(G.createTextNode(a+" {"+b+"}"))}}},
sa=function(a,b){if(Sb){var c=b?"visible":"hidden";Ua&&ga(a)?ga(a).style.visibility=c:ab("#"+a,"visibility:"+c)}},Ca=function(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=da?encodeURIComponent(a):a},da="undefined",ta="object",ka="application/x-shockwave-flash",w="SWFObjectExprInst",T=window,G=document;p=navigator;var Ta=!1,d=[function(){if(Ta){var a=G.getElementsByTagName("body")[0],b=G.createElement(ta);b.setAttribute("type",ka);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=
da){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),E.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;ia()})()}else ia()}else ia()}],Da=[],Ba=[],bb=[],jb,kb,Ib,Rb,Ua=!1,rb=!1,Ka,Jb,Sb=!0,E,P=typeof G.getElementById!=da&&typeof G.getElementsByTagName!=da&&typeof G.createElement!=da,Va=p.userAgent.toLowerCase(),Wa=p.platform.toLowerCase(),ec=Wa?/win/.test(Wa):/win/.test(Va),Wa=Wa?/mac/.test(Wa):
/mac/.test(Va),Va=/webkit/.test(Va)?parseFloat(Va.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,lb=!+"\v1",ba=[0,0,0],ea=null;if(typeof p.plugins!=da&&typeof p.plugins["Shockwave Flash"]==ta){if((ea=p.plugins["Shockwave Flash"].description)&&!(typeof p.mimeTypes!=da&&p.mimeTypes[ka]&&!p.mimeTypes[ka].enabledPlugin))Ta=!0,lb=!1,ea=ea.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),ba[0]=parseInt(ea.replace(/^(.*)\..*$/,"$1"),10),ba[1]=parseInt(ea.replace(/^.*\.(.*)\s.*$/,"$1"),10),ba[2]=/[a-zA-Z]/.test(ea)?parseInt(ea.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0}else if(typeof T[["Active"].concat("Object").join("X")]!=da)try{var M=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");if(M&&(ea=M.GetVariable("$version")))lb=!0,ea=ea.split(" ")[1].split(","),ba=[parseInt(ea[0],10),parseInt(ea[1],10),parseInt(ea[2],10)]}catch(na){}E={w3:P,pv:ba,wk:Va,ie:lb,win:ec,mac:Wa};E.w3&&((typeof G.readyState!=da&&"complete"==G.readyState||typeof G.readyState==da&&(G.getElementsByTagName("body")[0]||G.body))&&ha(),Ua||(typeof G.addEventListener!=
da&&G.addEventListener("DOMContentLoaded",ha,!1),E.ie&&E.win&&(G.attachEvent("onreadystatechange",function(){"complete"==G.readyState&&(G.detachEvent("onreadystatechange",arguments.callee),ha())}),T==top&&function(){if(!Ua){try{G.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}ha()}}()),E.wk&&function(){Ua||(/loaded|complete/.test(G.readyState)?ha():setTimeout(arguments.callee,0))}(),m(ha)));E.ie&&E.win&&window.attachEvent("onunload",function(){for(var a=bb.length,
b=0;b<a;b++)bb[b][0].detachEvent(bb[b][1],bb[b][2]);a=Ba.length;for(b=0;b<a;b++)F(Ba[b]);for(var c in E)E[c]=null;E=null;for(var d in fa)fa[d]=null;fa=null});fa={registerObject:function(a,b,c,d){if(E.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;Da[Da.length]=e;sa(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(E.w3)return Y(a)},embedSWF:function(a,b,c,d,e,f,j,m,w,p){var n={success:!1,id:b};E.w3&&!(E.wk&&312>E.wk)&&a&&b&&c&&d&&e?(sa(b,!1),ja(function(){c+=
"";d+="";var s={};if(w&&typeof w===ta)for(var r in w)s[r]=w[r];s.data=a;s.width=c;s.height=d;r={};if(m&&typeof m===ta)for(var t in m)r[t]=m[t];if(j&&typeof j===ta)for(var T in j)r.flashvars=typeof r.flashvars!=da?r.flashvars+("&"+T+"="+j[T]):T+"="+j[T];if($a(e))t=B(s,r,b),s.id==b&&sa(b,!0),n.success=!0,n.ref=t;else{if(f&&k()){s.data=f;D(s,r,b,p);return}sa(b,!0)}p&&p(n)})):p&&p(n)},switchOffAutoHideShow:function(){Sb=!1},ua:E,getFlashPlayerVersion:function(){return{major:E.pv[0],minor:E.pv[1],release:E.pv[2]}},
hasFlashPlayerVersion:$a,createSWF:function(a,b,c){if(E.w3)return B(a,b,c)},showExpressInstall:function(a,b,c,d){E.w3&&k()&&D(a,b,c,d)},removeSWF:function(a){E.w3&&F(a)},createCSS:function(a,b,c,d){E.w3&&ab(a,b,c,d)},addDomLoadEvent:ja,addLoadEvent:m,getQueryParamValue:function(a){var b=G.location.search||G.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return Ca(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return Ca(b[c].substring(b[c].indexOf("=")+
1))}return""},expressInstallCallback:function(){if(rb){var a=ga(w);a&&jb&&(a.parentNode.replaceChild(jb,a),kb&&(sa(kb,!0),E.ie&&E.win&&(jb.style.display="block")),Ib&&Ib(Rb));rb=!1}}}}if(!("undefined"==typeof window||window.WebSocket)){var oa=window.console;if(!oa||!oa.log||!oa.error)oa={log:function(){},error:function(){}};fa.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&oa.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),
WebSocket=function(a,b,c,d,e){var f=this;f.__id=WebSocket.__nextId++;WebSocket.__instances[f.__id]=f;f.readyState=WebSocket.CONNECTING;f.bufferedAmount=0;f.__events={};b?"string"==typeof b&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,d||0,e||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,
encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING||(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],d=c.length-1;0<=d;--d)if(c[d]===
b){c.splice(d,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);(b=this["on"+a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.__createSimpleEvent(a.type);else if("close"==a.type)a=this.__createSimpleEvent("close");else if("message"==a.type)a=decodeURIComponent(a.message),a=this.__createMessageEvent("message",
a);else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,b,null,null,window,null);return c}return{type:a,
data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var a=document.createElement("div");
a.id="webSocketContainer";a.style.position="absolute";WebSocket.__isFlashLite()?(a.style.left="0px",a.style.top="0px"):(a.style.left="-100px",a.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";a.appendChild(b);document.body.appendChild(a);fa.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||oa.error("[WebSocket] swfobject.embedSWF failed")})}else oa.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(c){oa.error(c)}},
0);return!0},WebSocket.__log=function(a){oa.log(decodeURIComponent(a))},WebSocket.__error=function(a){oa.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):oa.error("Flash Player >= 10.0.0 is required.")}var ua="undefined"!=typeof io?io:module.parent.exports,Ha=this,la=function(a){a&&(ua.Transport.apply(this,arguments),this.sendBuffer=[])},Na=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=la;ua.util.inherit(la,ua.Transport);la.prototype.open=function(){this.socket.setBuffer(!1);
this.onOpen();this.get();this.setCloseTimeout();return this};la.prototype.payload=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(ua.parser.encodePacket(a[c]));this.send(ua.parser.encodePayload(b))};la.prototype.send=function(a){this.post(a);return this};la.prototype.post=function(a){function b(){if(4==this.readyState)if(this.onreadystatechange=Na,d.posting=!1,200==this.status)d.socket.setBuffer(!1);else d.onClose()}function c(){this.onload=Na;d.socket.setBuffer(!1)}var d=this;this.socket.setBuffer(!0);
this.sendXHR=this.request("POST");Ha.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=c:this.sendXHR.onreadystatechange=b;this.sendXHR.send(a)};la.prototype.close=function(){this.onClose();return this};la.prototype.request=function(a){var b=ua.util.request(this.socket.isXDomain()),c=ua.util.query(this.socket.options.query,"t="+ +new Date);b.open(a||"GET",this.prepareUrl()+c,!0);if("POST"==a)try{b.setRequestHeader?b.setRequestHeader("Content-type","text/plain;charset=UTF-8"):
b.contentType="text/plain"}catch(d){}return b};la.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};la.check=function(a,b){try{var c=ua.util.request(b),d=Ha.XDomainRequest&&c instanceof XDomainRequest,e=a&&a.options&&a.options.secure?"https:":"http:",f=Ha.location&&e!=Ha.location.protocol;if(c&&(!d||!f))return!0}catch(j){}return!1};la.xdomainCheck=function(a){return la.check(a,!0)};var ra="undefined"!=typeof io?io:module.parent.exports,M=function(a){ra.Transport.XHR.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=M;ra.util.inherit(M,ra.Transport.XHR);M.prototype.name="htmlfile";M.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var b=this,
a=ra.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;ra.util.on(window,"unload",function(){b.destroy()})};M.prototype._=function(a,b){this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}};M.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};M.prototype.close=function(){this.destroy();
return ra.Transport.XHR.prototype.close.call(this)};M.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&ra.Transport.XHR.check(a)}catch(b){}return!1};M.xdomainCheck=function(){return!1};ra.transports.push("htmlfile");var J="undefined"!=typeof io?io:module.parent.exports,mb=this,M=function(){J.Transport.XHR.apply(this,arguments)},Ga=function(){};("undefined"!=typeof io?io.Transport:
module.exports)["xhr-polling"]=M;J.util.inherit(M,J.Transport.XHR);J.util.merge(M,J.Transport.XHR);M.prototype.name="xhr-polling";M.prototype.heartbeats=function(){return!1};M.prototype.open=function(){J.Transport.XHR.prototype.open.call(this);return!1};M.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=Ga,200==this.status)d.onData(this.responseText),d.get();else d.onClose()}function b(){this.onerror=this.onload=Ga;d.retryCounter=1;d.onData(this.responseText);
d.get()}function c(){d.retryCounter++;if(!d.retryCounter||3<d.retryCounter)d.onClose();else d.get()}if(this.isOpen){var d=this;this.xhr=this.request();mb.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=c):this.xhr.onreadystatechange=a;this.xhr.send(null)}};M.prototype.onClose=function(){J.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=Ga;try{this.xhr.abort()}catch(a){}this.xhr=null}};M.prototype.ready=
function(a,b){var c=this;J.util.defer(function(){b.call(c)})};J.transports.push("xhr-polling");var wa="undefined"!=typeof io?io:module.parent.exports,xa=this,M=function(a){wa.Transport["xhr-polling"].apply(this,arguments);this.index=wa.j.length;var b=this;wa.j.push(function(a){b._(a)})},va=xa.document&&"MozAppearance"in xa.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=M;wa.util.inherit(M,wa.Transport["xhr-polling"]);M.prototype.name="jsonp-polling";
M.prototype.post=function(a){function b(){c();d.socket.setBuffer(!1)}function c(){d.iframe&&d.form.removeChild(d.iframe);try{k=document.createElement('<iframe name="'+d.iframeId+'">')}catch(a){k=document.createElement("iframe"),k.name=d.iframeId}k.id=d.iframeId;d.form.appendChild(k);d.iframe=k}var d=this,e=wa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),j=document.createElement("textarea"),m=this.iframeId="socketio_iframe_"+
this.index,k;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display="none";f.target=m;f.method="POST";f.setAttribute("accept-charset","utf-8");j.name="d";f.appendChild(j);document.body.appendChild(f);this.form=f;this.area=j}this.form.action=this.prepareUrl()+e;c();this.area.value=wa.JSON.stringify(a);try{this.form.submit()}catch(w){}this.iframe.attachEvent?k.onreadystatechange=function(){"complete"==d.iframe.readyState&&b()}:this.iframe.onload=b;this.socket.setBuffer(!0)};
M.prototype.get=function(){var a=this,b=document.createElement("script"),c=wa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.prepareUrl()+c;b.onerror=function(){a.onClose()};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;va&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},
100)};M.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};M.prototype.ready=function(a,b){var c=this;if(!va)return b.call(this);wa.util.load(function(){b.call(c)})};M.check=function(){return"document"in xa};M.xdomainCheck=function(){return!0};wa.transports.push("jsonp-polling");"function"===typeof define&&define.amd&&define([],function(){return io})})();
(function(a){function b(a,b,c,e){var d=c.lang();return d[a].call?d[a](c,e):d[a][b]}function c(a,b){return function(c){return m(a.call(this,c),b)}}function e(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function f(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function n(a){var b=this._data={},c=a.years||a.y||0,e=a.months||a.M||0,d=a.weeks||a.w||0,f=a.days||a.d||0,j=a.hours||a.h||0,k=a.minutes||a.m||0,m=a.seconds||a.s||0;a=a.milliseconds||a.ms||0;this._milliseconds=
a+1E3*m+6E4*k+36E5*j;this._days=f+7*d;this._months=e+12*c;b.milliseconds=a%1E3;m+=t(a/1E3);b.seconds=m%60;k+=t(m/60);b.minutes=k%60;j+=t(k/60);b.hours=j%24;f+=t(j/24);f+=7*d;b.days=f%30;e+=t(f/30);b.months=e%12;c+=t(e/12);b.years=c;this._lang=!1}function t(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function p(a,b,c){var e=b._milliseconds,d=b._days;b=b._months;var f;e&&a._d.setTime(+a+e*c);d&&a.date(a.date()+d*c);b&&(f=a.date(),a.date(1).month(a.month()+
b*c).date(Math.min(f,a.daysInMonth())))}function P(a){return"[object Array]"===Object.prototype.toString.call(a)}function S(a,b){var c=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),d=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&d++;return d+e}function W(a,b,c,e){var d,f,j=[];for(d=0;7>d;d++)j[d]=a[d]=null==a[d]?2===d?1:0:a[d];return a[7]=j[7]=b,null!=a[8]&&(j[8]=a[8]),a[3]+=c||0,a[4]+=e||0,f=new Date(0),b?(f.setUTCFullYear(a[0],a[1],a[2]),f.setUTCHours(a[3],a[4],a[5],a[6])):(f.setFullYear(a[0],
a[1],a[2]),f.setHours(a[3],a[4],a[5],a[6])),f._a=j,f}function y(a,b){var c,e,d=[];!b&&H&&(b=require("./lang/"+a));for(c=0;c<R.length;c++)b[R[c]]=b[R[c]]||ca.en[R[c]];for(c=0;12>c;c++)e=j([2E3,c]),d[c]=RegExp("^"+(b.months[c]||b.months(e,""))+"|^"+(b.monthsShort[c]||b.monthsShort(e,"")).replace(".",""),"i");return b.monthsParse=b.monthsParse||d,ca[a]=b,b}function A(a){return(a="string"==typeof a&&a||a&&a._lang||null)?ca[a]||y(a):j}function N(a,b){function c(b){return a.lang().longDateFormat[b]||b}
for(var e=5;e--&&ha.test(b);)b=b.replace(ha,c);if(!Ca[b]){var e=Ca,d=b,f=b,j=f.match(fa),k,m;k=0;for(m=j.length;k<m;k++)ka[j[k]]?j[k]=ka[j[k]]:j[k]=j[k].match(/\[.*\]/)?j[k].replace(/^\[|\]$/g,""):j[k].replace(/\\/g,"");e[d]=function(a){var b="";for(k=0;k<m;k++)b+="function"==typeof j[k].call?j[k].call(a,f):j[k];return b}}return Ca[b](a)}function X(a){switch(a){case "DDDD":return k;case "YYYY":return D;case "S":case "SS":case "SSS":case "DDD":return Y;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return r;
case "Z":case "ZZ":return u;case "T":return B;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return ia;default:return RegExp(a.replace("\\",""))}}function s(a,b){var c=[0,0,1,0,0,0,0],e={tzh:0,tzm:0},d=b.match(fa),f,j;for(f=0;f<d.length;f++)if((j=(X(d[f]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(j)+j.length)),ka[d[f]]){var k=c,m=e,p=void 0,n=void 0;switch(d[f]){case "M":case "MM":k[1]=null==j?0:~~j-1;break;case "MMM":case "MMMM":for(p=
0;12>p;p++)if(A().monthsParse[p].test(j)){k[1]=p;n=!0;break}n||(k[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=j&&(k[2]=~~j);break;case "YY":k[0]=~~j+(70<~~j?1900:2E3);break;case "YYYY":k[0]=~~Math.abs(j);break;case "a":case "A":m.isPm="pm"===(j+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":k[3]=~~j;break;case "m":case "mm":k[4]=~~j;break;case "s":case "ss":k[5]=~~j;break;case "S":case "SS":case "SSS":k[6]=~~(1E3*("0."+j));break;case "Z":case "ZZ":m.isUTC=!0,(p=(j+
"").match($a))&&p[1]&&(m.tzh=~~p[1]),p&&p[2]&&(m.tzm=~~p[2]),p&&"+"===p[0]&&(m.tzh=-m.tzh,m.tzm=-m.tzm)}null==j&&(k[8]=!1)}return e.isPm&&12>c[3]&&(c[3]+=12),!1===e.isPm&&12===c[3]&&(c[3]=0),W(c,e.isUTC,e.tzh,e.tzm)}function U(a,b,c,e,d){d=d.relativeTime[a];return"function"==typeof d?d(b||1,!!c,a,e):d.replace(/%d/i,b||1)}function K(a,b){j.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function V(a){j.duration.fn[a]=function(){return this._data[a]}}
function I(a,b){j.duration.fn["as"+a]=function(){return+this/b}}for(var j,C=Math.round,Q,ca={},L="en",H="undefined"!=typeof module&&module.exports,R="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),O=/^\/?Date\((\-?\d+)/i,fa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,ha=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,ja=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,
ia=/\d\d?/,Y=/\d{1,3}/,k=/\d{3}/,D=/\d{1,4}/,r=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,u=/Z|[\+\-]\d\d:?\d\d/i,B=/T/i,F=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ga=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],$a=/([\+\-]|\d\d)/gi,ab="Month Date Hours Minutes Seconds Milliseconds".split(" "),sa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},
Ca={},da=["DDD","w","M","D","d"],ta="MDHhmsw".split(""),ka={M:function(){return this.month()+1},MMM:function(a){return b("monthsShort",this.month(),this,a)},MMMM:function(a){return b("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return b("weekdaysMin",this.day(),this,a)},ddd:function(a){return b("weekdaysShort",
this.day(),this,a)},dddd:function(a){return b("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%
12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return m(~~(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+m(~~(a/60),2)+":"+m(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+m(~~(10*a/6),4)}};da.length;)Q=da.pop(),ka[Q+"o"]=e(ka[Q]);for(;ta.length;)Q=ta.pop(),ka[Q+Q]=c(ka[Q],2);ka.DDDD=c(ka.DDD,3);j=function(b,
c){if(null===b||""===b)return null;var e;if(j.isMoment(b))e=new f(new Date(+b._d),b._isUTC,b._lang);else{if(c)if(P(c)){var k=b.match(ja)||[],d,m=99,p,n;for(p=0;p<c.length;p++)n=s(b,c[p]),d=N(new f(n),c[p]).match(ja)||[],d=S(k,d),d<m&&(m=d,e=n)}else e=s(b,c);else if(e=O.exec(b),b===a)e=new Date;else if(e)e=new Date(+e[1]);else if(b instanceof Date)e=b;else if(P(b))e=W(b);else if("string"==typeof b)if(e="YYYY-MM-DDT",F.exec(b)){for(k=0;4>k;k++)if(ga[k][1].exec(b)){e+=ga[k][0];break}e=u.exec(b)?s(b,
e+" Z"):s(b,e)}else e=new Date(b);else e=new Date(b);e=new f(e)}return e};j.utc=function(a,b){return P(a)?new f(W(a,!0),!0):("string"==typeof a&&!u.exec(a)&&(a+=" +0000",b&&(b+=" Z")),j(a,b).utc())};j.unix=function(a){return j(1E3*a)};j.duration=function(a,b){var c=j.isDuration(a),e="number"==typeof a,d=c?a._data:e?{}:a,f;return e&&(b?d[b]=a:d.milliseconds=a),f=new n(d),c&&(f._lang=a._lang),f};j.humanizeDuration=function(a,b,c){return j.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};j.version="1.7.2";
j.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";j.lang=function(a,b){var c;if(!a)return L;(b||!ca[a])&&y(a,b);if(ca[a]){for(c=0;c<R.length;c++)j[R[c]]=ca[a][R[c]];j.monthsParse=ca[a].monthsParse;L=a}};j.langData=A;j.isMoment=function(a){return a instanceof f};j.isDuration=function(a){return a instanceof n};j.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",
mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});j.fn=f.prototype={clone:function(){return j(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),
this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!S(this._a,(this._a[7]?j.utc(this._a):j(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return N(this,a?a:j.defaultFormat)},add:function(a,b){var c=b?j.duration(+b,a):j.duration(a);return p(this,c,1),this},subtract:function(a,b){var c=b?j.duration(+b,a):j.duration(a);
return p(this,c,-1),this},diff:function(a,b,c){a=this._isUTC?j(a).utc():j(a).local();var e=6E4*(this.zone()-a.zone()),e=this._d-a._d-e,d=this.year()-a.year(),f=this.month()-a.month();a=this.date()-a.date();var k;return"months"===b?k=12*d+f+a/30:"years"===b?k=d+(f+a/30)/12:k="seconds"===b?e/1E3:"minutes"===b?e/6E4:"hours"===b?e/36E5:"days"===b?e/864E5:"weeks"===b?e/6048E5:e,c?k:C(k)},from:function(a,b){return j.duration(this.diff(a)).lang(this._lang).humanize(!b)},fromNow:function(a){return this.from(j(),
a)},calendar:function(){var a=this.diff(j().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"==typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<j([this.year()]).zone()||this.zone()<j([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==
a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return j.utc([this.year(),this.month()+1,0]).date()},lang:function(b){return b===a?A(this):(this._lang=b,this)}};for(Q=0;Q<ab.length;Q++)K(ab[Q].toLowerCase(),ab[Q]);K("year","FullYear");j.duration.fn=n.prototype={weeks:function(){return t(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,e;e=!a;var d=this.lang(),f=C(Math.abs(b)/1E3),j=C(f/60),k=C(j/60),m=C(k/24),p=C(m/
365),f=45>f&&["s",f]||1===j&&["m"]||45>j&&["mm",j]||1===k&&["h"]||22>k&&["hh",k]||1===m&&["d"]||25>=m&&["dd",m]||45>=m&&["M"]||345>m&&["MM",C(m/30)]||1===p&&["y"]||["yy",p];e=(f[2]=e,f[3]=0<b,f[4]=d,U.apply({},f));b=0>=b?c.past:c.future;return a&&("function"==typeof b?e=b(e):e=b.replace(/%s/i,e)),e},lang:j.fn.lang};for(Q in sa)sa.hasOwnProperty(Q)&&(I(Q,sa[Q]),V(Q.toLowerCase()));I("Weeks",6048E5);H&&(module.exports=j);"undefined"==typeof ender&&(this.moment=j);"function"==typeof define&&define.amd&&
define("moment",[],function(){return j})}).call(this);
(function(a){var b=8,c=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},e=function(a,b){return a>>>b|a<<32-b},f=function(a,b){var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,
338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=Array(64),t,N,X,s,U,K,V,I,j,C,Q,ca;a[b>>5]|=128<<24-b%
32;a[(b+64>>9<<4)+15]=b;for(j=0;j<a.length;j+=16){t=m[0];N=m[1];X=m[2];s=m[3];U=m[4];K=m[5];V=m[6];I=m[7];for(C=0;64>C;C++)n[C]=16>C?a[C+j]:c(c(c(e(n[C-2],17)^e(n[C-2],19)^n[C-2]>>>10,n[C-7]),e(n[C-15],7)^e(n[C-15],18)^n[C-15]>>>3),n[C-16]),Q=c(c(c(c(I,e(U,6)^e(U,11)^e(U,25)),U&K^~U&V),f[C]),n[C]),ca=c(e(t,2)^e(t,13)^e(t,22),t&N^t&X^N&X),I=V,V=K,K=U,U=c(s,Q),s=X,X=N,N=t,t=c(Q,ca);m[0]=c(t,m[0]);m[1]=c(N,m[1]);m[2]=c(X,m[2]);m[3]=c(s,m[3]);m[4]=c(U,m[4]);m[5]=c(K,m[5]);m[6]=c(V,m[6]);m[7]=c(I,m[7])}return m},
n=function(a){for(var c=[],e=(1<<b)-1,f=0;f<a.length*b;f+=b)c[f>>5]|=(a.charCodeAt(f/b)&e)<<24-f%32;return c},t=function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b},m=function(b){return b="object"==typeof b?a(b).val():b.toString()};a.extend({sha256:function(a){a=m(a);return t(f(n(a),a.length*b))},sha256hmac:function(a,c){a=m(a);c=m(c);var e,W=a;e=c;var y=n(W);16<y.length&&(y=f(y,W.length*b));
for(var A=Array(16),W=Array(16),N=0;16>N;N++)A[N]=y[N]^909522486,W[N]=y[N]^1549556828;e=f(A.concat(n(e)),512+e.length*b);e=f(W.concat(e),768);return t(e)},sha256config:function(a){b=parseInt(a)||8}});a.fn.sha256=function(b){a.sha256config(b);b=m(a(this).val());b=a.sha256(b);a.sha256config(8);return b}})(jQuery);
function Space(a){this.keys=[];this.values={};if("string"===typeof a)return this.loadFromString(a);if(a instanceof Space){this.keys=a.keys;for(var b in this.keys){var c=this.keys[b];this.values[c]=a.values[c]}return this}for(c in a)a.hasOwnProperty(c)&&(b=a[c],"object"===typeof b?this.set(c,new Space(b)):this.set(c,b));return this}Space.strRepeat=function(a,b){for(var c="",e=0;e<b;e++)c+=" ";return c};
Space.union=function(){var a=Space.unionSingle(arguments[0],arguments[1]),b;for(b in arguments)if(1!==b&&(a=Space.unionSingle(a,arguments[b]),!a.keys.length))break;return a};Space.unionSingle=function(a,b){var c=new Space;if(!(b instanceof Space))return c;for(var e in a.keys){var f=a.keys[e],n=a.values[f];n instanceof Space&&(b.values[f]&&b.values[f]instanceof Space)&&c.set(f,Space.unionSingle(n,b.values[f]));n===b.values[f]&&c.set(f,n)}return c};Space.prototype.keys=[];Space.prototype.values={};
Space.prototype.clear=function(){this.keys=[];this.values={};return this};Space.prototype.clone=function(){return new Space(this.toString())};Space.prototype["delete"]=function(a){if(!a.match(/ /)){var b=this.keys.indexOf(a);if(-1===b)return this;this.keys.splice(b,1);delete this.values[a];return this}b=a.split(/ /);a=b.pop();b=this.get(b.join(" "));if(b instanceof Space)b["delete"](a);return this};
Space.prototype.diff=function(a){var b=new Space;a instanceof Space||(a=new Space(a));for(var c in this.keys){var e=this.keys[c],f=a.values[e];"undefined"===typeof f?b.set(e,""):typeof this.values[e]!==typeof f?"object"===typeof f?b.set(e,new Space(f)):this.values[e]!=f&&b.set(e,f):"object"!==typeof this.values[e]?this.values[e]!=f&&b.set(e,f):(f=this.values[e].diff(f),f.keys.length&&b.set(e,f))}for(c in a.keys)e=a.keys[c],f=a.values[e],this.values[e]||("object"!==typeof f?b.set(e,f):f instanceof
Space?b.set(e,new Space(f)):b.set(e,new Space(a)));return b};Space.prototype.diffOrder=function(a){a instanceof Space||(a=new Space(a));var b=new Space,c;for(c in a.keys){var e=a.keys[c],f=a.values[e];f instanceof Space&&this.values[e]instanceof Space&&(f=this.values[e].diffOrder(f),f.empty()||b.set(e,f))}if(a.keys.join(" ")===this.keys.join(" "))return b;b.keys=a.keys;for(c in a.keys)e=a.keys[c],b.values.hasOwnProperty(e)||(b.values[e]=new Space);return b};
Space.prototype.each=function(a){for(var b in this.keys)a.call(this,this.keys[b],this.values[this.keys[b]]);return this};Space.prototype.empty=function(){return 0===this.keys.length};Space.prototype.get=function(a){switch(typeof a){case "string":return this.getByString(a);case "object":return this.getBySpace(a);case "number":return this.getByInt(a)}return null};Space.prototype.getByInt=function(a){0>a&&(a=this.keys.length+a);return this.values[this.keys[a]]};
Space.prototype.getByString=function(a){if(!a)return null;if(!a.match(/ /))return this.values[a];a=a.split(/ /g);var b=a.shift();return!(b in this.values)?null:this.values[b].get(a.join(" "))};Space.prototype.getBySpace=function(a){var b=new Space,c;for(c in a.keys){var e=a.keys[c],f=this.values[e];"undefined"!==typeof f&&(!(a.values[e]instanceof Space)||!a.values[e].keys.length?b.set(e,f):f instanceof Space&&b.set(e,f.getBySpace(a.values[e])))}return b};Space.prototype.length=function(){return this.keys.length};
Space.prototype.loadFromString=function(a){a=a.replace(/^[\n ]*/,"");a=a.replace(/\n\r/g,"\n").replace(/\r\n/g,"\n");a=a.replace(/[\n ]*$/,"");a=a.replace(/\n\n+/,"\n");a=a.split(/\n(?! )/g);for(var b in a){var c=a[b];(matches=c.match(/^([^ ]+)(\n|$)/))?this.set(matches[1],new Space(c.substr(matches[1].length).replace(/\n /g,"\n"))):(matches=c.match(/^([^ ]+) /))&&this.set(matches[1],c.substr(matches[1].length+1).replace(/^\n /,"").replace(/\n /g,"\n"))}return this};
Space.prototype.next=function(a){a=this.keys.indexOf(a)+1;return this.keys[a]?this.keys[a]:this.keys[0]};Space.prototype.patch=function(a){a instanceof Space||(a=new Space(a));for(var b in a.keys){var c=a.keys[b],e=a.values[c];if("string"===typeof e)if(""===e)this["delete"](c);else this.set(c,e);else if("number"===typeof e)this.set(c,e);else if(e instanceof Space&&!e.keys.length)this["delete"](c);else this.values[c]instanceof Space?this.values[c].patch(e):this.set(c,new Space(e))}return this};
Space.prototype.patchOrder=function(a){a instanceof Space||(a=new Space(a));var b=this.keys.length,c;for(c in a.keys){var e=a.keys[c];if(!this.values.hasOwnProperty(e))break;b--}0===b&&(this.keys=a.keys);for(c in a.keys)e=a.keys[c],b=a.values[e],b instanceof Space&&(b.keys.length&&this.values[e]instanceof Space)&&this.values[e].patchOrder(b);return this};Space.prototype.prev=function(a){a=this.keys.indexOf(a)-1;return 0<=a?this.keys[a]:this.keys[this.keys.length-1]};
Space.prototype.rename=function(a,b){this.values[b]=this.values[a];delete this.values[a];this.keys[this.keys.indexOf(a)]=b;return this};Space.prototype.set=function(a,b,c){if(!a)return null;a=a.toString().split(/ /g);for(var e=this,f;f=a.shift();)void 0===e.values[f]&&("number"===typeof c?e.keys.splice(c,0,f):e.keys.push(f)),a.length?e.values[f]instanceof Space||(e.values[f]=new Space):e.values[f]=b,e=e.values[f];return this};
Space.prototype.toJavascript=function(){return"new Space('"+this.toString().replace(/\n/g,"\\n").replace(/\'/g,"\\'")+"')"};Space.prototype.toJSON=function(){return JSON.stringify(this.toObject())};Space.prototype.toObject=function(){var a={},b;for(b in this.keys){var c=this.keys[b],e=this.values[c];a[c]=e instanceof Space?e.toObject():e}return a};
Space.prototype.toString=function(a){a=a||0;var b="",c;for(c in this.keys){var e=this.keys[c],f=this.values[e];"undefined"===typeof f?b+="\n":(b+=Space.strRepeat(" ",a)+e,b=f instanceof Space?b+("\n"+f.toString(a+1)):"object"===typeof f?b+("\n"+(new Space(f)).toString(a+1)):""===f.toString()?b+"\n":f.toString().match(/\n/)?b+(" \n"+Space.strRepeat(" ",a+1)+f.toString().replace(/\n/g,"\n"+Space.strRepeat(" ",a+1))+"\n"):b+(" "+f.toString()+"\n"))}return b};
"undefined"!=typeof exports&&(module.exports=Space);if("undefined"!=typeof exports)var Space=require("space"),fs=require("fs"),marked=require("marked");function Element(a,b){this.type=a;this.attrs=b||{};this.content="";return this}Element.prototype.addClass=function(a){this.attrs["class"]=this.attrs["class"]?this.attrs["class"]+(" "+a):a};Element.prototype.append=function(a){this.content+=a};Element.prototype.attr=function(a,b){this.attrs[a]=b};Element.prototype.html=function(a){this.content+=a};
Element.prototype.toHtml=function(){var a="<"+this.type,b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(a+=" "+b+'="'+this.attrs[b]+'"');a+=">"+this.content;return a+="</"+this.type+">"};function Scrap(a,b){this.path=a;this.id=a.split(/ /g).pop();this.clear();b instanceof Space||(b=new Space(b));this.patch(b);var c=this.values.scraps;if(c instanceof Space)for(var e in c.keys){var f=c.keys[e];c.values[f]=new Scrap(a+" "+f,c.values[f])}return this}
Scrap.format=function(a,b){return"nl2br"===b?a.replace(/\n/g,"<br>"):"markdown"===b?marked(a):a};Scrap.getPointer=function(a,b){if(!a||"string"===typeof b||!b&&"undefined"===typeof window)return null;b||(b=window);var c=a.split("."),e=c.shift();return!(e in b)?null:!c.length?b[e]:Scrap.getPointer(c.join("."),b[e])};Scrap.replace=function(a,b){return a.replace(/\{\{([_a-zA-Z0-9\.]+)( [^\}]+)?\}\}/g,function(a,e,f){return Scrap.getPointer(e,b)||(f?f.substr(1):"")})};
Scrap.styleToCss=function(a,b,c){a+=" {\n";for(var e in b)b.hasOwnProperty(e)&&(a+="  "+e+" : "+b[e].toString().replace(/\;$/,"")+";\n");return Scrap.replace(a+"}\n",c)};Scrap.styleToInline=function(a,b){var c="",e;for(e in a)a.hasOwnProperty(e)&&(c+=e+": "+a[e].toString().replace(/\;$/,"")+"; ");return Scrap.replace(c,b)};Scrap.events="onblur onchange onclick oncontextmenu onenterkey onfocus onhold onkeydown onkeypress onkeyup onmousedown onmouseout onmouseover onmouseup onorientationchange onsubmit ontouchend ontouchmove ontouchstart".split(/ /);
Scrap.prototype=new Space;Scrap.prototype.clone=function(a){return new Scrap(a,this)};
Scrap.prototype.loop=function(a){if(!this.values.loop||!this.values.scraps)return null;var b=this.values.scraps.toString(),c=this.values.loop;"string"===typeof c&&c.match(/\{\{/)&&(c=Scrap.getPointer(c.replace(/\{|\}/g,""),a));"string"===typeof c&&(c=this.values.loop.split(/ /g));if(!c)return null;c instanceof Space||(c=new Space(c));var e="";c.each(function(c,n){var t={key:c,value:n},m=b.replace(/\{\{([_a-z0-9\.]+)\}\}/gi,function(b,c){var e;return(e=Scrap.getPointer(c,t))?e:Scrap.getPointer(c,a)});
(new Space(m)).each(function(a,b){e+=(new Scrap(a,b)).toHtml()})});this.div.append(e)};Scrap.prototype.selector=function(){return"#"+this.path.replace(/ /g," #")};Scrap.prototype.setContent=function(a){if(this.values.loop)return this.loop(a);this.values.content&&this.div.html(Scrap.format(Scrap.replace(this.values.content,a),this.values.content_format));if(this.values.scraps)for(var b in this.values.scraps.keys)this.div.html(this.values.scraps.values[this.values.scraps.keys[b]].toHtml(a));return this};
Scrap.prototype.setElementType=function(a){type=this.values.type?this.values.type:"div";this.div=type.match(/^(checkbox|color|date|datetime|email|file|month|number|password|radio|range|search|tel|text|time|url|week)$/)?new Element("input",{type:type}):"inputbutton"===type?new Element("input",{type:"button"}):"hidden"===type?new Element("input",{type:"hidden"}):new Element(type);this.div.attr("id",this.id);var b="checked class disabled draggable dropzone end for height href max maxlength min name origin pattern placeholder readonly rel required selected spellcheck src tabindex target title width value".split(/ /),
c;for(c in b)this.setProperty(b[c],a)};Scrap.prototype.setProperty=function(a,b){this.values[a]&&this.div.attr(a,Scrap.replace(this.values[a],b))};Scrap.prototype.setScript=function(){for(var a in Scrap.events){var b=Scrap.events[a];this.values[b]&&this.div.attr(b,this.values[b])}};
Scrap.prototype.setStyle=function(a){if(!this.values.style)return null;if(!(this.values.style instanceof Space))return this.div.attr("style",this.values.style);this.div.attr("style",Scrap.styleToInline(this.values.style.values,a))};Scrap.prototype.toHtml=function(a){this.setElementType(a);this.setContent(a);this.setStyle(a);this.setScript(a);return this.div.toHtml()};function Page(a){this.clear();a&&this.patch(a);this.loadScraps();return this}Page.prototype=new Space;Page.prototype.clone=function(){return new Page(this.values)};
Page.prototype.loadScraps=function(){for(var a in this.keys){var b=this.keys[a];this.values[b]=new Scrap(b,this.values[b])}};Page.prototype.request=function(){return!1};Page.prototype.toHtml=function(a){a||(a={});this.request(a);var b="<!doctype html>\n",c;for(c in this.keys){var e=this.keys[c];"true"!==this.values[e].values.draft&&(b+="\n  "+this.values[e].toHtml(a))}return b};"undefined"!=typeof exports&&(module.exports=Page);
var Thumbs={getDimensions:function(a){var b={},c=!1;$(a).contents().find(".scrap").each(function(){var a,f,n,t;c?(a=$(this).position().left,f=a+$(this).outerWidth(),n=$(this).position().top,t=top+$(this).outerHeight(),a<b.left&&(b.left=a),f>b.right&&(b.right=f),n<b.top&&(b.top=n),t>b.bottom&&(b.bottom=t)):(b.left=$(this).position().left,b.right=b.left+$(this).outerWidth(),b.top=$(this).position().top,b.bottom=b.top+$(this).outerHeight(),c=!0)});b.height=b.bottom-b.top;b.width=b.right-b.left;return b},
insert:function(a,b,c,e){c=e.width;var f=e.height;e=$("<iframe></iframe>");e.attr("frameborder",0);e.attr("scrolling","no");e.css("width",c);e.css("height",f);b.append(e);a._static=!0;e.contents().find("body").append(a.toHtml()).css("background-color","transparent");b=Thumbs.getDimensions(e);a=e.contents().find("body");if(b.height<=f&&b.width<=c)return a.css({"-webkit-translate":"0px "+Math.round((f-b.height)/2)+"px"}),e;if(b.width<c)return c=1*f/b.height,c="scale("+c+")",a.css({"-webkit-transform":c,
transform:c,"-moz-transform":c,"transform-origin":"0 0"}),e;if(b.height<f||b.height<b.width)return c=1*c/b.width,c="scale("+c+")",a.css({"-webkit-transform":c,transform:c,"-moz-transform":c,"transform-origin":"0 0"}),e;c=1*f/b.height;c="scale("+c+")";a.css({"-webkit-transform":c,transform:c,"-moz-transform":c,"transform-origin":"0 0"});return e}};function App(a){this.name=a;this._open=!1}App.openApp=null;
App.prototype.close=function(a){if(!this._open)return!1;this._open=!1;App.openApp=!1;$(".nudgepadFullScreenApp").hide();a&&nudgepad.apps[a].open()};App.prototype.isOpen=function(){return this._open};App.prototype.open=function(){if(this._open)return!1;if(App.openApp)return App.openApp.close(this.name);if(this.onopen)this.onopen();$("#nudgepad"+ToProperCase(this.name)+"App").show();App.openApp=this;this._open=!0;nudgepad.trigger("selection");if(this.onready)this.onready()};
App.prototype.restart=function(){this.close();this.open()};App.prototype.toggle=function(){this._open?this.close():this.open()};window.console||(window.console={log:function(){}});
nudgepad={apps:{},pages:{},stage:{},isTesting:!1,event_handlers:{selection:[],page:[],workerSelection:[],disconnect:[],ping:[],main:[],patch:[],ready:[],arrive:[],depart:[],"public":[],uploadComplete:[]},main:function(a){nudgepad.domain=document.location.host;nudgepad.grid=new Grid;nudgepad.cookie=parseCookie(document.cookie);nudgepad.name=ParseName(nudgepad.cookie.email);window.name="nudgepad";nudgepad.select=!0;Events.shortcut.context=".nudgepad";nudgepad.query=ParseQueryString();nudgepad.explorer.getSite(function(){nudgepad.bind_shortcuts();
nudgepad.socket=io.connect("/");nudgepad.socket.on("public",function(a){nudgepad.trigger("public",a)});nudgepad.socket.on("arrive",function(a){nudgepad.trigger("arrive",a)});nudgepad.socket.on("depart",function(a){nudgepad.trigger("depart",a)});nudgepad.socket.on("pageChange",function(a){var b=a.split(/ /);a=ParseName(b[0]);nudgepad.openPages[a]=b[1];nudgepad.pages.updateTabs()});nudgepad.socket.on("uploadComplete",function(a){nudgepad.trigger("uploadComplete",a)});nudgepad.socket.on("patch",function(a){nudgepad.trigger("patch",
a)});nudgepad.socket.on("connect_failed",function(a){console.log("Connect failed");console.log(a);$("#nudgepadConnectionStatus").html("Connection to server failed...").show()});nudgepad.socket.on("workerSelection",function(a){nudgepad.trigger("workerSelection",a)});nudgepad.socket.on("error",function(a){console.log(a);$("#nudgepadConnectionStatus").html("Connecting to server...").show()});nudgepad.socket.on("disconnect",function(a){nudgepad.trigger("disconnect",a)});nudgepad.socket.on("ack",function(a){nudgepad.trigger("ping",
a)});nudgepad.socket.on("connect",function(a){console.log("connected to server %s",a);$("#nudgepadConnectionStatus").html("Connected!").fadeOut();nudgepad.restartCheck()});nudgepad.iosMain();var b=store.get("activePage")||"home";site.get("pages "+b)||(b="home");nudgepad.stage.open(b);$(window).on("resize",function(){$(".handle").trigger("update")});nudgepad.warnBeforeReload=!0;window.onbeforeunload=function(){if(nudgepad.warnBeforeReload)return nudgepad.reloadMessage()};$("body").scrollTop(0);$("body").scrollLeft(0);
nudgepad.navigation.openAppFromQueryString();$("#nudgepadLoadingScreen").hide();$(document).on("dragstart","img",function(a){a.preventDefault()});nudgepad.explorer.downloadTimelines();nudgepad.trigger("main");nudgepad.updateRoom();a&&a()})},emit:function(a,b){if(nudgepad.isTesting)return null;nudgepad.socket.emit(a,b.toString(),function(a){console.log(a)})},off:function(){},on:function(a,b){nudgepad.event_handlers[a].push(b)},quit:function(){$(".scrap,.nudgepad").remove()},trigger:function(a,b){for(var c in nudgepad.event_handlers[a])nudgepad.event_handlers[a][c](b)}};
nudgepad.apps.account=new App("account");nudgepad.apps.account.onopen=function(){$(".nudgepad#email").val(nudgepad.cookie.email)};nudgepad.apps.account.save=function(){var a=$(".nudgepad#email").val();if(!ValidateEmail(a))return nudgepad.error("Invalid Email");if(a===nudgepad.cookie.email)return nudgepad.apps.home.open();$.post("/nudgepad.updateEmail",{email:a},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?app=home"})};
nudgepad.on("main",function(){$(".barDroppable").on("click",function(){$(".imageDroppableOptions").hide();$(this).hasClass("selectedDroppable")?($(this).removeClass("selectedDroppable"),$(".barDroppable").removeClass("lowlight"),$("#nudgepadRibbon").slideUp("fast")):($(".barDroppable").removeClass("selectedDroppable"),$(this).addClass("selectedDroppable"),$(this).removeClass("lowlight"),$(".barDroppable").not(".selectedDroppable").addClass("lowlight"),$("#nudgepadRibbon").slideDown("fast"))});$(".barDroppable").on("slidestart",
function(){var a=$(this).attr("title").toLowerCase();nudgepad.stage.dragAndDrop(nudgepad.droppables.get("blocks "+a))});$("#imageDroppable").on("click",function(){$(".imageDroppableOptions").show()})});nudgepad.apps.blog=new App("blog");
nudgepad.apps.blog.blankTheme=new Space({title:{type:"title",content:"{{post.title Post Title}}"},stylesheet:{type:"link",rel:"stylesheet",href:"site.css"},container:{style:{width:"90%","max-width":"800px",height:"100%",margin:"0 auto"},scraps:{block1:{style:{height:"auto","font-family":"Open Sans",width:"auto","font-size":"48px","font-weight":"normal",color:"#333","text-decoration":"none","font-style":"normal",padding:"10px"},content:"{{post.title Post Title}}"},block14:{style:{height:"auto","font-family":"Open Sans",
width:"auto","font-size":"18px","font-weight":"normal",color:"#333","text-decoration":"none","font-style":"normal",padding:"10px"},content:"{{post.content Lorem ipsum foobar }}"}}}});nudgepad.apps.blog.createPost=function(){$(".nudgepad#content,.nudgepad#title").val("");$(".nudgepad#advanced").val("timestamp "+(new Date).getTime()+"\ntemplate blog");$(".nudgepad#permalink").attr("value","");$(".nudgepad#title").focus();nudgepad.apps.blog.activePost=null};
nudgepad.apps.blog.deletePost=function(){nudgepad.apps.blog.activePost=null;var a=Permalink($(".nudgepad#permalink").attr("value"));if(!a)return nudgepad.error("No post to delete");if(!site.get("posts "+a))return nudgepad.error("Post does not exist");site.delete("posts "+a);var b=new Space;b.set("posts "+a,"");nudgepad.emit("patch",b.toString());nudgepad.apps.blog.restart()};
nudgepad.apps.blog.editPost=function(a){nudgepad.apps.blog.activePost=a;var b=site.get("posts "+a);$(".nudgepad#content").val(b.get("content"));$(".nudgepad#title").val(b.get("title"));b=new Space(b.toString());b.delete("title");b.delete("content");$(".nudgepad#advanced").val(b.toString());$(".nudgepad#permalink").text("http://"+nudgepad.domain+"/"+a).attr("value",a);nudgepad.apps.blog.updateLinks();$(".nudgepad#content").focus()};
nudgepad.apps.blog.initialize=function(){if(site.get("pages blog"))return!0;var a=new Space;a.set("pages blog",nudgepad.apps.blog.blankTheme.clone());nudgepad.emit("patch",a.toString());site.set("pages blog",nudgepad.apps.blog.blankTheme);nudgepad.pages.updateTabs()};nudgepad.apps.blog.activePost=null;
nudgepad.apps.blog.onopen=function(){nudgepad.apps.blog.initialize();$(".nudgepad#posts").html("");if(!site.get("posts"))return!0;_.each(site.get("posts").keys,function(a){console.log(a);var b=site.get("posts").get(a);a=$("<div >"+b.get("title")+"</div>").css({color:"#777","margin-bottom":"9px","font-size":"13px"}).on("click",function(){nudgepad.apps.blog.editPost($(this).attr("value"))}).attr("value",a).attr("title",a);$(".nudgepad#posts").append(a)})};
nudgepad.apps.blog.onready=function(){nudgepad.apps.blog.activePost?nudgepad.apps.blog.editPost(nudgepad.apps.blog.activePost):nudgepad.apps.blog.createPost()};
nudgepad.apps.blog.savePost=function(){var a=Permalink($(".nudgepad#permalink").attr("value"));if(!a)return nudgepad.error("Title cannot be blank");var b=site.get("posts "+a);b||(b=new Space);b.set("content",$(".nudgepad#content").val());b.set("title",$(".nudgepad#title").val());b.patch($(".nudgepad#advanced").val());site.set("posts "+a,b);var c=new Space;c.set("posts "+a,b);nudgepad.apps.blog.activePost&&nudgepad.apps.blog.activePost!==a&&(c.set("posts "+nudgepad.apps.blog.activePost,""),site.delete("posts "+
nudgepad.apps.blog.activePost));nudgepad.emit("patch",c.toString());nudgepad.apps.blog.activePost=a;nudgepad.apps.blog.restart();window.open(a,"published")};nudgepad.apps.blog.updateLinks=function(){$(".nudgepad#posts div").css("color","#777");$(".nudgepad#posts div").each(function(){$(this).attr("value")==nudgepad.apps.blog.activePost&&$(this).css("color","#333")})};
nudgepad.apps.blog.updatePermalink=function(){var a=Permalink($(".nudgepad#title").val());$(".nudgepad#permalink").text("http://"+nudgepad.domain+"/"+a).attr("value",a)};
nudgepad.console=function(){nudgepad.feedback.record("launched console");var a=$('<pre id="nudgepadEditorConsole"></pre>'),b=$('<input id="nudgepadEditorInput" type="text"/>'),c=$('<input type="checkbox" id="nudgepadEditorCheckbox"/>'),e=$('<label for="nudgepadEditorCheckbox" id="nudgepadEditorLabel">Shell</label>'),f=$('<div id="nudgepadEditorModalScreen"/>');f.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});a.on("tap mousedown click slide slidestart slideend mouseup",
function(a){a.stopPropagation()});var n=$('<div id="nudgepadEditorSaveButton">Send</div>'),t=$('<div id="nudgepadEditorCancelButton">Close</div>'),m=$('<div id="nudgepadEditorButtonContainer"></div>');f.on("click",function(){t.trigger("click")});t.on("click",function(){n.remove();a.remove();f.remove();m.remove();t.remove();e.remove();c.remove();b.remove()});n.on("click",function(){var e=b.val(),f="nudgepad.console";c.is(":checked")&&(f="nudgepad.exec");$.post(f,{command:e},function(c){a.append(">"+
e.replace(/\n/g,"> \n")+"\n");a.append(c+"\n");a.scrollTop($("pre")[0].scrollHeight+"");b.val("");b.focus()},null,function(c){nudgepad.feedback.record("used console. got error");a.append(">"+e.replace(/\n/g,"> \n")+"\n");a.append("ERROR\n");a.append(c.responseText+"\n");a.scrollTop($("pre")[0].scrollHeight+"");b.val("");b.focus()})});b.on("enterkey",function(){n.click()});$("body").append(f);$("body").append(c);$("body").append(e);$("body").append(a);$("body").append(b);$("body").append(n);$("body").append(t);
$("body").append(m);b.focus()};nudgepad.contentEditor={};nudgepad.contentEditor.blur=function(){$(this).scrap().set("content",$(this).html());$(this).off("tap mousedown slide slidestart hold slideend",nudgepad.contentEditor.killEvent);$(this).removeAttr("contenteditable");var a=$(this).attr("id");$("."+a+"_handle").remove();nudgepad.stage.commit()};
nudgepad.contentEditor.focus=function(a,b){nudgepad.stage.selection.clear();var c=$(a),e=c.scrap();if(e.isContentEditable())nudgepad.emit("workerSelection",nudgepad.stage.activePage.concat(" ",nudgepad.cookie.email,a,"{box-shadow: 0 0 2px red;cursor: not-allowed;}")),c.attr("contenteditable","true"),c.on("tap slide slidestart hold slideend",nudgepad.contentEditor.killEvent),c.on("blur",nudgepad.contentEditor.blur),c.focus(),MoveCursorToEnd(c[0]),b&&document.execCommand("selectAll",!1,null);else{var f=
"content",n=e.values.type;if(n&&n.match(/^(list)$/))return nudgepad.stage.selection.clear(),c.selectMe(),nudgepad.stage.selection.editSource(),!1;n&&n.match(/^(textarea|input|password)$/)&&(f="placeholder");nudgepad.textPrompt("Editing content for this block",e.values[f],function(a){e.values[f]=a;nudgepad.stage.commit();c.remove();$("#nudgepadStageBody").append(e.toHtml(null,!0));c.selectMe()})}};nudgepad.contentEditor.killEvent=function(){nudgepad.mouse.down.stopPropagation();return!1};
nudgepad.apps.develop=new App("develop");nudgepad.apps.develop.files="";nudgepad.apps.develop.log="";nudgepad.apps.develop.path="";nudgepad.apps.develop.pathPretty="";nudgepad.apps.develop.status="";nudgepad.apps.develop.createFile=function(){var a=prompt("Name your file");if(!a)return!1;nudgepad.explorer.create(nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refresh)};nudgepad.apps.develop.home=function(){nudgepad.apps.develop.path="";nudgepad.apps.develop.pathPretty="";nudgepad.apps.develop.renderExplorer()};
nudgepad.apps.develop.import=function(){nudgepad.textPrompt("Import a Site ","",function(a){$.post("/nudgepad.import",{space:a},function(){nudgepad.notify("Imported. Please restart")})})};nudgepad.apps.develop.onopen=function(){nudgepad.apps.develop.log||nudgepad.apps.develop.refresh()};
nudgepad.apps.develop.renderExplorer=function(){var a=nudgepad.apps.develop.files;nudgepad.apps.develop.path&&(a=a.get(nudgepad.apps.develop.path));var b;b='<table id="nudgepadExplorer"><tr class="explorerHeader"><td>Filename</td><td></td><td></td><td>Size</td><td>Age</td></tr>';var c=a.keys,e;for(e in c){var f=c[e],n=a.values[f],t="<tr";n.get("timeSinceLastChange")?(t+=' class="explorerFile" value="'+f+'">',t+='<td class="explorerEdit standardCell">'+f+"</td>",t+='<td class="explorerRename standardCell">Rename</td>',
t+='<td class="explorerRemove standardCell">Delete</td>',t+='<td class="standardCell">'+n.get("size")+"KB</td>",t+='<td class="standardCell">'+moment(n.get("mtime")).fromNow()+"</td>"):(t+=' class="explorerFolder" value="'+f+'">',t+='<td class="explorerFolderName standardCell" colspan=5>'+f+"</td>");t+="</tr>";b+=t}nudgepad.apps.develop.explorer=b+"</table>";$(".nudgepad#explorerPath").text(nudgepad.domain+"/"+nudgepad.apps.develop.pathPretty);$(".nudgepad#explorerHolder").html(nudgepad.apps.develop.explorer)};
nudgepad.apps.develop.refresh=function(){$.get("/nudgepad.status",{},function(a){nudgepad.apps.develop.status=a;$(".nudgepad#statusArea").text(nudgepad.apps.develop.status)});$.get("/nudgepad.logs",{},function(a){nudgepad.apps.develop.log=a;$(".nudgepad#logHolder").html(a);$("#logHolder").scrollTop($("#logHolder").height())});$.get("/nudgepad.explorer.list",{},function(a){nudgepad.apps.develop.files=new Space(a);nudgepad.apps.develop.renderExplorer()})};
$(document).on("click","td.explorerEdit",function(){nudgepad.explorer.edit(nudgepad.apps.develop.pathPretty+$(this).parent().attr("value"))});$(document).on("click","td.explorerRename",function(){var a=prompt("Rename this file",$(this).parent().attr("value"));if(!a)return!1;nudgepad.explorer.rename(nudgepad.apps.develop.pathPretty+$(this).parent().attr("value"),nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refreshFiles)});
$(document).on("click","td.explorerRemove",function(){var a=$(this).parent().attr("value");if(!confirm("Are you sure you want to delete "+a+"?"))return!1;nudgepad.explorer.remove(nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refresh)});
$(document).on("click","td.explorerFolderName",function(){nudgepad.apps.develop.path=nudgepad.apps.develop.path?nudgepad.apps.develop.path+(" "+$(this).parent().attr("value")):$(this).parent().attr("value");nudgepad.apps.develop.pathPretty=nudgepad.apps.develop.path.replace(" ","/")+"/";nudgepad.apps.develop.renderExplorer()});var visibleContent;
$(document).on("click",".devToggleOption",function(){visibleContent=$(this).text().toLowerCase()+"Content";$(this).hasClass("devSelect")||($("div").removeClass("devSelect"),$(this).addClass("devSelect"),$(".devAppContent").hide(),$("#"+visibleContent).show())});nudgepad.droppables=new Space("blocks\n block\n  block1\n   style\n    background-color #7a8289\n    height 180px\n    width 220px\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    color #333\n    top 0\n    left 0\n block8\n  block1\n   style\n    height 40px\n    width 150px\n    padding 0px\n    font-size 14px\n    text-indent 10px\n    color #555\n    position absolute\n    border 2px solid #ccc\n    -webkit-appearance normal\n    top 0\n    left 0\n   type input\n   placeholder Type Here\n button\n  block1\n   style\n    background-color #ed2e11\n    height 50px\n    font-family Open Sans\n    width auto\n    cursor pointer\n    font-size 18px\n    line-height 50px\n    text-align center\n    position absolute\n    padding 0px 20px\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 0\n    left 0\n   content Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n fullx\n  fullx\n   style\n    background-color #eee\n    height 60px\n    width 100%\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    color #333\n    top 0\n    left 0\n graph\n  block1\n   style\n    background-image url(/nudgepad/images/graphPlace.png)\n    background-repeat no-repeat\n    background-color transparent\n    background-size contain\n    background-position center\n    position absolute\n    height 300px\n    width 300px\n    font-size 14px\n    color #fff\n    top 0\n    left 0\n header\n  block1\n   style\n    height auto\n    font-family Open Sans\n    width auto\n    font-size 24px\n    font-weight bold\n    position absolute\n    color #333\n    top 0\n    left 0\n   content Title\n image\n  block1\n   style\n    background-image url(/nudgepad/images/imagePlace.png)\n    background-repeat no-repeat\n    background-color transparent\n    background-size contain\n    background-position center\n    position absolute\n    height 300px\n    width 300px\n    font-size 14px\n    color #fff\n    top 0\n    left 0\n nav\n  nav\n   style\n    height auto\n    font-family Open Sans\n    font-size 18px\n    line-height 140%\n    color #999\n    position absolute\n    top 0\n    left 0\n   scraps\n    nav1\n     style\n      margin-right 40px\n      float left\n     content Home\n    nav2\n     style\n      margin-right 40px\n      float left\n     content About\n    nav3\n     style\n      margin-right 40px\n      float left\n     content Portfolio\n    nav4\n     style\n      float left\n     content Contact\n paragraph\n  nav\n   style\n    height auto\n    font-family Open Sans\n    font-size 16px\n    width 420px\n    color #222\n    position absolute\n    top 0\n    left 0\n   scraps\n    header\n     style\n      margin-bottom 30px\n      font-size 52px\n     content Born Good\n    subHeader\n     style\n      margin-bottom 30px\n      font-size 18px\n      font-weight bold\n     content About Me\n    nav3\n     style\n      margin-right 40px\n      font-size 16px\n      line-height 140%\n      color #555\n     content When I was a lad I ate four dozen eggs ev'ry morning to help me get large. And now that I'm grown I eat five dozen eggs, so I'm roughly the size of a barge!\n rounded\n  rounded\n   style\n    background-color #e83b1e\n    height 60px\n    width 120px\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    text-align center\n    color #333\n    top 0\n    left 0\n    border-radius 5px\n    line-height 60px\n sticky\n  stickyNote\n   style\n    background-color #f4ed04\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n stickyBlue\n  stickyBlue\n   style\n    background-color #15cbf2\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n stickyOrange\n  stickyOrange\n   style\n    background-color #f29215\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n text\n  text\n   style\n    height auto\n    font-family Open Sans\n    width 420px\n    font-size 16px\n    line-height 140%\n    color #555\n    position absolute\n    top 0\n    left 0\n   content There is a place where the sidewalk ends and before the street begins, and there the grass grows soft and white, and there the sun burns crimson bright, and there the moon-bird rests from his flight to cool in the peppermint wind.\nbuttons\n button1\n  head\n   type creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color #e3543b\n    height 40px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    top 0\n    left 0\n   content Plain Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n button2\n  head\n   type creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    height 40px\n    width 120px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    background -webkit-linear-gradient(top, #ff5e42, #e3543b)\n    border 1px solid #bf4530\n    box-shadow 0px 1px 3px rgba(0,0,0,.5), inset 0px 1px 0px #ffc0b5\n    left 0px\n    top 0px\n   content Fancy Button\n   hover_style\n    background #e3543b\n   active_style\n    background #bf4530\n button3\n  head\n   type creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color #e3543b\n    height 40px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    box-shadow 0px 5px 0px 0px #c94932\n    top 0\n    left 0\n   content Drop Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n    box-shadow 0px 5px 0px 0px #a33a27\nelements\n iframe\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n     background-color white\n  block2\n   type iframe\n   src http://nudgepad.com/iframe\n   style\n    height 245px\n    width 282px\n    top 0px\n    left 0px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n    border-radius 4px 4px 4px 4px\n video\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n     background-color white\n  block2\n   type iframe\n   frameborder 0\n   width 560\n   height 315\n   allowfullscreen allowfullscreen\n   src http://www.youtube.com/embed/cFEarBzelBs?rel=0\n   style\n    top 0\n    left 0\nforms\n contact_form\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 100%\n  block3\n   style\n    background-color #e3543b\n    height 35px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 35px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 315px\n    left 154px\n   content Sign Up\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n   click $.post('/nudgepad.surveys', { note : 'email ' + $('input.email').val() + '\nname ' + $('input.name').val() + '\n comment ' + $('textarea.comment').val() } , function () { $('.submit_button').html('Success!') } )\n   class submit_button\n  email_address\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 110px\n    left 0px\n    padding 0\n    padding-left 5px\n   type email\n   placeholder Email address\n   class email\n   tabindex 2\n  block1\n   style\n    height auto\n    width auto\n    white-space nowrap\n    font-size 32px\n    line-height 140%\n    color #333\n    top 0px\n    left 0px\n   content Contact Us\n  comment\n   style\n    height 135px\n    width 264px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 163px\n    left 0px\n    padding 3px\n    margin 0\n   type textarea\n   placeholder How can we help you?\n   class comment\n   tabindex 3\n  name\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 64px\n    left 0px\n    padding 0\n    padding-left 5px\n   type text\n   placeholder Your name\n   class name\n   tabindex 1\n email_signup\n  head\n   type page\n   title email_signup\n   stylesheets /nudgepad/blocks.css site.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block3\n   style\n    background-color #e3543b\n    height 35px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 35px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 66px\n    left 175px\n   content Sign Up\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n   click $.post('/nudgepad.surveys', { note : 'email ' + $('input.email').val() } , function () { $('.submit_button').html('Success!') } )\n   class submit_button\n  email_address\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 66px\n    left -1px\n    padding 0\n    padding-left 5px\n   type email\n   placeholder Email address\n   class email\n  block1\n   style\n    height auto\n    width auto\n    white-space nowrap\n    font-size 32px\n    line-height 140%\n    color #333\n    top 0px\n    left 1px\n   content Join our Email List\nfun\n blog\n  head\n   type page\n   title {{nudgepad.post.title}}\n   style\n    body\n     width 400px\n     position relative\n     height 100%\n     margin 0 auto\n    html\n     width 100%\n     height 100%\n    .scrap\n     position absolute\n    a\n     text-decoration none\n    a:hover\n     text-decoration underline\n  title\n   style\n    width 100%\n    height auto\n    font-size 36px\n    font-family Georgia\n    color #202020\n    padding 20px\n    line-height 36px\n    top 40px\n    left 0\n   content {{nudgepad.post.title Title of Post}}\n   onedit blog\n  content\n   content {{nudgepad.post.content The post body goes here. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.}}\n   style\n    width 100%\n    height auto\n    background-color transparent\n    color #202020\n    font-family Georgia\n    font-size 16px\n    line-height 22px\n    padding 0px 20px\n    top 150px\n    text-align justify\n   content_format nl2br\n   onedit blog\n book\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n  block3\n   style\n    left 191px\n    top 77px\n    height 20px\n    width 520px\n    background-color #8b9dc1\n    z-index 2\n  block4\n   style\n    left 0px\n    top 0px\n    height 40px\n    width 960px\n    padding-left 10px\n    -webkit-box-shadow 0 2px 2px -2px rgba(0, 0, 0, .52)\n    border-bottom 1px solid #133783\n    background-color #3b5a9b\n    font-size 30px\n    color #FFFFFF\n    font-family Arial\n    font-weight bold\n    line-height 40px\n   content book\n  block1\n   style\n    left 0px\n    top 77px\n    height 256px\n    width 174.5px\n    background-color #f8f8f8\n   content <br>\n  block6\n   style\n    left 191px\n    top 87px\n    height 517px\n    width 520px\n    background-color #f8f8f8\n   content <br>\n  block7\n   content John Doe\n   style\n    left 881px\n    top 13px\n    height 15px\n    width 78.5px\n    color #e1e4ed\n    z-index 2\n  block11\n   style\n    left 0px\n    top 368px\n    height 236px\n    width 174.5px\n    background-color #f8f8f8\n   content <br>\n  block8\n   style\n    left 724.5px\n    top 348px\n    height 20px\n    width 245.5px\n    background-color #e1e4ed\n   content <br>\n  block12\n   style\n    left 725px\n    top 368px\n    height 236px\n    width 245px\n    background-color #f8f8f8\n   content <br>\n  block13\n   style\n    left 724.5px\n    top 77px\n    height 20px\n    width 245.5px\n    background-color #e1e4ed\n   content <br>\n  block14\n   style\n    left 725px\n    top 97px\n    height 171px\n    width 245px\n    background-color #f8f8f8\n   content <br>\n  block15\n   style\n    left 0px\n    top 77px\n    height 20px\n    width 175px\n    background-color #e1e4ed\n   content <br>\n  block16\n   style\n    left 0px\n    top 368px\n    height 20px\n    width 175px\n    background-color #e1e4ed\n   content <br>\n  block2\n   content This is a demo page.\n   style\n    left 0px\n    top 681px\n    height auto\n    padding-top 3px\n    font-size 12px\n    color gray\n    width 970px\n    border-top 1px solid #e1e4ed\n    z-index 2\n  block17\n   type img\n   src /nudgepad/images/obama.jpg\n   style\n    left 290px\n    top 154px\n    width 321.5px\n    height auto\n  block18\n   type img\n   src /nudgepad/images/obama_small.jpg\n   style\n    left 222px\n    top 132px\n    width auto\n    height auto\n  block19\n   content Barack Obama went on a nice stroll with his wife.\n   style\n    left 290px\n    top 132px\n    height 15px\n    width 405.5px\n    color gray\n    z-index 2\n cluster\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n  block2\n   style\n    left 181px\n    top 60px\n    width 138.5px\n    height auto\n    font-size 15px\n    background transparent\n    color #666666\n    line-height 140%\n   content A warm westerly blew over the prairie, making waves, and when I wound down the window I heard it growl in the dry grass like surf. For gulls, there were killdeer plovers, crying out their name as they wheeled and skidded on the wind.\n  block3\n   style\n    left 333px\n    top 137px\n    width auto\n    height auto\n    font-size 40px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block7\n   style\n    left 100px\n    top 267px\n    width 66.5px\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 30%\n   content Section Header\n  block8\n   style\n    left 7px\n    top 116px\n    width auto\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 140%\n   content Section Header\n  block9\n   style\n    left 11px\n    top 149px\n    width auto\n    height auto\n    font-size 32px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block10\n   style\n    left 182px\n    top -19px\n    width 368.5px\n    height auto\n    font-size 51px\n    background transparent\n    font-weight bold\n    color #222222\n    line-height 140%\n   content Page Header\n  block11\n   style\n    left 167px\n    top 312px\n    width auto\n    height auto\n    font-size 40px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block12\n   style\n    left 333px\n    top 60px\n    width 34px\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 30%\n   content Section Header\n  block1\n   style\n    left 7px\n    top 368px\n    background transparent\n    height auto\n    font-weight bold\n    width 368.5px\n    color #222222\n    font-size 51px\n    line-height 140%\n   content Page Header\n  block13\n   style\n    left 338px\n    top 99px\n    background transparent\n    height auto\n    width auto\n    color #222222\n    font-size 24px\n    line-height 140%\n   content Section Header\n  block14\n   style\n    left 7px\n    top 202px\n    background transparent\n    height auto\n    width auto\n    color #666666\n    font-size 32px\n    line-height 140%\n   content Small Label\n  block15\n   style\n    left 338px\n    top 267px\n    background transparent\n    height auto\n    width auto\n    color #222222\n    font-size 24px\n    line-height 140%\n   content Section Header\n  block16\n   style\n    left 338px\n    top 376px\n    background transparent\n    height auto\n    width 126.5px\n    color #666666\n    font-size 15px\n    line-height 140%\n   content A warm westerly blew over the prairie, making waves, and when I wound down the window I heard it growl in the dry grass like surf. For gulls, there were killdeer plovers, crying out their name as they wheeled and skidded on the wind.\n meme\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     background-color white\n     height 1000px\n  block17\n   type img\n   src /nudgepad/images/firstworld.jpg\n   style\n    left 0px\n    top 0px\n    width auto\n    height auto\n  block2\n   style\n    left 0px\n    top 0px\n    background transparent\n    height auto\n    font-weight bold\n    width 552px\n    color #FFFFFF\n    font-size 36px\n    line-height 140%\n    text-shadow 1px 1px 1px black\n    text-align center\n   content There's nothing to drink....\n  block3\n   style\n    left 0px\n    top 267px\n    background transparent\n    height auto\n    font-weight bold\n    width 552px\n    color #FFFFFF\n    font-size 36px\n    line-height 140%\n    text-shadow 1px 1px 1px black\n    text-align center\n   content Except for a virtually unlimited supply of clean water.\n mindmap\n  head\n   type page\n   title Mindmap\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     background-color transparent\n     background-image url(/nudgepad/images/textures/tan.jpeg)\n     width 960px\n     height 1000px\n  block2\n   style\n    left 145px\n    top 50px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block3\n   style\n    left 283px\n    top 126px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 36px\n    background-color white\n    font-weight normal\n   content Main Topic\n  block4\n   style\n    left 333px\n    top -2px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block5\n   style\n    left 521px\n    top 50px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block6\n   style\n    left 521px\n    top 225px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block7\n   style\n    left 333px\n    top 281px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block8\n   style\n    left 145px\n    top 225px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block9\n   style\n    left 652px\n    top 14px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block10\n   style\n    left 652px\n    top 90px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block11\n   style\n    left 14px\n    top 277px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block12\n   style\n    left 14px\n    top 207px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n times\n  head\n   type page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n   old_style \n    @font-face {\n      font-family: 'OldLondon';\n      src: url('/nudgepad/fonts/OldLondon.ttf');\n      font-weight: normal;\n      font-style: normal;\n    }\n  block2\n   style\n    left 392px\n    top 114px\n    background transparent\n    height auto\n    width 174.5px\n    color #666666\n    font-size 15px\n    line-height 140%\n    font-family Times\n   content Friday, December 7, 2012\n  block1\n   style\n    left -1px\n    top 26px\n    background transparent\n    padding-bottom 20px\n    height auto\n    font-weight bold\n    width 960px\n    color #222222\n    font-size 69px\n    line-height 140%\n    font-family OldLondon\n    border-bottom-width 2px\n    border-left-width 1px\n    border-top-width 1px\n    border-right-width 1px\n    border-color black\n    border-style solid\n    text-align center\n   content The Nudgepad Times\n  block17\n   type img\n   src /nudgepad/images/pic.jpg\n   style\n    left 259px\n    top 202px\n    width 336.5px\n    height auto\n  block4\n   style\n    left -1px\n    top 145px\n    height 562px\n    width 94px\n    border-left-width 1px\n    border-color black\n    border-style solid\n    border-right-width 1px\n    border-right-color #e2e2e2\n  block5\n   style\n    left 605.5px\n    top 145px\n    height 562px\n    width 353.5px\n    border-left-width 1px\n    border-color #e2e2e2\n    border-style solid\n    border-right-width 1px\n    border-right-color black\n  block6\n   style\n    left -2px\n    top 707px\n    background transparent\n    padding-bottom 20px\n    height auto\n    font-weight bold\n    width 960px\n    color #222222\n    font-size 69px\n    line-height 140%\n    border-bottom-width 2px\n    border-left-width 1px\n    border-top-width 1px\n    border-right-width 1px\n    border-color black\n    border-style solid\n    text-align center\n  block7\n   style\n    left 112px\n    top 160px\n    background transparent\n    height auto\n    width auto\n    color #004276\n    font-size 24px\n    font-family Times\n    font-weight bold\n   content Man Points at Map with Elongated Stick\n  block8\n   style\n    left 112px\n    top 202px\n    background transparent\n    height auto\n    width 128.5px\n    color #004276\n    font-size 16px\n    font-family Times\n    font-weight bold\n   content What will he point at next?<br>\n  block9\n   style\n    left 112px\n    top 255px\n    background transparent\n    height auto\n    width 128.5px\n    color #333333\n    font-size 12px\n    font-family Times\n   content The pointing at the stick began when a man in third row stood up to ask a question.<br>\nlists\n list1\n  head\n   type creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color transparent\n    height auto\n    width auto\n    font-size 14px\n    border-top 1px solid #ccc\n    white-space nowrap\n    border-bottom 1px solid #ccc\n    border-left 1px solid #ccc\n    color #333\n    top 0\n    left 0\n   type list\n   item\n    style\n     color #333\n     display inline-block\n     text-align center\n     width 120px\n     height 40px\n     line-height 40px\n     background-color #eee\n     border-right 1px solid #ccc\n    content {{value}}\n   items\n    1 Item 1\n    2 Item 2\n    3 Item 3\n    4 Item 4\n list2\n  head\n   type creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color transparent\n    height auto\n    width auto\n    font-size 14px\n    white-space nowrap\n    color #333\n    top 0\n    left 0\n   type list\n   item\n    style\n     color #333\n     line-height 180%\n    content {{value}}\n   items\n    1 Item 1\n    2 Item 2\n    3 Item 3\n    4 Item 4\nscripts\n googleAnalytics\n  googleAnalytics\n   type script\n   content \n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', '{{site.googleAnalyticsId}}']);\n    _gaq.push(['_trackPageview']);\n    (function() {\n      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n    })();\n jquery\n  jquery\n   type script\n   src //ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js\n");
function EditHandle(){}EditHandle.create=function(a){var b=a.element(),c=$('<div class="nudgepadEditHandle"></div>');c.attr("value",a.getPath());c.addClass("handle edit_handle "+a.id+"_handle");var e=$('<div class="nudgepadEditStyleHandle"></div>');e.on("tap",function(){nudgepad.styleEditor(a);c.remove();return!1});c.append(e);b.parent().append(c);c.on("update",EditHandle.update);c.trigger("update")};
EditHandle.update=function(){var a=$(this).owner();$(this).css({left:a.left()+2+"px",top:a.bottom()+4+"px"})};nudgepad.emailPrompt=function(){var a=new Space("to \nsubject \nmessage \n");nudgepad.textPrompt("Send an email",a.toString(),function(a){a=new Space(a);$.post("/nudgepad.email",a.keys,function(a){alert(a)})},!1,"Send")};nudgepad.explorer={};nudgepad.explorer.create=function(a,b){var c={};c.path=a;c.content="";$.post("/nudgepad.explorer.save",c,function(){b()})};
nudgepad.explorer.downloadTimelines=function(){$.get("/nudgepad.site.timelines",{},function(a){a=new Space(a);a.delete(nudgepad.stage.activePage);site.get("timelines").patch(a)})};nudgepad.explorer.getSite=function(a){var b=store.get("activePage")||"home";$.get("/nudgepad.site",{activePage:b},function(b){site=new Space(b);a()})};nudgepad.explorer.quickEdit=function(){nudgepad.explorer.edit(prompt("Enter path to file you want to edit","public/nudgepad.site.css"))};
nudgepad.explorer.remove=function(a,b){var c={};c.path=a;$.post("nudgepad.explorer.remove",c,function(){b()})};nudgepad.explorer.rename=function(a,b,c){var e={};e.oldPath=a;e.newPath=b;if(!b)return nudgepad.error("No name provided");$.post("/nudgepad.explorer.rename",e,function(){c()})};
nudgepad.explorer.edit=function(a){var b={};b.path=a;$.post("nudgepad.explorer.get",b,function(b){nudgepad.textPrompt("Editing "+a,b,function(b){var c={};c.path=a;c.content=b+"";$.post("/nudgepad.explorer.save",c,function(a){console.log(a)})})})};nudgepad.feedback={};nudgepad.feedback.opted_in=!1;nudgepad.feedback.session={};nudgepad.feedback.session.user_agent=navigator.userAgent;nudgepad.feedback.session.id=moment().format("MM.DD.YYYY_hh.mm.ssa");nudgepad.feedback.session.start=(new Date).getTime();
nudgepad.feedback.record=function(a){a=Permalink(a);nudgepad.feedback.session[a]=nudgepad.feedback.session[a]?parseFloat(nudgepad.feedback.session[a])+1:1};
nudgepad.getPageDimensions=function(a){a=new Page(a);a._static=!0;var b=$('<iframe class="deleteMe" style="position: fixed; right: 0px; top: 0px;"></iframe>');b.attr("frameborder",0);b.attr("scrolling","no");b.css("width",1);b.css("height",1);$("#nudgepadTemp").append(b);b.contents().find("body").append(a.toHtml());var c={},e=!1;b.contents().find(".scrap").each(function(){var a,b,t,m;e?(a=$(this).position().left,b=a+$(this).outerWidth(),t=$(this).position().top,m=top+$(this).outerHeight(),a<c.left&&
(c.left=a),b>c.right&&(c.right=b),t<c.top&&(c.top=t),m>c.bottom&&(c.bottom=m)):(c.left=$(this).position().left,c.right=c.left+$(this).outerWidth(),c.top=$(this).position().top,c.bottom=c.top+$(this).outerHeight(),e=!0)});c.height=c.bottom-c.top;c.width=c.right-c.left;$(".deleteMe").remove();return c};nudgepad.apps.git=new App("git");nudgepad.apps.git.commit=function(){var a=prompt("Enter your commit message");nudgepad.apps.git.send("git commit -am '"+a+"'")};nudgepad.apps.git.init=function(){nudgepad.apps.git.send("git init")};
nudgepad.apps.git.pull=function(){nudgepad.apps.git.send("git pull")};nudgepad.apps.git.push=function(){nudgepad.apps.git.send("git push")};nudgepad.apps.git.send=function(a){$.post("nudgepad.exec",{command:a},function(a){nudgepad.notify(a)},null,function(a){nudgepad.error(a.responseText)})};nudgepad.apps.git.status=function(){nudgepad.apps.git.send("git status")};
function Grid(a){this.points={};this.radius=7;this.snap_to_objects=!0;this.snap_to_grid=!1;this.snap_to_container=!0;this.horizontal_spacing=this.vertical_spacing=20;this.on=this.snaplines=!0;this.visible=!1;if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}Grid.prototype.addDynamicPoints=function(){var a=this;if(200<$("#nudgepadStageBody").children(".scrap:not(.selection)").length)return!0;$("#nudgepadStageBody").children(".scrap:not(.selection)").each(function(){a.addPoints($(this).scrap().selector())})};
Grid.prototype.addFixedPoints=function(){var a=$("#nudgepadStageBody").left(),b=$("#nudgepadStageBody").right();for(this.horizontal_spacing=parseFloat(this.horizontal_spacing);a<=b;a+=this.horizontal_spacing)this.addPoint(a,0,"#nudgepadStageBody");a=$("#nudgepadStageBody").top();b=$("#nudgepadStageBody").bottom();for(this.vertical_spacing=parseFloat(this.vertical_spacing);a<=b;a+=this.vertical_spacing)this.addPoint(0,a,"#nudgepadStageBody")};
Grid.prototype.addPoint=function(a,b,c){var e={};e.x=a;e.y=b;e.selector=c;this.points[a+"."+b]=e};Grid.prototype.addPoints=function(a){var b=$(a);if(!b.length)return console.log("not found %s",a);this.addPoint(b.left(),b.top(),a);this.addPoint(b.center(),b.middle(),a);this.addPoint(b.right(),b.bottom(),a)};
Grid.prototype.create=function(){this.points={};if(!this.on)return this.erase();this.snap_to_objects&&this.addDynamicPoints();this.snap_to_grid&&this.addFixedPoints();this.snap_to_container&&(this.addPoint(0,$("#nudgepadStageBody").top(),"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").left(),0,"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").center(),0,"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").right(),0,"#nudgepadStageBody"),this.addPoint(0,$("#nudgepadStageBody").height(),
"#nudgepadStageBody"));this.visible?this.draw():this.erase()};
Grid.prototype.draw=function(){var a=$("#nudgepadStageBody").width(),b=$("#nudgepadStageBody").height();this.context&&this.erase();$("#nudgepadStageBody").append('<canvas style="position: absolute; top: 0; left: 0; z-index: 0;" id="grid_canvas" width="'+a+'" height="'+b+'"></canvas>');this.context=document.getElementById("grid_canvas").getContext("2d");this.context.strokeStyle="#eee";var c,e;c={};e={};for(var f in this.points)if(this.points.hasOwnProperty(f)){var n=this.points[f];"#nudgepadStageBody"===
n.selector&&(this.context.lineWidth=0.5,n.x in c||(this.context.beginPath(),this.context.moveTo(n.x+0.5,0),this.context.lineTo(n.x+0.5,b),this.context.closePath(),this.context.stroke(),c[n.x]=!0),n.y in e||(this.context.beginPath(),this.context.moveTo(0,n.y+0.5),this.context.lineTo(a,n.y+0.5),this.context.closePath(),this.context.stroke(),e[n.y]=!0))}};
Grid.prototype.drawSnapline=function(a,b){if(!this.snaplines)return!1;this.drawSnaplineCanvas();this.snapline_context.beginPath();this.snapline_context.lineWidth=1;this.snapline_context.moveTo(a.x+0.5,a.y+0.5);this.snapline_context.lineTo(b.x+0.5,b.y+0.5);this.snapline_context.stroke();this.snapline_context.moveTo(a.x,a.y);this.snapline_context.beginPath();this.snapline_context.arc(a.x,a.y,2,0,2*Math.PI,!0);this.snapline_context.closePath();this.snapline_context.fill();this.snapline_context.moveTo(b.x,
b.y);this.snapline_context.beginPath();this.snapline_context.arc(b.x,b.y,2,0,2*Math.PI,!0);this.snapline_context.closePath();this.snapline_context.fill();"#nudgepadStageBody"!==b.selector&&$(b.selector).addClass("nudgepadSnapOrigin")};
Grid.prototype.drawSnaplineCanvas=function(){if(this.snapline_context)return!0;this.width=$("#nudgepadStageBody").width();this.height=$("#nudgepadStageBody").height();var a='<canvas style="position: absolute; top: 0; left: 0; z-index: 100;" id="snapline_canvas" width="'+this.width+'" height="'+this.height+'"></canvas>';$("#nudgepadStageBody").append(a);this.snapline_context=document.getElementById("snapline_canvas").getContext("2d");this.snapline_context.lineWidth=1;this.snapline_context.strokeStyle=
"blue";$("#snapline_canvas").on("mousedown",function(){$(this).remove()})};Grid.prototype.erase=function(){delete this.context;delete this.snapline_context;$("#grid_canvas,#snapline_canvas").remove();$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin")};Grid.prototype.eraseSnaplines=function(){if(!this.snaplines)return!1;$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin");if(!this.snapline_context)return!1;this.snapline_context.clearRect(0,0,this.width,this.height)};
Grid.prototype.getDelta=function(a){this.eraseSnaplines();var b={},c=[],e=[],f;for(f in a){var n=a[f],t;for(t in this.points)if(this.points.hasOwnProperty(t)){var m=this.points[t],p=m.x-n.x,P=m.y-n.y;b.x||(b.x=p,b.y=P);Math.abs(p)<=Math.abs(b.x)&&(b.x=p,c=[n,m]);Math.abs(P)<=Math.abs(b.y)&&(b.y=P,e=[n,m])}}a=Math.abs(b.x)<this.radius;f=Math.abs(b.y)<this.radius;a||(b.x=0);f||(b.y=0);(b.x||b.y)&&nudgepad.feedback.record("snap happened");a&&(c[0]={x:c[0].x+b.x,y:c[0].y+b.y},this.drawSnapline(c[0],c[1]));
f&&(e[0]={x:e[0].x+b.x,y:e[0].y+b.y},this.drawSnapline(e[0],e[1]));return b};Grid.prototype.removeSnaplines=function(){delete this.snapline_context;$("#snapline_canvas").remove();$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin")};nudgepad.apps.home=new App("home");nudgepad.apps.home.onopen=function(){$(".nudgepad#domainName").text(nudgepad.domain)};nudgepad.images={};nudgepad.images.getFilename=function(a){a=nudgepad.images.parseBackgroundUrl(a).split(/\//);return a[a.length-1]};
nudgepad.images.insertImageScrap=function(a,b){a.match(/^url\(/)&&(a=nudgepad.images.parseBackgroundUrl(a));if(!b&&0<$(".selection").length)return nudgepad.stage.selection.css("background-image url("+a+")"),nudgepad.stage.selection.css("background-repeat no-repeat"),nudgepad.stage.selection.css("background-position center"),!1;$("<img/>").attr("src",a).load(function(){var c=new Space("style\n background-image url("+a+")\n background-repeat no-repeat\n background-color transparent\n background-position center\n background-size contain\n width "+
this.width+"px\n height "+this.height+"px"),c=(new Space).set("scrap",c);return nudgepad.stage.insert(c,b)})};nudgepad.images.isImage=function(a){return a.match(/\.(png|jpg|jpeg|gif)$/i)};nudgepad.images.parseBackgroundUrl=function(a){return a.split(/(\(|\))/).slice(2)[0]};nudgepad.images.images=new Space;
nudgepad.images.updateList=function(){$.get("/nudgepad.explorer.public",{},function(a){var b="";nudgepad.images.images=new Space(a);nudgepad.images.images.each(function(a){nudgepad.images.isImage(a)&&(b+='<div class="imageThumbDrop">&nbsp;<img src="/'+a+'">&nbsp;</div>')});$("#imageDroppablesList").html(b)})};nudgepad.on("uploadComplete",nudgepad.images.updateList);nudgepad.on("public",nudgepad.images.updateList);nudgepad.on("main",nudgepad.images.updateList);
nudgepad.importPrompt=function(){var a=prompt("Enter a url to import");if(!a)return!1;a.match(/^https?\:\/\//)||(a="http://"+a);nudgepad.import(a)};nudgepad.import=function(a){$.get("/nudgepad.import/"+a,{},function(a){nudgepad.pages.stage=new Page(a);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};nudgepad.invite={};
nudgepad.invite.prompt=function(){var a=prompt("Invite people to edit this site. Add one or more emails, separated by spaces","");if(!a)return!1;$.post("/nudgepad.invite",{emails:a},function(){nudgepad.notify("Invite Sent")})};nudgepad.isIOS=function(){return null!=navigator.userAgent.match(/iPad|iPhone|iPod/i)};
nudgepad.iosMain=function(){nudgepad.isIOS()&&($(document).on("touchstart",function(a){1<a.originalEvent.touches.length&&a.stopPropagation()}),$(document).on("touchmove",function(a){1==a.originalEvent.touches.length&&a.preventDefault()}))};$.fn.owner=function(){return nudgepad.pages.stage.get($(this).attr("value")).element()};$.fn.scrap=function(){return nudgepad.pages.stage.get($(this).attr("path"))};
$.fn.deselect=function(){var a=$(this).attr("id");$(this).removeClass("selection");$("."+a+"_handle").remove();nudgepad.trigger("selection");return $(this)};
$.fn.selectMe=function(){var a=$(this).scrap();if(a.get("locked"))return!1;if($(this).hasClass("selection"))return this;$(this).addClass("selection");var b=$(this).css("position");("absolute"===b||"fixed"===b)&&nudgepad.MoveHandle.create(a);nudgepad.trigger("selection");EditHandle.create(a);b=a.get("style");if(!b)return this;if(b=b.get("background-image")&&"contain"===b.get("background-size"))return nudgepad.StretchHandle.create(a,"middle","left",b),nudgepad.StretchHandle.create(a,"middle","right",
b),this;nudgepad.StretchHandle.create(a,"top","left");nudgepad.StretchHandle.create(a,"top","center");nudgepad.StretchHandle.create(a,"top","right");nudgepad.StretchHandle.create(a,"middle","left");nudgepad.StretchHandle.create(a,"middle","right");nudgepad.StretchHandle.create(a,"bottom","left");nudgepad.StretchHandle.create(a,"bottom","center");nudgepad.StretchHandle.create(a,"bottom","right");return $(this)};nudgepad.mouse={};nudgepad.mouse.isDown=!1;nudgepad.mouse.yChange=0;
nudgepad.mouse.xChange=0;nudgepad.mouse.pathDistance=0;nudgepad.mouse.onmousedown=function(a){nudgepad.mouse.isDown=!0;nudgepad.mouse.down=a;nudgepad.mouse.target=a.srcElement||a.originalTarget||a.target;nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.pathDistance=0;return!0};
nudgepad.mouse.onmousemove=function(a){nudgepad.mouse.move=a;if(!nudgepad.mouse.isDown)return!0;nudgepad.mouse.pathDistance+=Math.abs(a.pageX-nudgepad.mouse.lastX)+Math.abs(a.pageY-nudgepad.mouse.lastY);nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onmouseup=function(a){nudgepad.mouse.isDown=!1;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onTouchEnd=function(a){nudgepad.mouse.isDown=!1;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onTouchStart=function(a){nudgepad.mouse.isDown=!0;nudgepad.mouse.down=a;nudgepad.mouse.target=a.srcElement||a.originalTarget||a.target;nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.pathDistance=0;return!0};
nudgepad.mouse.onTouchMove=function(a){nudgepad.mouse.move=a;if(!nudgepad.mouse.isDown)return!0;nudgepad.mouse.pathDistance+=Math.abs(a.pageX-nudgepad.mouse.lastX)+Math.abs(a.pageY-nudgepad.mouse.lastY);nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.on("main",function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",nudgepad.mouse.onTouchStart,!0),document.addEventListener("touchend",nudgepad.mouse.onTouchEnd,!0),document.addEventListener("touchmove",nudgepad.mouse.onTouchMove,!0)):(document.addEventListener("mousedown",nudgepad.mouse.onmousedown,!0),document.addEventListener("mousemove",nudgepad.mouse.onmousemove,!0),document.addEventListener("mouseup",nudgepad.mouse.onmouseup,!0))});
nudgepad.MoveHandle=function(){};
nudgepad.MoveHandle.create=function(a){var b=a.element(),c="fixed"==b.css("position")?"fixed":"absolute",e=$("<div></div>");e.attr("value",a.getPath());e.addClass("handle "+a.id+"_handle move_handle");e.attr("id","move_handle_"+a.id);e.attr("title",a.id);e.css({cursor:"move",position:c,"z-index":"50"});b.parent().append(e);e.on("mousedown",nudgepad.MoveHandle.mousedown);e.on("slide",nudgepad.MoveHandle.slide);e.on("slidestart",nudgepad.MoveHandle.slidestart);e.on("slideend",nudgepad.MoveHandle.slideend);
e.on("tap",nudgepad.MoveHandle.tap);e.on("update",nudgepad.MoveHandle.update);e.on("dblclick",function(){a.edit(!0)});e.trigger("update")};nudgepad.MoveHandle.dimensions={};nudgepad.MoveHandle.mousedown=function(){nudgepad.MoveHandle.dimensions=$(this).owner().dimensions();nudgepad.grid.create();nudgepad.MoveHandle.last_x_change=0;nudgepad.MoveHandle.last_y_change=0;nudgepad.MoveHandle.scrollTop=nudgepad.stage.scrollTop();return!0};
nudgepad.MoveHandle.selectTopScrap=function(){var a=$("#nudgepadStageBody").offset().left,b=$("#nudgepadStageBody").offset().top,a=$.topDiv(".scrap:visible",nudgepad.mouse.down.pageX-a,nudgepad.mouse.down.pageY-b+nudgepad.stage.scrollTop());if(!a||a.hasClass("selection")||a.scrap().get("locked"))return!0;nudgepad.stage.selection.clear();a.selectMe();return!0};
nudgepad.MoveHandle.slide=function(a,b){var c=$(this).owner();c.scrap();var e=nudgepad.MoveHandle.dimensions,f=nudgepad.stage.scrollTop()-nudgepad.MoveHandle.scrollTop,n={y:0,x:0};b.shiftKey||(n=nudgepad.grid.getDelta([{x:e.left+nudgepad.mouse.xChange,y:e.top+nudgepad.mouse.yChange+f},{x:e.right+nudgepad.mouse.xChange,y:e.bottom+nudgepad.mouse.yChange+f},{x:e.center+nudgepad.mouse.xChange,y:e.middle+nudgepad.mouse.yChange+f}]));var t=nudgepad.mouse.yChange+f+n.y,m=nudgepad.mouse.xChange+n.x;$(".selection").each(function(){$(this).scrap().move(m-
nudgepad.MoveHandle.last_x_change,t-nudgepad.MoveHandle.last_y_change)});e="X "+parseFloat(c.css("left"))+"<br>Y "+parseFloat(c.css("top"));$("#nudgepadDimensions").css({left:10+c.right(),top:-10+c.middle()}).html(e);nudgepad.MoveHandle.last_x_change=m;nudgepad.MoveHandle.last_y_change=t;return!1};nudgepad.MoveHandle.slideend=function(){$(".handle").trigger("update").show();nudgepad.grid.removeSnaplines();$("#nudgepadDimensions").remove();nudgepad.stage.commit()};
nudgepad.MoveHandle.slidestart=function(){$(".handle").not(this).hide();var a=$(this).owner(),b="X "+parseFloat(a.css("left"))+"<br>Y "+parseFloat(a.css("top"));a.parent().append($('<div id="nudgepadDimensions" class="nudgepad_popup"></div>'));$("#nudgepadDimensions").css({left:10+a.right(),top:-10+a.middle()}).html(b).show();return!1};nudgepad.MoveHandle.tap=function(){nudgepad.mouse.down&&nudgepad.mouse.down.shiftKey&&$(this).owner().deselect();return!1};
nudgepad.MoveHandle.update=function(){var a=$(this).owner(),b=Math.min(10,a.outerHeight()-20),c=Math.min(10,a.outerWidth()-20),a={left:a.left()+c+"px",top:a.top()+b+"px",height:a.outerHeight()-2*b+"px",width:a.outerWidth()-2*c+"px"};$(this).css(a)};nudgepad.navigation={};
nudgepad.navigation.open=function(a,b){if("pages"===a)nudgepad.pages.open();else if(nudgepad.apps[a])nudgepad.apps[a].open();else return!1;if(b||nudgepad.isTesting)return null;history.pushState(a,"Nudgepad - "+a,"/nudgepad?app="+a)};nudgepad.navigation.openAppFromQueryString=function(){var a=ParseQueryString().app||"home";nudgepad.navigation.open(a,!0)};window.addEventListener("popstate",function(){nudgepad.navigation.openAppFromQueryString()});nudgepad.notifyTimeout=!1;
nudgepad.notify=function(a,b){blinker.change(a);clearTimeout(nudgepad.notifyTimeout);$("#nudgepadNotify").html(a);nudgepad.popup.open("#nudgepadNotify");$("#nudgepadNotify").css("left",($(window).width()-$("#nudgepadNotify").width())/2);b&&(nudgepad.notifyTimeout=setTimeout("$('#nudgepadNotify').hide()",b))};nudgepad.on("arrive",function(a){if(a==nudgepad.name)return!0;nudgepad.notify(a+" arrived");nudgepad.updateRoom()});
nudgepad.oncopy=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!nudgepad.stage.selection.exists())return!0;a.clipboardData&&(a.preventDefault(),a.clipboardData.setData("text/xcustom",nudgepad.stage.selection.toSpace().toString()),a.clipboardData.setData("text/plain",nudgepad.stage.selection.toSpace().toString()));window.clipboardData&&(a.returnValue=!1,window.clipboardData.setData("Text",nudgepad.stage.selection.toSpace().toString()))};
nudgepad.on("main",function(){window.addEventListener("copy",nudgepad.oncopy,!1)});
nudgepad.oncut=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!nudgepad.stage.selection.exists())return!0;if(a.clipboardData){a.preventDefault();a.clipboardData.setData("text/xcustom",nudgepad.stage.selection.toSpace().toString());var b=a.clipboardData.setData("text/plain",nudgepad.stage.selection.toSpace().toString());console.log("setData: "+b)}window.clipboardData&&(a.returnValue=!1,b=window.clipboardData.setData("Text",nudgepad.stage.selection.toSpace().toString()),
console.log("setData: "+b));nudgepad.stage.selection.remove();nudgepad.stage.commit()};nudgepad.on("main",function(){window.addEventListener("cut",nudgepad.oncut,!1)});nudgepad.on("depart",function(a){if(a==nudgepad.name)return!0;nudgepad.notify(a+" left");nudgepad.updateRoom()});nudgepad.on("disconnect",function(){$("#nudgepadConnectionStatus").html("Disconnected from server. Attempting to reconnect...").show()});
nudgepad.ondrop=function(a){nudgepad.feedback.record("dropped an image onto page");var b=new FileReader;b.onload=function(a){a=new Space("type img\nsrc "+a.target.result+"\nstyle\n width auto\n height auto");a=(new Space).set("scrap1",a);nudgepad.stage.insert(a)};b.readAsDataURL(a.dataTransfer.files[0]);a.preventDefault()};nudgepad.on("main",function(){window.addEventListener("drop",nudgepad.ondrop,!1)});
nudgepad.on("main",function(){window.onerror=function(a){nudgepad.feedback.record("javascript error "+a);$(".nudgepad#nudgepadJavascriptError").prepend("<div>Javascript Error: "+a+"</div>").show();return!1}});nudgepad.keydown=function(a){if(0!=$("input:focus, div:focus, textarea:focus, a:focus").length||(a.ctrlKey||a.metaKey||a.shiftKey)||(48>a.keyCode&&32!=a.keyCode||90<a.keyCode)||!$(".selection").length||$(".selection").is("input")||$(".selection").is("textarea"))return!0;$(".selection").scrap().edit()};
nudgepad.on("main",function(){$("body").on("keydown",nudgepad.keydown)});nudgepad.isScraps=function(a){return a.match(/\n/)};
nudgepad.onpaste=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length)return!0;var b=void 0;window.clipboardData&&window.clipboardData.getData?b=window.clipboardData.getData("Text"):a.clipboardData&&a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"));nudgepad.isScraps(b)&&(nudgepad.stage.insert(b),nudgepad.stage.selection.save(),nudgepad.stage.open(nudgepad.stage.activePage),nudgepad.stage.selection.restore())};
nudgepad.on("main",function(){window.addEventListener("paste",nudgepad.onpaste,!1)});nudgepad.on("ping",function(){$("#nudgepadConnectionStatus").hide()});nudgepad.restart=function(){nudgepad.notify("Site restarted. Please refresh.")};nudgepad.error=function(a){$("#nudgepadWorkerError").html(a);nudgepad.popup.open("#nudgepadWorkerError");return!1};nudgepad.on("workerSelection",function(a){a=a.split(/ /);var b=a.shift();a.shift();if(b!=nudgepad.stage.activePage)return!1;$("#nudgepadWorkerSelectionStyles").html(a.join(" "))});
Page.prototype.render=function(a){for(var b in this.keys)this.values[this.keys[b]].render(a);return this};nudgepad.pages.stage=new Page;nudgepad.pages.edge=new Space;nudgepad.pages.blank=function(){var a=new Space("title\n type title\n content Untitled"),b=prompt("Name your page",nudgepad.pages.nextName());if(!b)return null;nudgepad.pages.create(b,a)};
nudgepad.pages.clearTimeline=function(){if(!confirm("Are you sure you want to erase the history of this page?"))return!1;var a=(new Date).getTime(),b=new Space;b.set("timelines "+nudgepad.stage.activePage,new Space);for(var c in nudgepad.stage.timeline.keys){var e=nudgepad.stage.timeline.keys[c];b.set("timelines "+nudgepad.stage.activePage+" "+e,"");nudgepad.stage.timeline.delete(e)}b.set("timelines "+nudgepad.stage.activePage+" "+a,nudgepad.pages.edge);nudgepad.stage.timeline.set(a,nudgepad.pages.edge);
nudgepad.stage.version=nudgepad.stage.timeline.keys.length;nudgepad.emit("patch",b.toString());nudgepad.trigger("selection");return!0};
nudgepad.pages.create=function(a,b){a=a?Permalink(a):nudgepad.pages.nextName();if(site.get("pages "+a))return nudgepad.error("A page named "+a+" already exists.");var c=new Space,e=new Space;if(b&&2<b.toString().length){var c=new Space(b.toString()),f=new Space;f.set("author",nudgepad.cookie.email);f.set("values",new Space(b.toString()));e.set((new Date).getTime(),f)}site.set("pages "+a,c);site.set("timelines "+a,e);f=new Space;f.set("pages "+a,c);f.set("timelines "+a,e);nudgepad.emit("patch",f.toString());
nudgepad.stage.open(a);return a};nudgepad.pages.duplicate=function(a,b,c){a=a||nudgepad.stage.activePage;b=nudgepad.pages.nextName(b||a);return!c&&(b=prompt("Name your new page",b),!b)?!1:!site.get("pages").get(a)?nudgepad.error("Page "+a+" not found"):a!==nudgepad.stage.activePage?nudgepad.pages.create(b,site.get("pages").get(a)):nudgepad.pages.create(b,nudgepad.pages.stage)};
nudgepad.pages.nextName=function(a){a=a||"untitled";if(!(a in site.values.pages.values))return a;for(var b=1;1E3>b;b++)if(!(a+b in site.values.pages.values))return a+b};nudgepad.pages.open=function(){App.openApp&&App.openApp.close()};
nudgepad.pages.rename=function(a){nudgepad.feedback.record("renamed a page");a=Permalink(a);var b=nudgepad.stage.activePage;if(!a.length)return nudgepad.error("Name cannot be blank");if("home"==b)return nudgepad.error("You cannot rename the home page.");if(site.get("pages "+a))return nudgepad.error("A page named "+a+" already exists.");site.set("pages "+a,site.get("pages "+b));site.set("timelines "+a,site.get("timelines "+b));site.delete("pages "+b);site.delete("timelines "+b);nudgepad.pages.updateTabs();
var c=new Space;c.set("pages "+b,"");c.set("timeline "+b,"");c.set("pages "+a,site.get("pages "+a));c.set("timelines "+a,site.get("timelines "+a));nudgepad.emit("patch",c.toString());nudgepad.stage.open(a);return""};nudgepad.pages.renamePrompt=function(){var a=prompt("Enter a new name",nudgepad.stage.activePage);a&&nudgepad.pages.rename(a)};
nudgepad.pages.trash=function(a){a=a||nudgepad.stage.activePage;if("home"===a)return nudgepad.error("You cannot delete the home page");nudgepad.stage.activePage===a&&nudgepad.stage.back();var b=new Space;b.set("pages "+a,"");b.set("timelines "+a,"");nudgepad.emit("patch",b.toString());site.get("pages").delete(a);site.get("timelines").delete(a);nudgepad.pages.updateTabs();nudgepad.notify("Deleted "+a,1E3);return""};nudgepad.on("main",function(){$("#nudgepadPagesBar").on("slide slidestart",function(a){a.stopPropagation()})});
nudgepad.patch={};nudgepad.patch.receive=function(a){a=new Space(a);var b=nudgepad.stage.isBehind();""===a.get("pages "+nudgepad.stage.activePage)&&nudgepad.stage.back();site.patch(a);nudgepad.pages.updateTabs();if(!a.get("timelines "+nudgepad.stage.activePage))return!0;if(b)return nudgepad.stage.updateTimeline();nudgepad.stage.redo();nudgepad.notify("Change received",1E3)};nudgepad.on("patch",nudgepad.patch.receive);nudgepad.pen={on:!1};
nudgepad.pen.draw=function(){if(!nudgepad.pen.on&&!nudgepad.mouse.down.metaKey||!nudgepad.mouse.isDown||$.isOnScrollbar(nudgepad.mouse.down.clientX,nudgepad.mouse.down.clientY))return!0;var a=$("#nudgepadStageBody").offset().left,b=$("#nudgepadStageBody").offset().top,a=nudgepad.mouse.down.pageX-a,b=nudgepad.mouse.down.pageY-b,b=(new Space).set("container",new Space("style\n position absolute\n left "+a+"px\n top "+b+"px\n width 1px\n height 1px\n")),b=nudgepad.stage.insert(b)[0],b=$(b).scrap().id;
console.log(b);Events.slide.target=$("#stretch_handle_bottomright"+b);$("#stretch_handle_bottomright"+b).triggerHandler("mousedown");$("#stretch_handle_bottomright"+b).triggerHandler("slidestart")};nudgepad.on("main",function(){$(document).on("slidestart",nudgepad.pen.draw)});nudgepad.popup={};nudgepad.popup.openPopup=!1;
nudgepad.popup.hide=function(a){if(1!=a.which)return!0;$(".nudgepad_popup").hide();if(!nudgepad.popup.openPopup)return nudgepad.popup.closedPopup=!1,!0;$(nudgepad.popup.openPopup).hide();nudgepad.popup.closedPopup=nudgepad.popup.openPopup;nudgepad.popup.openPopup=!1;return!0};nudgepad.popup.open=function(a){if(nudgepad.popup.closedPopup==a)return nudgepad.popup.closedPopup=!1,!0;nudgepad.popup.openPopup=a;$(a).show()};
nudgepad.on("main",function(){null===navigator.userAgent.match(/iPad|iPhone|iPod/i)?document.body.addEventListener("mouseup",nudgepad.popup.hide,!0):document.body.addEventListener("touchend",nudgepad.popup.hide,!0)});nudgepad.reloadMessageOneTime="";nudgepad.reloadMessage=function(){var a;return(a=nudgepad.reloadMessageOneTime)?(nudgepad.reloadMessageOneTime="",a):"Are you sure you want to leave Nudgepad?"};
nudgepad.restartCheck=function(){$.get("/nudgepad.started",{},function(a){a!==site.get("started")&&(nudgepad.reloadMessageOneTime="Your site restarted. Please refresh the page.",location.reload())})};
nudgepad.on("main",function(){var a;$("#blockDroppable").on("click",function(){a="block";b(a)});$("#textDroppable").on("click",function(){a="text";b(a)});$("#imageDroppable").on("click",function(){a="image";b(a)});$("#stickyDroppable").on("click",function(){a="sticky";b(a)});var b=function(a){switch(a){case "block":a=["block","rounded"];break;case "text":a=["text","nav"];break;case "image":a=["image","graph"];break;case "sticky":a=["sticky","stickyOrange","stickyBlue"];break;default:a=[]}var b="",
f;for(f in a)b+='<div class="droppableImg"><img src="/nudgepad/images/droppables/'+a[f]+'.png" title="'+a[f]+'"></div>';f=$('<div class="droppablesList">'+b+"</div>");$("#droppablesList").html(f);$("#droppablesList div img").on("slidestart",function(){var a=$(this).attr("title");nudgepad.stage.dragAndDrop(nudgepad.droppables.get("blocks "+a))});$(".droppablesList div img").on("tap",function(){var a=$(this).attr("title");nudgepad.stage.insert(nudgepad.droppables.get("blocks "+a),!1,0,0,!0)})};$(document).on("tap",
".imageThumbDrop img",function(){var a=$("#nudgepadStage").height()/2-130;nudgepad.stage.insert("images\n style\n  position absolute\n  top "+a+"\n  left 100\n type img\n src "+$(this).attr("src"))});$("#nudgepadRibbon").on("slidestart",".imageThumbDrop img",function(){nudgepad.stage.dragAndDrop("images\n style\n  position absolute\n  top 0px\n  left 0px\n type img\n src "+$(this).attr("src"))});$("#nudgepadRibbon").on("mousedown slide slidestart",function(a){a.stopPropagation()})});
nudgepad.updateRoom=function(){$.get("/nudgepad.online",{},function(a){a=new Space(a);nudgepad.title=nudgepad.domain+". "+a.keys.length+" user"+(1<a.keys.length?"s":"")+" online.";document.title=nudgepad.title;blinker.default=nudgepad.title})};Scrap.prototype.element=function(){return $(this.selector())};Scrap.prototype.getPath=function(){return this.path.replace(/ /g," scraps ")};Scrap.prototype.onedit="";
Scrap.prototype.edit=function(a){this.values.onedit&&nudgepad.apps[this.values.onedit]?nudgepad.apps[this.values.onedit].open():nudgepad.contentEditor.focus(this.selector(),a);return this};Scrap.prototype.isContentEditable=function(){return"nl2br"===this.values.content_format||"markdown"===this.values.content_format||this.values.content&&this.values.content.match(/\{\{.*\}\}/)||this.values.type&&this.values.type.match(/^(textarea|input|password|label|button|list|ul|ol)$/)?!1:!0};
Scrap.prototype.move=function(a,b){var c={},e=this.get("style");e||(this.set("style",new Space),e=this.get("style"));if(a){var f=e.get("left");"undefined"!==typeof f&&(c.left=a+parseFloat(f)+"px",e.set("left",c.left));f=e.get("right");"undefined"!==typeof f&&(c.right=-a+parseFloat(f)+"px",e.set("right",c.right));"undefined"!==typeof e.get("margin-left")&&(e.set("margin-left",a+parseFloat(e.get("margin-left"))+"px"),c["margin-left"]=e.get("margin-left"))}b&&("undefined"!==typeof e.get("top")&&(e.set("top",
b+parseFloat(e.get("top"))+"px"),c.top=e.get("top")),"undefined"!==typeof e.get("bottom")&&(e.set("bottom",-b+parseFloat(e.get("bottom"))+"px"),c.bottom=e.get("bottom")),"undefined"!==typeof e.get("margin-top")&&(e.set("margin-top",b+parseFloat(e.get("margin-top"))+"px"),c["margin-top"]=e.get("margin-top")));this.element().css(c);return this};
Scrap.prototype.moveDown=function(){this.values.style||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",0):this.set("style z-index",parseFloat(this.get("style z-index"))-1);$(this.selector()).css("z-index",this.get("style z-index"))};
Scrap.prototype.moveUp=function(){this.values.style||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",1):this.set("style z-index",parseFloat(this.get("style z-index"))+1);$(this.selector()).css("z-index",this.get("style z-index"))};Scrap.prototype.parentSelector=function(){return this.selector().replace(/\>[^\>]+$/,"")};
Scrap.prototype.render=function(a){if(this.values.type&&this.values.type.match(/title|script|meta|head/))return this;if(this.values.type&&this.values.type.match(/style|link/))return this.setElementType(a),this.setContent(a),$("#nudgepadStageStyles").append(this.div.toHtml()),this;if(this.values.type&&"body"===this.values.type)return this.setElementType(a),this.setContent(a),this.setStyle(a),this.div.addClass("scrap"),this.div.attr("path",this.getPath()),this.div.attr("selector",this.selector()),this.div.type=
"div",$("#nudgepadStageBody").append(this.div.toHtml()),this;$(this.parentSelector()).append(this.toHtml(a));return this};Scrap.prototype.selector=function(){return"#nudgepadStageBody>#"+this.path.replace(/ /g,">#")};Scrap.prototype.toHtml=function(a){this.setElementType(a);this.setContent(a);this.setStyle(a);this.div.addClass("scrap");this.div.attr("path",this.getPath());this.div.attr("selector",this.selector());return this.div.toHtml()};
Scrap.prototype.unlock=function(){if(!this.values.locked)return!0;this.delete("locked");$(this.selector()).removeClass("lockedScrap");return!0};Scrap.disableLinks=function(a){a.preventDefault();return!1};
Scrap.selectOnTap=function(){$(this).is(":focus")||$(":focus").blur();if(nudgepad.mouse.down&&nudgepad.mouse.down.metaKey&&!$(this).hasClass("selection")&&$(".selection").length)return nudgepad.stage.selection.nest($(this).attr("path")),!1;(!nudgepad.mouse.down||!nudgepad.mouse.down.shiftKey)&&nudgepad.stage.selection.clear();$(this).selectMe();return!1};Scrap.unlock=function(){var a=$(this).scrap();a.get("locked")&&(a.unlock(),nudgepad.stage.commit());$(this).selectMe();return!1};
nudgepad.on("main",function(){$(document).on("click","a.scrap, .scrap a, .scrap div",Scrap.disableLinks);$("#nudgepadStage").on("tap",".scrap",Scrap.selectOnTap);$("body").on("hold",".scrap",Scrap.unlock);$(document).on("mousedown click","input.scrap,textarea.scrap",function(){return!1});$(document).on("focus","input.scrap,textarea.scrap",function(){$(this).blur()})});
$.fn.scrollMinimal=function(a){var b=this.position().top,c=this.outerHeight(!0),e=$("#nudgepadStage").scrollTop(),f=$("#nudgepadStage").height();b<e?a?$("#nudgepadStage").animate({scrollTop:b},"slow","swing"):$("#nudgepadStage").scrollTop(b):b+c>e+f&&(a?$("#nudgepadStage").animate({scrollTop:b-f+c},"slow","swing"):$("#nudgepadStage").scrollTop(b-f+c))};nudgepad.pages.selectBox={on:!0};
nudgepad.pages.selectBox.clear=function(){if(0!=$("#nudgepadSelectBox").length){var a=$("#nudgepadSelectBox"),b,c,e,f;b=a.offset().left;c=a.offset().left+a.outerWidth();e=a.offset().top;f=a.offset().top+a.outerHeight();nudgepad.stage.selection.clear();$("#nudgepadStageBody .scrap:visible").each(function(){var a=$(this);if(a.offset().left<b||a.offset().left+a.outerWidth()>c||a.offset().top<e||a.offset().top+a.outerHeight()>f)return!0;$(this).selectMe()});$("#nudgepadSelectBox").remove()}};
nudgepad.pages.selectBox.update=function(a){if(!nudgepad.pages.selectBox.on&&(!nudgepad.mouse.is_mouse_down||!nudgepad.mouse.down.shiftKey))return!0;0==$("#nudgepadSelectBox").length&&($("#nudgepadStage").append('<div id="nudgepadSelectBox" style="top: '+nudgepad.mouse.down.pageY+";left: "+nudgepad.mouse.down.pageX+';"></div>'),nudgepad.pages.selectBox.scrollTop=nudgepad.stage.scrollTop());var b=$("#nudgepadSelectBox"),c={vertical:nudgepad.mouse.down.pageY+nudgepad.pages.selectBox.scrollTop,horizontal:nudgepad.mouse.down.pageX},
e;for(e in c){var f=e,n=c[e],t="horizontal"==f?nudgepad.mouse.move.pageX:nudgepad.mouse.move.pageY+nudgepad.stage.scrollTop(),m="horizontal"==f?"width":"height",f="horizontal"==f?"left":"top",p=t-n;0<=p?b.css(m,p).css(f,n):b.css(f,t).css(m,-p)}a.preventDefault()};nudgepad.on("main",function(){$(document).on("slide",nudgepad.pages.selectBox.update);$(document).on("slideend",nudgepad.pages.selectBox.clear)});nudgepad.stage.selection={};nudgepad.stage.selection.saved=[];
nudgepad.stage.selection.alignLeft=function(){var a;$(".selection").each(function(){if(!a||$(this).left()<a)a=$(this).left()});nudgepad.stage.selection.css("left "+a+"px")};nudgepad.stage.selection.alignRight=function(){var a;$(".selection").each(function(){if(!a||$(this).left()>a)a=$(this).left()});nudgepad.stage.selection.css("left "+a+"px")};
nudgepad.stage.selection.alignTop=function(){var a;$(".selection").each(function(){if(!a||$(this).top()<a)a=$(this).top()});nudgepad.stage.selection.css("top "+a+"px")};nudgepad.stage.selection.alignBottom=function(){var a;$(".selection").each(function(){if(!a||$(this).top()>a)a=$(this).top()});nudgepad.stage.selection.css("top "+a+"px")};
nudgepad.stage.selection.boxShadow=function(a){$(".selection").each(function(){var b=$(this).scrap();1>a?(b.set("style box-shadow","none"),$(this).css("box-shadow","none")):(b.set("style box-shadow","0px 1px "+a+"px #888"),$(this).css("box-shadow","0px 1px "+a+"px #888"))})};nudgepad.stage.selection.clear=function(){$(".selection").each(function(){$(this).deselect()})};nudgepad.stage.selection.css=function(a){nudgepad.stage.selection.cssPreview(a);nudgepad.stage.commit();$(".handle").trigger("update")};
nudgepad.stage.selection.cssPreview=function(a){if(!a)return!1;a=new Space(a);$(".selection").each(function(){var b=$(this).scrap().get("style");b||($(this).scrap().set("style",new Space),b=$(this).scrap().get("style"));b.patch(a);$(this).css(a.values)})};nudgepad.stage.selection.cssPrompt=function(){var a=prompt("Enter a CSS command like font-family Arial","");a&&nudgepad.stage.selection.css(a)};
nudgepad.stage.selection.distributeVertical=function(){var a=_.sortBy($(".selection"),function(a){return $(a).top()}),b=0,c=0;_.each(a,function(a,e,t){if(0===e)return!0;e=t[e-1];$(a).attr("id");b+=$(a).top()-$(e).bottom();c++});var e=Math.floor(b/c);0>e&&(e=0);_.each(a,function(a,b,c){if(0===b)return!0;b=c[b-1];c=$(a).scrap();c.set("style top",$(b).bottom()+e+"px");$(a).css("top",c.get("style top"))});$(".handle").trigger("update");nudgepad.stage.commit()};
nudgepad.stage.selection.distributeHorizontal=function(){var a=_.sortBy($(".selection"),function(a){return $(a).left()}),b=0,c=0;_.each(a,function(a,e,t){if(0===e)return!0;e=t[e-1];$(a).attr("id");b+=$(a).left()-$(e).right();c++});var e=Math.floor(b/c);0>e&&(e=0);_.each(a,function(a,b,c){if(0===b)return!0;b=c[b-1];c=$(a).scrap();c.set("style left",$(b).right()+e+"px");$(a).css("left",c.get("style left"))});$(".handle").trigger("update");nudgepad.stage.commit();nudgepad.notify("Distributed",1E3)};
nudgepad.stage.selection.duplicate=function(){return nudgepad.stage.insert(nudgepad.stage.selection.toSpace(),!1,10,10,!1)};
nudgepad.stage.selection.editLoop=function(){var a=prompt("What property do you want to edit?");if(!a)return!1;$(".selection");$(".selection").each(function(){var b=$(this).scrap();$(this).addClass("nudgepadHighlightedScrap");$(this).scrollMinimal();var c=b.get(a),e=prompt("Set "+a+" of "+id+" to",c);if(!e)return!0;if(e==c)return $(this).removeClass("nudgepadHighlightedScrap"),!0;$(this).removeClass("nudgepadHighlightedScrap");b.set(a,e);b.render()});nudgepad.stage.commit()};
nudgepad.stage.selection.editProperty=function(){var a=$(".selection").scrap(),b=prompt("What property do you want to edit?","");if(!b)return!1;var c=a.get(b);nudgepad.textPrompt("Enter new value...",c.toString(),function(c){a.set(b,c);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};
nudgepad.stage.selection.editSource=function(){var a=nudgepad.stage.selection.toSpace();nudgepad.stage.selection.save();nudgepad.textPrompt("Enter code...",a.toString(),function(b){b=new Space(b);nudgepad.pages.stage.patch(a.diff(b));nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage);nudgepad.stage.selection.restore()})};nudgepad.stage.selection.exists=function(){return $(".selection").length};
nudgepad.stage.selection.move=function(a,b){if(!$(".selection").length)return!1;$(".selection").each(function(){$(this).scrap().move(a,b)});var c=$($(".selection")[0]),e="X "+parseFloat(c.css("left"))+"<br>Y "+parseFloat(c.css("top"));c.parent().append($('<div id="nudgepadDimensions" class="nudgepad_popup"></div>'));$("#nudgepadDimensions").css({left:10+c.right(),top:-10+c.middle()}).html(e).show();$(".handle").trigger("update");nudgepad.stage.commit()};
nudgepad.stage.selection.nest=function(a){a=nudgepad.pages.stage.get(a);if(!a)return!1;a.get("scraps")||a.set("scraps",new Space);a=a.get("scraps");var b=nudgepad.stage.selection.toSpace();nudgepad.stage.selection.remove();a.patch(b);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)};
nudgepad.stage.selection.patch=function(a){"string"===typeof a&&(a=new Space(a));$(".selection").each(function(){var b=$(this).scrap();$(this).deselect();b.patch(a);$(this).replaceWith(b.toHtml());b.element().selectMe()});nudgepad.stage.commit()};nudgepad.stage.selection.patchPrompt=function(){var a=prompt("Enter a patch like content hi","");a&&nudgepad.stage.selection.patch(a)};
nudgepad.stage.selection.remove=function(){$(".selection").each(function(){var a=$(this).scrap();$(this).deselect().remove();a&&nudgepad.pages.stage.delete(a.getPath())})};
nudgepad.stage.selection.renameScraps=function(){var a=$(".selection").length;$(".selection").each(function(b){var c=$(this).scrap();$(this).addClass("nudgepadHighlightedScrap");$(this).scrollMinimal();b=prompt("Renaming block "+(b+1)+"/"+a+". Enter a new ID",c.id);if(b==c.id)return $(this).removeClass("nudgepadHighlightedScrap"),!0;if(!b)return!0;var e=new Scrap(b,c.toString());nudgepad.pages.stage.set(b,e);$(this).deselect().remove();nudgepad.pages.stage.delete(c.getPath());e.render();e.element().selectMe()});
nudgepad.stage.commit()};nudgepad.stage.selection.restore=function(){for(var a in nudgepad.stage.selection.saved){var b=nudgepad.stage.selection.saved[a];$(b).length&&$(b).selectMe()}};nudgepad.stage.selection.save=function(){nudgepad.stage.selection.saved=[];$(".selection").each(function(){nudgepad.stage.selection.saved.push($(this).scrap().selector())})};
nudgepad.stage.selection.toSpace=function(){var a=new Space;$(".selection").each(function(){var b=$(this).scrap();a.set(b.getPath(),new Space(b.toString()))});return a};nudgepad.on("selection",function(){var a=nudgepad.stage.activePage+" "+nudgepad.cookie.email,b=" ";$(".selection").each(function(){a+=b+".scrap#"+$(this).attr("id");b=","});a+="{box-shadow: 0 0 2px red;cursor: not-allowed;}";nudgepad.emit("workerSelection",a)});
Events.shortcut.onfire=function(a){nudgepad.feedback.record("used shortcut "+a)};
nudgepad.bind_shortcuts=function(){Events.shortcut.shortcuts["meta+shift+p"]=nudgepad.stage.selection.patchPrompt;Events.shortcut.shortcuts["ctrl+a"]=nudgepad.stage.selectAll;Events.shortcut.shortcuts["meta+a"]=nudgepad.stage.selectAll;Events.shortcut.shortcuts["meta+p"]=function(){window.open(nudgepad.stage.activePage,"published")};Events.shortcut.shortcuts["meta+shift+left"]=nudgepad.stage.selection.alignLeft;Events.shortcut.shortcuts["meta+shift+right"]=nudgepad.stage.selection.alignRight;Events.shortcut.shortcuts["meta+shift+up"]=
nudgepad.stage.selection.alignTop;Events.shortcut.shortcuts["meta+shift+down"]=nudgepad.stage.selection.alignBottom;Events.shortcut.shortcuts["meta+shift+v"]=nudgepad.stage.selection.distributeVertical;Events.shortcut.shortcuts["meta+shift+h"]=nudgepad.stage.selection.distributeHorizontal;Events.shortcut.shortcuts["shift+d"]=nudgepad.stage.selection.distributeHorizontal;Events.shortcut.shortcuts["alt+o"]=nudgepad.explorer.quickEdit;Events.shortcut.shortcuts["meta+shift+s"]=nudgepad.edit_settings;
var a=function(){nudgepad.stage.selection.remove();nudgepad.stage.commit()};Events.shortcut.shortcuts["delete"]=a;Events.shortcut.shortcuts.backspace=a;Events.shortcut.shortcuts["ctrl+d"]=nudgepad.stage.selection.duplicate;Events.shortcut.shortcuts["meta+d"]=nudgepad.stage.selection.duplicate;a=function(){$(".selection").length?nudgepad.stage.selection.editSource():nudgepad.stage.editSource()};Events.shortcut.shortcuts["ctrl+u"]=a;Events.shortcut.shortcuts["meta+u"]=a;Events.shortcut.shortcuts["meta+e"]=
nudgepad.stage.selection.editProperty;Events.shortcut.shortcuts["meta+l"]=nudgepad.stage.selection.editLoop;a=function(){$("#pagesContextMenu").toggle()};Events.shortcut.shortcuts["ctrl+i"]=a;Events.shortcut.shortcuts["meta+i"]=a;Events.shortcut.shortcuts["shift+space"]=function(){var a=prompt("Enter a command");if(!a)return!1;a.match(/^(w|width) (.*)/)&&(a=a.match(/^(w|width) (.*)/),nudgepad.stage.selection.css("width "+a[2]))};Events.shortcut.shortcuts["meta+shift+m"]=function(){nudgepad.explorer.edit("/public/manifest.webapp")};
Events.shortcut.shortcuts["meta+backspace"]=nudgepad.pages.trash;Events.shortcut.shortcuts["meta+o"]=nudgepad.pages.spotlight;Events.shortcut.shortcuts["ctrl+o"]=nudgepad.pages.spotlight;Events.shortcut.shortcuts["ctrl+n"]=nudgepad.pages.blank;Events.shortcut.shortcuts["meta+n"]=nudgepad.pages.blank;Events.shortcut.shortcuts["shift+n"]=nudgepad.pages.duplicate;Events.shortcut.shortcuts.up=function(){nudgepad.stage.selection.move(0,-1)};Events.shortcut.shortcuts.left=function(){nudgepad.stage.selection.move(-1,
0)};Events.shortcut.shortcuts.down=function(){nudgepad.stage.selection.move(0,1)};Events.shortcut.shortcuts.right=function(){nudgepad.stage.selection.move(1,0)};Events.shortcut.shortcuts["shift+t"]=function(){$(".nudgepadTimeline").toggle()};Events.shortcut.shortcuts["shift+up"]=function(){nudgepad.stage.selection.move(0,-10)};Events.shortcut.shortcuts["shift+left"]=function(){nudgepad.stage.selection.move(-10,0)};Events.shortcut.shortcuts["shift+down"]=function(){nudgepad.stage.selection.move(0,
10)};Events.shortcut.shortcuts["shift+right"]=function(){nudgepad.stage.selection.move(10,0)};Events.shortcut.shortcuts["alt+left"]=nudgepad.stage.back;Events.shortcut.shortcuts["alt+right"]=nudgepad.stage.forward;Events.shortcut.shortcuts["ctrl+z"]=nudgepad.stage.undo;Events.shortcut.shortcuts["meta+z"]=nudgepad.stage.undo;Events.shortcut.shortcuts["meta+shift+z"]=nudgepad.stage.redo;Events.shortcut.shortcuts["meta+y"]=nudgepad.stage.redo;Events.shortcut.shortcuts["ctrl+y"]=nudgepad.stage.redo;Events.shortcut.shortcuts["meta+shift+c"]=
nudgepad.stage.selection.cssPrompt};
nudgepad.on("main",function(){if(nudgepad.cookie.email!=="owner@"+nudgepad.domain)return!0;$("#nudgepadSignupFormDomain").text(nudgepad.domain).attr("href","http://"+nudgepad.domain);var a=Math.round(($(window).width()-725)/2);0<a&&$("#nudgepadSignupFormModal").children().each(function(){$(this).css("left",parseFloat($(this).css("left"))+a+"px");$(this).on("click",function(a){a.stopPropagation()})});$("#nudgepadSignupFormModal").show();$("#nudgepadSignupFormModal").on("click",function(){$(this).remove()});
$("#nudgepadSignupFormButton").on("click",function(){var a=$("#nudgepadSignupFormEmail").val();if(!ValidateEmail(a))return nudgepad.error("Invalid Email");$.post("/nudgepad.updateEmail",{email:a,sendWelcomeEmail:"true"},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?app=pages"})});$("#nudgepadSignupFormEmail").focus()});nudgepad.pages.spotlight=function(){var a=prompt("Enter the name of the page to open...","");a&&nudgepad.stage.open(a)};nudgepad.stage.version=0;
nudgepad.stage.breadcrumb="";nudgepad.stage.percentElapsed=100;nudgepad.stage.back=function(){nudgepad.stage.open(site.get("pages").prev(nudgepad.stage.activePage))};
nudgepad.stage.commit=function(){var a=(new Date).getTime(),b=nudgepad.pages.edge.diff(nudgepad.pages.stage),c=nudgepad.pages.edge.diffOrder(nudgepad.pages.stage);if(b.empty()&&c.empty())return console.log("no change"),!1;var e=new Space;e.set("author",nudgepad.cookie.email);b.empty()||e.set("values",new Space(b.toString()));c.empty()||e.set("order",new Space(c.toString()));nudgepad.stage.timeline.set(a,e);nudgepad.pages.edge=new Space(nudgepad.pages.stage.toString());nudgepad.stage.version=nudgepad.stage.timeline.keys.length;
nudgepad.stage.updateTimeline();nudgepad.trigger("selection");c=new Space;c.set("timelines "+nudgepad.stage.activePage+" "+a,e);site.set("pages "+nudgepad.stage.activePage,new Space(nudgepad.pages.stage.toString()));nudgepad.emit("commit",c.toString());return b};
nudgepad.stage.dragAndDrop=function(a){"string"===typeof a&&(a=new Space(a));var b=0,c=0,c=a.get("head style html height"),b=a.get("head style html height");if(!c||!b)c=nudgepad.getPageDimensions(a),isNaN(c.width)&&(c.width=140,c.height=100),b=c.width,c=c.height;var b=parseFloat(b),c=parseFloat(c),b=Math.round(b/2),c=Math.round(c/2),e=$("#nudgepadStageBody").offset().left,f=$("#nudgepadStage").scrollTop();nudgepad.stage.insert(a,!0,nudgepad.mouse.move.pageX-e-b,nudgepad.mouse.move.pageY-c+f)};
nudgepad.stage.editSource=function(){nudgepad.textPrompt("Enter code...",nudgepad.pages.stage.toString(),function(a){nudgepad.pages.stage=new Space(a);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};nudgepad.stage.erase=function(){nudgepad.stage.selectAll();nudgepad.stage.selection.remove();nudgepad.stage.commit()};nudgepad.stage.forward=function(){nudgepad.stage.open(site.get("pages").next(nudgepad.stage.activePage))};
nudgepad.stage.goto=function(a){nudgepad.stage.selection.save();nudgepad.stage.selection.clear();if(0>a||a>nudgepad.stage.timeline.keys.length)return!1;nudgepad.stage.version>a&&(nudgepad.pages.stage=new Page,nudgepad.stage.version=0);for(var b=nudgepad.stage.version;b<a;b++){var c=nudgepad.stage.timeline.keys[b],e=nudgepad.stage.timeline.values[c].values.values,c=nudgepad.stage.timeline.values[c].values.order;e&&nudgepad.pages.stage.patch(e.toString());c&&nudgepad.pages.stage.patchOrder(c.toString());
nudgepad.stage.version++}nudgepad.stage.updateTimeline();nudgepad.stage.render();nudgepad.stage.selection.restore()};nudgepad.stage.height=function(){return $(window).height()-$("#nudgepadPagesBar").outerHeight()};
nudgepad.stage.insert=function(a,b,c,e,f){a||(a="scrap\n content Hello world\n style\n  position absolute\n  top 10px\n  left 10px");a=new Space(a.toString());nudgepad.stage.selection.clear();level=nudgepad.pages.stage;nudgepad.stage.breadcrumb&&(level=nudgepad.pages.stage.get(nudgepad.stage.breadcrumb));a.each(function(a){level.get(a)&&this.rename(a,nudgepad.stage.nextScrapId(a))});level.patch(a);var n=[];a.each(function(a,b){level.values[a]=new Scrap(a,b);var c=level.values[a].render().element();
c.length&&(c.selectMe(),n.push(level.values[a].selector()))});f&&(f=$(".selection").dimensions(),c=Math.round($("#nudgepadStageBody").width()/2-f.width/2),e=Math.round(nudgepad.stage.scrollTop()+$(window).height()/2-f.height/2));(c||e)&&$(".selection").each(function(){$(this).scrap().move(c,e)});$(".handle").trigger("update");if(b){var t=$(".selection").attr("id");Events.slide.target=$("#move_handle_"+t);$("#move_handle_"+t).triggerHandler("mousedown");$("#move_handle_"+t).triggerHandler("slidestart");
$(".selection").each(function(){var a=$(this),b=a.clone(),c=a.css("opacity"),e=$(this).scrap();a.css("opacity","0.01");b.attr("id","nudgepad_move_ghost").removeClass("scrap selection");b.on("mousedown",function(){a.remove()});b.css("font-family",$("#nudgepadStageBody").css("font-family"));e.values.style&&b.css(e.values.style.values);b.css({"z-index":"600",position:"fixed",top:a.offset().top,left:a.offset().left});$("#move_handle_"+t).on("slide",function(){b.css({top:a.offset().top,left:a.offset().left})});
$("#move_handle_"+t).on("slideend",function(){a.css("opacity",c);b.remove()});$("body").append(b)})}else nudgepad.stage.commit();return n};nudgepad.stage.isBehind=function(){return nudgepad.stage.version<nudgepad.stage.timeline.keys.length};nudgepad.stage.nextScrapId=function(a){a=a||"scrap";var b=nudgepad.pages.stage;nudgepad.stage.breadcrumb&&(b=nudgepad.pages.stage.get(nudgepad.stage.breadcrumb));for(var c=b.length()+1;b.get(a+c);)c++;return a+c};
nudgepad.stage.open=function(a){if(!site.get("pages "+a))return nudgepad.error("Page "+a+" not found");nudgepad.stage.selection.clear();nudgepad.stage.activePage=a;store.set("activePage",nudgepad.stage.activePage);nudgepad.emit("pageChange",nudgepad.cookie.email+" "+nudgepad.stage.activePage);nudgepad.pages.updateTabs();nudgepad.stage.reload();nudgepad.stage.render();nudgepad.stage.updateTimeline();nudgepad.trigger("selection");return""};
nudgepad.stage.redo=function(){nudgepad.stage.goto(nudgepad.stage.version+1)};nudgepad.stage.render=function(){$("#nudgepadStageStyles").html("");$(".scrap").remove();nudgepad.pages.stage.loadScraps();nudgepad.pages.stage.render();nudgepad.grid.create()};nudgepad.stage.reload=function(){var a=nudgepad.stage.activePage,b=site.get("pages "+a);nudgepad.pages.edge=b;nudgepad.pages.stage=new Page(b.toString());nudgepad.stage.setTimeline(a);nudgepad.stage.version=nudgepad.stage.timeline.keys.length};
nudgepad.stage.reset=function(){$("#nudgepadStage").height($(window).height()-40)};nudgepad.stage.ribbonClose=function(){$("#nudgepadStage").height($(window).height()-40)};nudgepad.stage.ribbonOpen=function(){$("#nudgepadStage").height($(window).height()-122)};nudgepad.stage.scrollTop=function(){return $("#nudgepadStage").scrollTop()};nudgepad.stage.selectAll=function(){$(".scrap").each(function(){$(this).selectMe()})};
nudgepad.stage.setTimeline=function(a){if(site.get("timelines "+a))return nudgepad.stage.timeline=site.get("timelines "+a),!0;var b=$.ajax({type:"GET",url:"/nudgepad.site.timelines."+a,async:!1});b.done(function(b){site.set("timelines "+a,new Space(b))});b.fail(function(){var b=site.get("pages "+a),e=new Space;if(b&&!b.empty()){var f=new Space;f.set("author",nudgepad.cookie.email);f.set("values",new Space(b.toString()))}site.set("timelines "+a,e);b=new Space;b.set("timelines "+a,e);nudgepad.emit("patch",
b.toString());nudgepad.notify("Timeline created")});nudgepad.stage.timeline=site.get("timelines "+a)};
var stageViews=new Space({full:function(){$("#nudgepadStage").css({width:"100%",padding:0});$("#nudgepadStageBody").css({height:"100%","min-height":"1000px"})},edge:function(){$("#nudgepadStage").css({width:"90%",padding:"5%"});$("#nudgepadStageBody").css({height:"100%","min-height":"1000px"})},ios:function(){var a=Math.round(($(window).width()-320)/2)+"px";$("#nudgepadStage").css({padding:"20px "+a+" 20px "+a,width:"320px"});$("#nudgepadStageBody").css({height:"356px"})}});
nudgepad.stage.currentView="full";nudgepad.stage.toggleView=function(){nudgepad.stage.currentView=stageViews.next(nudgepad.stage.currentView);stageViews.get(nudgepad.stage.currentView)();console.log(nudgepad.stage.currentView);$("#nudgepadStageBody").width()};nudgepad.stage.undo=function(){nudgepad.stage.goto(nudgepad.stage.version-1)};
nudgepad.stage.updateTimeline=function(){nudgepad.stage.percentElapsed=nudgepad.stage.timeline.keys.length?Math.round(100*nudgepad.stage.version/nudgepad.stage.timeline.keys.length):100;$("#nudgepadTimeline").attr("max",nudgepad.stage.timeline.keys.length).val(nudgepad.stage.version);$("#nudgepadTimelinePosition").text(nudgepad.stage.version+"/"+nudgepad.stage.timeline.keys.length)};
nudgepad.on("main",function(){$("#nudgepadStage").on("tap",function(){nudgepad.stage.selection.clear();return!0});$(window).on("resize",function(){$("#nudgepadRibbon:visible").length?$("#nudgepadStage").height($(window).height()-122):$("#nudgepadStage").height($(window).height()-40)});nudgepad.stage.reset()});nudgepad.apps.stats=new App("stats");nudgepad.StretchHandle=function(){};
nudgepad.StretchHandle.create=function(a,b,c,e){var f=a.element(),n="fixed"==f.css("position")?"fixed":"absolute",t=("top"==b?"n":"bottom"==b?"s":"")+("left"==c?"w":"right"==c?"e":""),m=$("<div></div>");m.attr("value",a.getPath());m.addClass("handle stretch_handle stretch_handle_"+a.id+" "+a.id+"_handle");m.attr("id","stretch_handle_"+b+c+a.id);m.css({cursor:t+"-resize",position:n,width:"5px",height:"5px",border:"1px solid rgba(0, 0, 0, .5)","background-color":"rgba(255, 255, 255, 0.5)","z-index":"50"});
m.data("row",b);m.data("column",c);e&&m.data("fixed",!0);f.parent().append(m);m.on("mousedown",nudgepad.StretchHandle.mousedown);m.on("slide",nudgepad.StretchHandle.slide);m.on("slidestart",nudgepad.StretchHandle.slidestart);m.on("slideend",nudgepad.StretchHandle.slideend);m.on("tap",nudgepad.StretchHandle.tap);m.on("update",nudgepad.StretchHandle.update);m.on("dblclick",nudgepad.StretchHandle.dblclick);m.trigger("update")};nudgepad.StretchHandle.dimensions={};
nudgepad.StretchHandle.mousedown=function(){nudgepad.StretchHandle.dimensions=$(this).owner().dimensions();var a=$(this).owner().scrap();nudgepad.StretchHandle.originalWidth=parseFloat(a.get("style width"));nudgepad.StretchHandle.originalHeight=parseFloat(a.get("style height"));nudgepad.grid.create()};
nudgepad.StretchHandle.slide=function(){var a=$(this).owner(),b=$(this).data().row,c=$(this).data().column,e=$(this).data().fixed,f,n;f="left"===c?nudgepad.StretchHandle.dimensions.right:"right"===c?nudgepad.StretchHandle.dimensions.left:nudgepad.StretchHandle.dimensions.center;n="top"===b?nudgepad.StretchHandle.dimensions.bottom:"bottom"===b?nudgepad.StretchHandle.dimensions.top:nudgepad.StretchHandle.dimensions.middle;var t=nudgepad.mouse.move.pageX-$(this).parent().offset().left,m=nudgepad.mouse.move.pageY-
$(this).parent().offset().top,m=nudgepad.StretchHandle.getLength(f,n,t,m,"center"!=c,"middle"!=b),t=a.scrap();"center"!=c&&(t.set("style left",(0<=m.x?f:m.x+f)+"px"),c=a.outerWidth()-a.width(),t.set("style width",Math.abs(m.x)-c+"px"));e?(b=parseFloat(t.get("style width"))/nudgepad.StretchHandle.originalWidth,t.set("style height",Math.round(nudgepad.StretchHandle.originalHeight*b)+"px")):"middle"!=b&&(0<=m.y?t.set("style top",n+"px"):t.set("style top",m.y+n+"px"),b=a.outerHeight()-a.height(),t.set("style height",
Math.abs(m.y)-b+"px"));a.css(t.values.style.values);b="W "+parseFloat(a.css("width"))+"<br> H "+parseFloat(a.css("height"));$("#nudgepadDimensions").css({left:10+a.right(),top:-10+a.middle()}).html(b);$(".stretch_handle_"+t.id).trigger("update");return!1};
nudgepad.StretchHandle.slidestart=function(){var a=$(this).owner(),b=a.scrap();$("."+b.id+"_handle").not(".stretch_handle_"+b.id).hide();b="W "+parseFloat(a.css("width"))+"<br> H "+parseFloat(a.css("height"));a.parent().append($('<div id="nudgepadDimensions" class="nudgepad_popup"></div>'));$("#nudgepadDimensions").css({left:10+a.right(),top:-10+a.middle()}).html(b).show();return!1};
nudgepad.StretchHandle.dblclick=function(){var a=$(this).owner(),b=$(this).data().row,c=$(this).data().column,e=a.scrap();"right"===c&&e.set("style width","100%");"left"===c&&e.set("style left","0");"top"===b&&e.set("style top","0");"bottom"===b&&e.set("style height","100%");a.css(e.values.style.values);$("."+e.id+"_handle").trigger("update").show();nudgepad.stage.commit()};
nudgepad.StretchHandle.slideend=function(){var a=$(this).owner().scrap();$("."+a.id+"_handle").trigger("update").show();nudgepad.grid.removeSnaplines();$("#nudgepadDimensions").remove();nudgepad.stage.commit()};nudgepad.StretchHandle.getLength=function(a,b,c,e,f,n){a={x:c-a,y:e-b};c=nudgepad.grid.getDelta([{x:c,y:e}]);f&&(a.x+=c.x);n&&(a.y+=c.y);return a};nudgepad.StretchHandle.tap=function(){return!1};
nudgepad.StretchHandle.update=function(){var a=$(this).owner(),b,c,e=$(this).data().row,f=$(this).data().column;switch(e){case "top":c=a.position().top-4;break;case "middle":c=a.position().top+Math.round(a.outerHeight()/2)-4;break;case "bottom":c=a.position().top+a.outerHeight()-4}switch(f){case "left":b=a.position().left-4;break;case "center":b=a.position().left+Math.round(a.outerWidth()/2)-4;break;case "right":b=a.position().left+a.outerWidth()-4}$(this).css({left:b,top:c})};
nudgepad.livePreviewScrap=!1;nudgepad.livePreviewTimeout=!1;nudgepad.livePreviewStart=function(){clearTimeout(nudgepad.livePreviewTimeout);nudgepad.livePreviewTimeout=setTimeout("nudgepad.livePreview()",500)};nudgepad.livePreview=function(){var a=$("#nudgepadStyleEditorCssEditor"),b=nudgepad.livePreviewScrap;b.set("style",new Space(a.val()));b.element().attr("style","").css(b.get("style").values)};
nudgepad.styleEditor=function(a){$(".handle").remove();var b=$('<div id="nudgepadStyleEditorModal" class="nudgepad"/>');b.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});b.on("click",function(){N.trigger("click")});$("body").append(b);var c=a.element(),e=$('<div id="nudgepadStyleEditor" class="nudgepad"></div>');e.css({left:c.offset().left+2+"px",top:c.offset().top+c.outerHeight()+4+"px"});c=$('<div id="nudgepadStyleEditorTopBar"></div>');e.append(c);var f=
$('<div class="editorOption selectedEditorOption">Block</div>');f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");A.hide();S.hide();n.show();return!1});c.append(f);f=$('<div class="editorOption">Text</div>');f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");n.hide();A.hide();a.get("style")&&A.val(a.get("style"));S.show();return!1});c.append(f);f=$('<div class="editorOption">Code</div>');
f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");n.hide();S.hide();a.get("style")&&A.val(a.get("style"));A.show();return!1});c.append(f);var n=$('<div id="blockContainer"></div>');e.append(n);var t=$(".selection").css("background-color"),c=$('<div class="colorBackground"><input type="text" class="colorPicker"></div>');n.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/dup_lt.png"></div>');c.on("click",function(){nudgepad.stage.selection.duplicate()});
n.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/lock_lt.png"></div>');c.on("tap",function(){nudgepad.stage.selection.patch("locked true");N.trigger("click");return!1});n.append(c);var m=$('<select id="nudgepadLinkSelect"></select>'),c=$("<option>No link</option>");c.on("click",function(){nudgepad.stage.selection.patch("href ")});m.append(c);_.each(site.values.pages.values,function(a,b){var c=$('<option value="'+b+'">'+ToProperCase(b)+"</option>");c.on("click",function(){nudgepad.stage.selection.patch("type a\nhref "+
$(this).attr("value"))});m.append(c)});c=$("<option>New Page</option>");c.on("click",function(){var a=prompt("Enter the name of your new page",nudgepad.pages.nextName(nudgepad.stage.activePage));if(a){a=Permalink(a);nudgepad.stage.selection.patch("type a\nhref "+a);N.trigger("click");var b=nudgepad.stage.activePage;nudgepad.pages.duplicate(null,a,!0);nudgepad.stage.open(b)}});m.append(c);c=$("<option>External Link</option>");c.on("click",function(){var a=prompt("Enter the url to link to","http://");
a&&nudgepad.stage.selection.patch("type a\nhref "+a)});m.append(c);m.css({display:"none",position:"absolute","z-index":"100000"});m.attr("size",m.find("option").length);m.on("click",function(){m.hide();return!1});n.append(m);c=$('<div class="editorButton"><img src="/nudgepad/images/link_lt.png"></div>');c.on("tap",function(){m.css({left:$(this).position().left,top:$(this).position().top});m.show();return!1});n.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/up_lt.png" title="Order Up"></div>');
c.on("tap",function(){a.moveUp();A.val(a.get("style"));return!1});n.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/down_lt.png" title="Order Down"></div>');c.on("tap",function(){a.moveDown();A.val(a.get("style"));return!1});n.append(c);var p=$('<div class="clear"></div>');n.append(p);c=$('<div class="columnLeft"></div>');n.append(c);f=$('<div class="editorHeader">Curve</div>');c.append(f);f=$('<div id="roundessOne" class="toolButton toolButtonOne">0</div>');f.on("click",function(){nudgepad.stage.selection.cssPreview("border-radius 0px 0px 0px 0px");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="roundessTwo" class="toolButton toolButtonTwo">4</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 4px 4px 4px 4px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">10</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 10px 10px 10px 10px");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">50</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 50px 50px 50px 50px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);p=$('<div class="clear"></div>');c.append(p);f=$('<div class="editorHeader">Border</div>');c.append(f);var P=$(".selection").css("border-color"),f=$('<div class="colorBorder"><input type="text" class="colorBorderPicker toolButton toolButtonOne"></div>');
c.append(f);f=$('<div class="toolButton toolButtonTwo">0</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border none");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">1</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border 1px solid "+P);nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">5</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border 5px solid "+
P);nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);c=$('<div class="columnRight"></div>');n.append(c);f=$('<div class="editorHeader">Opacity</div>');c.append(f);f=$('<div class="toolButton toolButtonOne">1</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity 1");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="opacityOne" class="toolButton toolButtonTwo">.8</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .8");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">.5</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .5");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">.2</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .2");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="clear"></div>');
c.append(f);f=$('<div class="editorHeader">Shadow</div>');c.append(f);f=$('<div class="toolButton toolButtonOne">0</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow none");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="shadowOne" class="toolButton toolButtonTwo">Out</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow 0px 1px 3px rgba(0,0,0,.6)");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);f=$('<div id="shadowTwo" class="toolButton toolButtonTwo">In</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow inset 0px 1px 3px rgba(0,0,0,.6)");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="ShadowThree" class="toolButton toolButtonThree">All</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow 0px 0px 0px 4px rgba(0,0,0,.2)");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);p=$('<div class="clear"></div>');n.append(p);var S=$('<div id="nudgepadStyleEditorTextEditor"></div>');e.append(S);var W=$(".selection").css("font-family"),c=$('<select id="fontFamily" class="toolButton" name="fontFamilyDropdown"><option>Arial</option><option>Arvo</option><option>Courier</option><option>Helvetica</option><option>Open Sans</option><option>Times</option><option>Titillium Web</option></select>');c.on("change",function(){W=$("#fontFamily").val();nudgepad.stage.selection.cssPreview("font-family "+
W);nudgepad.stage.commit();$(".handle").trigger("update");return!1});S.append(c);c=$(".selection").css("color");f=$('<div class="colorFont"><input type="text" class="colorFontPicker toolButton toolButtonOne"></div>');S.append(f);var y=$(".selection").css("font-size"),f=$('<select id="fontSize" name="fontDropdown"><option>11</option><option>12</option><option>13</option><option>14</option><option>16</option><option>18</option><option>24</option><option>32</option><option>40</option><option>48</option><option>56</option><option>64</option><option>72</option></select>');
f.on("change",function(){y=$("#fontSize").val();nudgepad.stage.selection.cssPreview("font-size "+y+"px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});S.append(f);f=$('<div id="resize" class="toolButton" title="Auto Resize"><img src="/nudgepad/images/contract.png"></div>');f.on("click",function(){nudgepad.stage.selection.cssPreview({width:"auto",height:"auto"});nudgepad.stage.commit();$(".handle").trigger("update");return!1});S.append(f);p=$('<div class="clear"></div>');S.append(p);
f=$('<div class="columnLeft"></div>');S.append(f);p=$('<div class="editorHeader">Alignment</div>');f.append(p);p=$('<div class="toolButton toolButtonOne"><img src="/nudgepad/images/left_lt.png"></div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("text-align left");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/images/center_lt.png"></div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("text-align center");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/images/right_lt.png"></div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("text-align right");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonThree"><img src="/nudgepad/images/justify_lt.png"></div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("text-align justify");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="clear"></div>');f.append(p);p=$('<div class="editorHeader">Padding</div>');f.append(p);p=$('<div class="toolButton toolButtonOne">0</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("padding 0px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonTwo">10</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("padding 10px");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonTwo">20</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("padding 20px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div class="toolButton toolButtonTwo">40</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("padding 40px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);f=$('<div class="columnRight"></div>');
S.append(f);p=$('<div class="clear"></div>');f.append(p);p=$('<div class="editorHeader">Line Height</div>');f.append(p);p=$('<div id="lineHeightOne" class="toolButton toolButtonOne">100</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 100%");return!1});f.append(p);p=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">140</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 140%");return!1});f.append(p);p=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">180</div>');
p.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 180%");return!1});f.append(p);p=$('<div id="lineHeightThree" class="toolButton toolButtonThree">Mid</div>');p.on("click",function(){var a=$(".selection").css("height");nudgepad.stage.selection.cssPreview("line-height "+a);return!1});f.append(p);p=$('<div class="clear"></div>');f.append(p);p=$('<div class="editorHeader">Style</div>');f.append(p);p=$('<div id="textStyleOne" class="toolButton toolButtonOne">B</div>');p.on("click",
function(){nudgepad.stage.selection.cssPreview("font-weight bold");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div id="italics" class="toolButton toolButtonTwo">I</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("font-style italic");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div id="textStyleTwo" class="toolButton toolButtonTwo">U</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview("text-decoration underline");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(p);p=$('<div id="textStyleThree" class="toolButton toolButtonThree">Auto</div>');p.on("click",function(){nudgepad.stage.selection.cssPreview({"text-decoration":"none","font-weight":"normal","font-style":"normal"});return!1});f.append(p);p=$('<div class="clear"></div>');S.append(p);var A=$('<textarea id="nudgepadStyleEditorCssEditor"></textarea>');a.get("style")&&A.val(a.get("style"));A.on("tap mousedown click slide slidestart slideend mouseup",
function(a){a.stopPropagation()});nudgepad.livePreviewScrap=a;A.on("keyup",nudgepad.livePreviewStart);e.append(A);f=$('<div id="nudgepadStyleEditorBottomBar"></div>');A.append(f);var N=$('<div id="nudgepadStyleEditorSaveButton">Save</div>');N.on("click",function(){nudgepad.stage.commit();$(".handle").trigger("update");e.remove();b.remove()});A.append(N);$("body").append(e);var X;$(".colorPicker").spectrum({color:t,move:function(a){nudgepad.stage.selection.cssPreview("background-color "+a.toHexString());
t=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());t=a.toHexString()},show:function(){X="background-color "},hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(".colorBorderPicker").spectrum({color:P,move:function(a){nudgepad.stage.selection.cssPreview("border-color "+a.toHexString());P=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());P=a.toHexString()},show:function(){X="border-color "},
hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(".colorFontPicker").spectrum({color:c,move:function(a){nudgepad.stage.selection.cssPreview("color "+a.toHexString());P=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());P=a.toHexString()},show:function(){X="color "},hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(document).on("slide slidestart slideend",".sp-container",function(){return!1});$(".sp-input[type=text]").on("keydown",
function(a){if(13==a.which)return a.preventDefault(),a=$(this).val(),nudgepad.stage.selection.css(X+a),!1});$(".colorFont .sp-replacer").addClass("fontColorButton");$(".colorFont .sp-preview").addClass("fontColorLine");$(".colorFont .sp-replacer").append('<img src="/nudgepad/images/letter.png">');$(".colorBorder .sp-replacer").addClass("borderColorButton");$(".colorBorder .sp-preview").addClass("borderColorLine");$(".colorBackground .sp-replacer").addClass("backgroundColorButton");$(":input[name=fontDropdown] option").each(function(a,
b){$(b).text()+"px"==y&&$(this).attr("selected","selected")});$(":input[name=fontFamilyDropdown] option").each(function(a,b){$(b).text()==W&&$(this).attr("selected","selected")});c=e.position().top+e.outerHeight()-nudgepad.stage.height();0<c&&($("#nudgepadStage").scrollTop($("#nudgepadStage").scrollTop()+c),e.css("top",parseFloat(e.css("top"))-c));c=e.position().left+e.outerWidth()-$(window).width();0<c&&($("#nudgepadStage").scrollLeft($("#nudgepadStage").scrollLeft()+c),e.css("left",parseFloat(e.css("left"))-
c))};nudgepad.apps.surveys=new App("surveys");nudgepad.apps.surveys.entries=new Space;nudgepad.apps.surveys.download=function(){$.get("/nudgepad.surveys",function(a){nudgepad.apps.surveys.entries=new Space(a);if(nudgepad.apps.surveys.isOpen())nudgepad.apps.surveys.onready()})};nudgepad.apps.surveys.onmain=nudgepad.apps.surveys.download;nudgepad.apps.surveys.onopen=nudgepad.apps.surveys.download;
nudgepad.apps.surveys.onready=function(){$(".nudgepad#entriesCount").text(nudgepad.apps.surveys.entries.keys.length);$(".nudgepad#entries").text(nudgepad.apps.surveys.entries.toString());$(".nudgepad#entries span").each(function(){$(this).text(moment(parseInt($(this).text())).fromNow())})};nudgepad.on("main",nudgepad.apps.surveys.download);nudgepad.openPages={};
nudgepad.pages.updateTabs=function(){$("#nudgepadTabs").html("");var a=site.get("pages").keys;_.each(a,function(a){var c=$("<span>"+a+"</span>");a===nudgepad.stage.activePage&&c.css("color","white");_.each(nudgepad.openPages,function(e){a===e&&c.addClass("openPage")});c.on("hold",function(){window.open($(this).text(),"published");return!0});c.on("click",function(){nudgepad.stage.open($(this).text());return!0});c.attr("value",a);$("#nudgepadTabs").append(c)})};
nudgepad.textPrompt=function(a,b,c,e,f){var n=$('<textarea id="nudgepadEditorTextarea" class="nudgepad"></textarea>');n.val(b);var t=$('<div id="nudgepadEditorModalScreen" class="nudgepad"/>');t.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});n.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});if(e)n.on("keypress",e);var m=$('<div id="nudgepadEditorSaveButton" class="nudgepad">'+(f||"Save")+"</div>"),p=$('<div id="nudgepadEditorCancelButton" class="nudgepad">Cancel</div>'),
P=$('<div id="nudgepadEditorButtonContainer" class="nudgepad"></div>');t.on("click",function(){p.trigger("click")});p.on("click",function(){m.remove();n.remove();t.remove();P.remove();p.remove()});m.on("click",function(){c&&c(n.val());m.remove();n.remove();t.remove();P.remove();p.remove()});$("body").append(t);$("body").append(n);$("body").append(m);$("body").append(p);$("body").append(P);n.focus()};
/**
 * @param {object} Context
 * @return null
 */
Page.prototype.request = function (context) {
  // Compile any dynamic code
  // Execute any scraps of type server
  return false
  if (!this.get('head onrequest'))
    return null
  try {
    eval(this.get('head onrequest'))
  } catch (e) {
    if (e instanceof SyntaxError)
      console.log('Syntax error rendering onrequest %s', e.message)
    else
      console.log('Error rendering onrequest %s', e.message)
  }
}
