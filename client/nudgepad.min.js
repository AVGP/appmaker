(function(a,b){function c(j){var a=j.length,b=e.type(j);return e.isWindow(j)?!1:1===j.nodeType&&a?!0:"array"===b||"function"!==b&&(0===a||"number"==typeof a&&0<a&&a-1 in j)}function d(j,a,y,t){if(e.acceptData(j)){var c,h,d=e.expando,g="string"==typeof a,p=j.nodeType,f=p?e.cache:j,n=p?j[d]:j[d]&&d;if(n&&f[n]&&(t||f[n].data)||!g||y!==b)return n||(p?j[d]=n=Ca.pop()||e.guid++:n=d),f[n]||(f[n]={},p||(f[n].toJSON=e.noop)),("object"==typeof a||"function"==typeof a)&&(t?f[n]=e.extend(f[n],a):f[n].data=e.extend(f[n].data,
a)),c=f[n],t||(c.data||(c.data={}),c=c.data),y!==b&&(c[e.camelCase(a)]=y),g?(h=c[a],null==h&&(h=c[e.camelCase(a)])):h=c,h}}function f(j,a,b){if(e.acceptData(j)){var t,c,h,d=j.nodeType,g=d?e.cache:j,p=d?j[e.expando]:e.expando;if(g[p]){if(a&&(h=b?g[p]:g[p].data)){e.isArray(a)?a=a.concat(e.map(a,e.camelCase)):a in h?a=[a]:(a=e.camelCase(a),a=a in h?[a]:a.split(" "));t=0;for(c=a.length;c>t;t++)delete h[a[t]];if(!(b?u:e.isEmptyObject)(h))return}(b||(delete g[p].data,u(g[p])))&&(d?e.cleanData([j],!0):e.support.deleteExpando||
g!=g.window?delete g[p]:g[p]=null)}}}function q(j,a,y){if(y===b&&1===j.nodeType){var t="data-"+a.replace(wa,"-$1").toLowerCase();if(y=j.getAttribute(t),"string"==typeof y){try{y="true"===y?!0:"false"===y?!1:"null"===y?null:+y+""===y?+y:Ga.test(y)?e.parseJSON(y):y}catch(c){}e.data(j,a,y)}else y=b}return y}function u(j){for(var a in j)if(("data"!==a||!e.isEmptyObject(j[a]))&&"toJSON"!==a)return!1;return!0}function l(){return!0}function s(){return!1}function S(j,a){do j=j[a];while(j&&1!==j.nodeType);
return j}function U(j,a,b){if(a=a||0,e.isFunction(a))return e.grep(j,function(j,e){return!!a.call(j,e,j)===b});if(a.nodeType)return e.grep(j,function(j){return j===a===b});if("string"==typeof a){var t=e.grep(j,function(j){return 1===j.nodeType});if(Tc.test(a))return e.filter(a,t,!b);a=e.filter(a,t)}return e.grep(j,function(j){return 0<=e.inArray(j,a)===b})}function T(j){var a=sc.split("|");j=j.createDocumentFragment();if(j.createElement)for(;a.length;)j.createElement(a.pop());return j}function z(j){var a=
j.getAttributeNode("type");return j.type=(a&&a.specified)+"/"+j.type,j}function F(j){var a=Uc.exec(j.type);return a?j.type=a[1]:j.removeAttribute("type"),j}function V(j,a){for(var b,t=0;null!=(b=j[t]);t++)e._data(b,"globalEval",!a||e._data(a[t],"globalEval"))}function E(j,a){if(1===a.nodeType&&e.hasData(j)){var b,t,c;t=e._data(j);var h=e._data(a,t),d=t.events;if(d)for(b in delete h.handle,h.events={},d){t=0;for(c=d[b].length;c>t;t++)e.event.add(a,b,d[b][t])}h.data&&(h.data=e.extend({},h.data))}}function w(j,
a){var y,t,c=0,h=typeof j.getElementsByTagName!==L?j.getElementsByTagName(a||"*"):typeof j.querySelectorAll!==L?j.querySelectorAll(a||"*"):b;if(!h){h=[];for(y=j.childNodes||j;null!=(t=y[c]);c++)!a||e.nodeName(t,a)?h.push(t):e.merge(h,w(t,a))}return a===b||a&&e.nodeName(j,a)?e.merge([j],h):h}function X(j){ac.test(j.type)&&(j.defaultChecked=j.checked)}function I(j,a){if(a in j)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),e=a,c=tc.length;c--;)if(a=tc[c]+b,a in j)return a;return e}function Q(j,
a){return j=a||j,"none"===e.css(j,"display")||!e.contains(j.ownerDocument,j)}function J(j,a){for(var b,t,c,h=[],d=0,g=j.length;g>d;d++)t=j[d],t.style&&(h[d]=e._data(t,"olddisplay"),b=t.style.display,a?(h[d]||"none"!==b||(t.style.display=""),""===t.style.display&&Q(t)&&(h[d]=e._data(t,"olddisplay",ga(t.nodeName)))):h[d]||(c=Q(t),(b&&"none"!==b||!c)&&e._data(t,"olddisplay",c?b:e.css(t,"display"))));for(d=0;g>d;d++)t=j[d],t.style&&(a&&"none"!==t.style.display&&""!==t.style.display||(t.style.display=
a?h[d]||"":"none"));return j}function k(j,a,b){return(j=Vc.exec(a))?Math.max(0,j[1]-(b||0))+(j[2]||"px"):a}function D(j,a,b,t,c){a=b===(t?"border":"content")?4:"width"===a?1:0;for(var h=0;4>a;a+=2)"margin"===b&&(h+=e.css(j,b+db[a],!0,c)),t?("content"===b&&(h-=e.css(j,"padding"+db[a],!0,c)),"margin"!==b&&(h-=e.css(j,"border"+db[a]+"Width",!0,c))):(h+=e.css(j,"padding"+db[a],!0,c),"padding"!==b&&(h+=e.css(j,"border"+db[a]+"Width",!0,c)));return h}function Y(j,a,b){var t=!0,c="width"===a?j.offsetWidth:
j.offsetHeight,h=eb(j),d=e.support.boxSizing&&"border-box"===e.css(j,"boxSizing",!1,h);if(0>=c||null==c){if(c=fb(j,a,h),(0>c||null==c)&&(c=j.style[a]),Nb.test(c))return c;t=d&&(e.support.boxSizingReliable||c===j.style[a]);c=parseFloat(c)||0}return c+D(j,a,b||(d?"border":"content"),t,h)+"px"}function ga(j){var a=A,b=uc[j];return b||(b=W(j,a),"none"!==b&&b||(Eb=(Eb||e("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(a.documentElement),a=(Eb[0].contentWindow||
Eb[0].contentDocument).document,a.write("<!doctype html><html><body>"),a.close(),b=W(j,a),Eb.detach()),uc[j]=b),b}function W(j,a){var b=e(a.createElement(j)).appendTo(a.body),t=e.css(b[0],"display");return b.remove(),t}function P(j,a,b,t){var c;if(e.isArray(a))e.each(a,function(a,C){b||Wc.test(j)?t(j,C):P(j+"["+("object"==typeof C?a:"")+"]",C,b,t)});else if(b||"object"!==e.type(a))t(j,a);else for(c in a)P(j+"["+c+"]",a[c],b,t)}function m(j){return function(a,b){"string"!=typeof a&&(b=a,a="*");var t,
c=0,h=a.toLowerCase().match(Ba)||[];if(e.isFunction(b))for(;t=h[c++];)"+"===t[0]?(t=t.slice(1)||"*",(j[t]=j[t]||[]).unshift(b)):(j[t]=j[t]||[]).push(b)}}function ca(j,a,y,t){function c(g){var p;return h[g]=!0,e.each(j[g]||[],function(j,e){var g=e(a,y,t);return"string"!=typeof g||d||h[g]?d?!(p=g):b:(a.dataTypes.unshift(g),c(g),!1)}),p}var h={},d=j===bc;return c(a.dataTypes[0])||!h["*"]&&c("*")}function O(j,a){var y,t,c=e.ajaxSettings.flatOptions||{};for(t in a)a[t]!==b&&((c[t]?j:y||(y={}))[t]=a[t]);
return y&&e.extend(!0,j,y),j}function ja(){try{return new a.XMLHttpRequest}catch(j){}}function ea(){return setTimeout(function(){nb=b}),nb=e.now()}function H(j,a,b){var t,c,h=0,d=Ob.length,g=e.Deferred().always(function(){delete p.elem}),p=function(){if(c)return!1;for(var a=nb||ea(),a=Math.max(0,f.startTime+f.duration-a),b=1-(a/f.duration||0),C=0,e=f.tweens.length;e>C;C++)f.tweens[C].run(b);return g.notifyWith(j,[f,b,a]),1>b&&e?a:(g.resolveWith(j,[f]),!1)},f=g.promise({elem:j,props:e.extend({},a),
opts:e.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:nb||ea(),duration:b.duration,tweens:[],createTween:function(a,b){var C=e.Tween(j,f.opts,a,b,f.opts.specialEasing[a]||f.opts.easing);return f.tweens.push(C),C},stop:function(a){var b=0,C=a?f.tweens.length:0;if(c)return this;for(c=!0;C>b;b++)f.tweens[b].run(1);return a?g.resolveWith(j,[f,a]):g.rejectWith(j,[f,a]),this}});a=f.props;b=f.opts.specialEasing;var n,r,B,k;for(r in a)if(n=e.camelCase(r),B=b[n],t=a[r],e.isArray(t)&&
(B=t[1],t=a[r]=t[0]),r!==n&&(a[n]=t,delete a[r]),k=e.cssHooks[n],k&&"expand"in k)for(r in t=k.expand(t),delete a[n],t)r in a||(a[r]=t[r],b[r]=B);else b[n]=B;for(;d>h;h++)if(t=Ob[h].call(f,j,a,f.opts))return t;var v=f;e.each(a,function(j,a){for(var b=(Fb[j]||[]).concat(Fb["*"]),C=0,e=b.length;e>C&&!b[C].call(v,j,a);C++);});return e.isFunction(f.opts.start)&&f.opts.start.call(j,f),e.fx.timer(e.extend(p,{elem:j,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}
function M(j,a,b,e,c){return new M.prototype.init(j,a,b,e,c)}function g(j,a){var b,e={height:j},c=0;for(a=a?1:0;4>c;c+=2-a)b=db[c],e["margin"+b]=e["padding"+b]=j;return a&&(e.opacity=e.width=j),e}function x(j){return e.isWindow(j)?j:9===j.nodeType?j.defaultView||j.parentWindow:!1}var n,r,L=typeof b,A=a.document,fa=a.location,Wa=a.jQuery,Xa=a.$,sa={},Ca=[],ha=Ca.concat,ta=Ca.push,ka=Ca.slice,v=Ca.indexOf,Z=sa.toString,K=sa.hasOwnProperty,Ya="1.9.1".trim,e=function(j,a){return new e.fn.init(j,a,r)},
Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=/\S+/g,Za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,hb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Gb=/^[\],:{}\s]*$/,Pb=/(?:^|:|,)(?:\s*\[)+/g,Qa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ob=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ja=/^-ms-/,Hb=/-([\da-z])/gi,Qb=function(j,a){return a.toUpperCase()},G=function(j){(A.addEventListener||"load"===j.type||"complete"===A.readyState)&&(Ra(),e.ready())},Ra=function(){A.addEventListener?
(A.removeEventListener("DOMContentLoaded",G,!1),a.removeEventListener("load",G,!1)):(A.detachEvent("onreadystatechange",G),a.detachEvent("onload",G))};e.fn=e.prototype={jquery:"1.9.1",constructor:e,init:function(j,a,y){var t,c;if(!j)return this;if("string"==typeof j){if(t="<"===j.charAt(0)&&">"===j.charAt(j.length-1)&&3<=j.length?[null,j,null]:gb.exec(j),!t||!t[1]&&a)return!a||a.jquery?(a||y).find(j):this.constructor(a).find(j);if(t[1]){if(a=a instanceof e?a[0]:a,e.merge(this,e.parseHTML(t[1],a&&
a.nodeType?a.ownerDocument||a:A,!0)),hb.test(t[1])&&e.isPlainObject(a))for(t in a)e.isFunction(this[t])?this[t](a[t]):this.attr(t,a[t]);return this}if(c=A.getElementById(t[2]),c&&c.parentNode){if(c.id!==t[2])return y.find(j);this.length=1;this[0]=c}return this.context=A,this.selector=j,this}return j.nodeType?(this.context=this[0]=j,this.length=1,this):e.isFunction(j)?y.ready(j):(j.selector!==b&&(this.selector=j.selector,this.context=j.context),e.makeArray(j,this))},selector:"",length:0,size:function(){return this.length},
toArray:function(){return ka.call(this)},get:function(j){return null==j?this.toArray():0>j?this[this.length+j]:this[j]},pushStack:function(j){j=e.merge(this.constructor(),j);return j.prevObject=this,j.context=this.context,j},each:function(j,a){return e.each(this,j,a)},ready:function(j){return e.ready.promise().done(j),this},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(j){var a=this.length;j=+j+
(0>j?a:0);return this.pushStack(0<=j&&a>j?[this[j]]:[])},map:function(j){return this.pushStack(e.map(this,function(a,b){return j.call(a,b,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:ta,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var j,a,y,t,c,h,d=arguments[0]||{},g=1,f=arguments.length,p=!1;"boolean"==typeof d&&(p=d,d=arguments[1]||{},g=2);"object"==typeof d||e.isFunction(d)||(d={});for(f===g&&(d=this,--g);f>g;g++)if(null!=
(c=arguments[g]))for(t in c)j=d[t],y=c[t],d!==y&&(p&&y&&(e.isPlainObject(y)||(a=e.isArray(y)))?(a?(a=!1,h=j&&e.isArray(j)?j:[]):h=j&&e.isPlainObject(j)?j:{},d[t]=e.extend(p,h,y)):y!==b&&(d[t]=y));return d};e.extend({noConflict:function(j){return a.$===e&&(a.$=Xa),j&&a.jQuery===e&&(a.jQuery=Wa),e},isReady:!1,readyWait:1,holdReady:function(j){j?e.readyWait++:e.ready(!0)},ready:function(j){if(!0===j?!--e.readyWait:!e.isReady){if(!A.body)return setTimeout(e.ready);e.isReady=!0;!0!==j&&0<--e.readyWait||
(n.resolveWith(A,[e]),e.fn.trigger&&e(A).trigger("ready").off("ready"))}},isFunction:function(j){return"function"===e.type(j)},isArray:Array.isArray||function(j){return"array"===e.type(j)},isWindow:function(j){return null!=j&&j==j.window},isNumeric:function(j){return!isNaN(parseFloat(j))&&isFinite(j)},type:function(j){return null==j?j+"":"object"==typeof j||"function"==typeof j?sa[Z.call(j)]||"object":typeof j},isPlainObject:function(j){if(!j||"object"!==e.type(j)||j.nodeType||e.isWindow(j))return!1;
try{if(j.constructor&&!K.call(j,"constructor")&&!K.call(j.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var y in j);return y===b||K.call(j,y)},isEmptyObject:function(j){for(var a in j)return!1;return!0},error:function(j){throw Error(j);},parseHTML:function(j,a,b){if(!j||"string"!=typeof j)return null;"boolean"==typeof a&&(b=a,a=!1);a=a||A;var t=hb.exec(j);b=!b&&[];return t?[a.createElement(t[1])]:(t=e.buildFragment([j],a,b),b&&e(b).remove(),e.merge([],t.childNodes))},parseJSON:function(j){return a.JSON&&
a.JSON.parse?a.JSON.parse(j):null===j?j:"string"==typeof j&&(j=e.trim(j),j&&Gb.test(j.replace(Qa,"@").replace(ob,"]").replace(Pb,"")))?Function("return "+j)():(e.error("Invalid JSON: "+j),b)},parseXML:function(j){var C,y;if(!j||"string"!=typeof j)return null;try{a.DOMParser?(y=new DOMParser,C=y.parseFromString(j,"text/xml")):(C=new ActiveXObject("Microsoft.XMLDOM"),C.async="false",C.loadXML(j))}catch(t){C=b}return C&&C.documentElement&&!C.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+
j),C},noop:function(){},globalEval:function(j){j&&e.trim(j)&&(a.execScript||function(j){a.eval.call(a,j)})(j)},camelCase:function(j){return j.replace(Ja,"ms-").replace(Hb,Qb)},nodeName:function(j,a){return j.nodeName&&j.nodeName.toLowerCase()===a.toLowerCase()},each:function(j,a,b){var e,h=0,d=j.length,g=c(j);if(b)if(g)for(;d>h&&!(e=a.apply(j[h],b),!1===e);h++);else for(h in j){if(e=a.apply(j[h],b),!1===e)break}else if(g)for(;d>h&&!(e=a.call(j[h],h,j[h]),!1===e);h++);else for(h in j)if(e=a.call(j[h],
h,j[h]),!1===e)break;return j},trim:Ya&&!Ya.call("\ufeff\u00a0")?function(j){return null==j?"":Ya.call(j)}:function(j){return null==j?"":(j+"").replace(Za,"")},makeArray:function(j,a){var b=a||[];return null!=j&&(c(Object(j))?e.merge(b,"string"==typeof j?[j]:j):ta.call(b,j)),b},inArray:function(j,a,b){var e;if(a){if(v)return v.call(a,j,b);e=a.length;for(b=b?0>b?Math.max(0,e+b):b:0;e>b;b++)if(b in a&&a[b]===j)return b}return-1},merge:function(j,a){var e=a.length,c=j.length,h=0;if("number"==typeof e)for(;e>
h;h++)j[c++]=a[h];else for(;a[h]!==b;)j[c++]=a[h++];return j.length=c,j},grep:function(j,a,b){var e,c=[],h=0,d=j.length;for(b=!!b;d>h;h++)e=!!a(j[h],h),b!==e&&c.push(j[h]);return c},map:function(j,a,b){var e,h=0,d=j.length,g=[];if(c(j))for(;d>h;h++)e=a(j[h],h,b),null!=e&&(g[g.length]=e);else for(h in j)e=a(j[h],h,b),null!=e&&(g[g.length]=e);return ha.apply([],g)},guid:1,proxy:function(j,a){var y,c,h;return"string"==typeof a&&(h=j[a],a=j,j=h),e.isFunction(j)?(y=ka.call(arguments,2),c=function(){return j.apply(a||
this,y.concat(ka.call(arguments)))},c.guid=j.guid=j.guid||e.guid++,c):b},access:function(j,a,y,c,h,d,g){var f=0,p=j.length,n=null==y;if("object"===e.type(y))for(f in h=!0,y)e.access(j,a,f,y[f],!0,d,g);else if(c!==b&&(h=!0,e.isFunction(c)||(g=!0),n&&(g?(a.call(j,c),a=null):(n=a,a=function(j,a,b){return n.call(e(j),b)})),a))for(;p>f;f++)a(j[f],y,g?c:c.call(j[f],f,a(j[f],y)));return h?j:n?a.call(j):p?a(j[0],y):d},now:function(){return(new Date).getTime()}});e.ready.promise=function(j){if(!n)if(n=e.Deferred(),
"complete"===A.readyState)setTimeout(e.ready);else if(A.addEventListener)A.addEventListener("DOMContentLoaded",G,!1),a.addEventListener("load",G,!1);else{A.attachEvent("onreadystatechange",G);a.attachEvent("onload",G);var b=!1;try{b=null==a.frameElement&&A.documentElement}catch(y){}b&&b.doScroll&&function Sc(){if(!e.isReady){try{b.doScroll("left")}catch(j){return setTimeout(Sc,50)}Ra();e.ready()}}()}return n.promise(j)};e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(j,a){sa["[object "+a+"]"]=a.toLowerCase()});r=e(A);var Sa={};e.Callbacks=function(j){var a;if("string"==typeof j){if(!(a=Sa[j])){a=j;var y=Sa[a]={};a=(e.each(a.match(Ba)||[],function(j,a){y[a]=!0}),y)}}else a=e.extend({},j);j=a;var c,h,d,g,f,p,n=[],r=!j.once&&[],B=function(a){h=j.memory&&a;d=!0;f=p||0;p=0;g=n.length;for(c=!0;n&&g>f;f++)if(!1===n[f].apply(a[0],a[1])&&j.stopOnFalse){h=!1;break}c=!1;n&&(r?r.length&&B(r.shift()):h?n=[]:k.disable())},k={add:function(){if(n){var a=n.length;(function Xc(a){e.each(a,
function(a,b){var C=e.type(b);"function"===C?j.unique&&k.has(b)||n.push(b):b&&b.length&&"string"!==C&&Xc(b)})})(arguments);c?g=n.length:h&&(p=a,B(h))}return this},remove:function(){return n&&e.each(arguments,function(j,a){for(var b;-1<(b=e.inArray(a,n,b));)n.splice(b,1),c&&(g>=b&&g--,f>=b&&f--)}),this},has:function(j){return j?-1<e.inArray(j,n):!(!n||!n.length)},empty:function(){return n=[],this},disable:function(){return n=r=h=b,this},disabled:function(){return!n},lock:function(){return r=b,h||k.disable(),
this},locked:function(){return!r},fireWith:function(j,a){return a=a||[],a=[j,a.slice?a.slice():a],!n||d&&!r||(c?r.push(a):B(a)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k};e.extend({Deferred:function(j){var a=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],b="pending",c={state:function(){return b},always:function(){return h.done(arguments).fail(arguments),
this},then:function(){var j=arguments;return e.Deferred(function(b){e.each(a,function(a,C){var y=C[0],d=e.isFunction(j[a])&&j[a];h[C[1]](function(){var j=d&&d.apply(this,arguments);j&&e.isFunction(j.promise)?j.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[y+"With"](this===c?b.promise():this,d?[j]:arguments)})});j=null}).promise()},promise:function(j){return null!=j?e.extend(j,c):c}},h={};return c.pipe=c.then,e.each(a,function(j,e){var d=e[2],g=e[3];c[e[1]]=d.add;g&&d.add(function(){b=
g},a[1^j][2].disable,a[2][2].lock);h[e[0]]=function(){return h[e[0]+"With"](this===h?c:this,arguments),this};h[e[0]+"With"]=d.fireWith}),c.promise(h),j&&j.call(h,h),h},when:function(j){var a=0,b=ka.call(arguments),c=b.length,h=1!==c||j&&e.isFunction(j.promise)?c:0,d=1===h?j:e.Deferred(),g=function(j,a,b){return function(e){a[j]=this;b[j]=1<arguments.length?ka.call(arguments):e;b===f?d.notifyWith(a,b):--h||d.resolveWith(a,b)}},f,p,n;if(1<c){f=Array(c);p=Array(c);for(n=Array(c);c>a;a++)b[a]&&e.isFunction(b[a].promise)?
b[a].promise().done(g(a,n,b)).fail(d.reject).progress(g(a,p,f)):--h}return h||d.resolveWith(n,b),d.promise()}});var cc=e,ib;var da,ia,R,na,oa,ua,Ha,la,Ma,qa,N=A.createElement("div");if(N.setAttribute("className","t"),N.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ia=N.getElementsByTagName("*"),R=N.getElementsByTagName("a")[0],!ia||!R||!ia.length)ib={};else{oa=A.createElement("select");Ha=oa.appendChild(A.createElement("option"));na=N.getElementsByTagName("input")[0];
R.style.cssText="top:1px;float:left;opacity:.5";da={getSetAttribute:"t"!==N.className,leadingWhitespace:3===N.firstChild.nodeType,tbody:!N.getElementsByTagName("tbody").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/top/.test(R.getAttribute("style")),hrefNormalized:"/a"===R.getAttribute("href"),opacity:/^0.5/.test(R.style.opacity),cssFloat:!!R.style.cssFloat,checkOn:!!na.value,optSelected:Ha.selected,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,
boxModel:"CSS1Compat"===A.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};na.checked=!0;da.noCloneChecked=na.cloneNode(!0).checked;oa.disabled=!0;da.optDisabled=!Ha.disabled;try{delete N.test}catch(jb){da.deleteExpando=!1}na=A.createElement("input");na.setAttribute("value","");da.input=""===na.getAttribute("value");na.value="t";na.setAttribute("type","radio");da.radioValue="t"===na.value;na.setAttribute("checked",
"t");na.setAttribute("name","t");ua=A.createDocumentFragment();ua.appendChild(na);da.appendChecked=na.checked;da.checkClone=ua.cloneNode(!0).cloneNode(!0).lastChild.checked;N.attachEvent&&(N.attachEvent("onclick",function(){da.noCloneEvent=!1}),N.cloneNode(!0).click());for(qa in{submit:!0,change:!0,focusin:!0})N.setAttribute(la="on"+qa,"t"),da[qa+"Bubbles"]=la in a||!1===N.attributes[la].expando;ib=(N.style.backgroundClip="content-box",N.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===
N.style.backgroundClip,e(function(){var j,b,e,c=A.getElementsByTagName("body")[0];c&&(j=A.createElement("div"),j.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(j).appendChild(N),N.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=N.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",Ma=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",da.reliableHiddenOffsets=Ma&&0===e[0].offsetHeight,
N.innerHTML="",N.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",da.boxSizing=4===N.offsetWidth,da.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(da.pixelPosition="1%"!==(a.getComputedStyle(N,null)||{}).top,da.boxSizingReliable="4px"===(a.getComputedStyle(N,null)||{width:"4px"}).width,b=N.appendChild(A.createElement("div")),b.style.cssText=N.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",b.style.marginRight=b.style.width="0",N.style.width="1px",da.reliableMarginRight=!parseFloat((a.getComputedStyle(b,null)||{}).marginRight)),typeof N.style.zoom!==L&&(N.innerHTML="",N.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",da.inlineBlockNeedsLayout=
3===N.offsetWidth,N.style.display="block",N.innerHTML="<div></div>",N.firstChild.style.width="5px",da.shrinkWrapBlocks=3!==N.offsetWidth,da.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(j),N=null)}),ia=oa=ua=Ha=R=na=null,da)}cc.support=ib;var Ga=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,wa=/([A-Z])/g;e.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(j){return j=j.nodeType?e.cache[j[e.expando]]:
j[e.expando],!!j&&!u(j)},data:function(j,a,b){return d(j,a,b)},removeData:function(j,a){return f(j,a)},_data:function(j,a,b){return d(j,a,b,!0)},_removeData:function(j,a){return f(j,a,!0)},acceptData:function(j){if(j.nodeType&&1!==j.nodeType&&9!==j.nodeType)return!1;var a=j.nodeName&&e.noData[j.nodeName.toLowerCase()];return!a||!0!==a&&j.getAttribute("classid")===a}});e.fn.extend({data:function(j,a){var c,t,h=this[0],d=0,g=null;if(j===b){if(this.length&&(g=e.data(h),1===h.nodeType&&!e._data(h,"parsedAttrs"))){for(c=
h.attributes;c.length>d;d++)t=c[d].name,t.indexOf("data-")||(t=e.camelCase(t.slice(5)),q(h,t,g[t]));e._data(h,"parsedAttrs",!0)}return g}return"object"==typeof j?this.each(function(){e.data(this,j)}):e.access(this,function(a){return a===b?h?q(h,j,e.data(h,j)):null:(this.each(function(){e.data(this,j,a)}),b)},null,a,1<arguments.length,null,!0)},removeData:function(j){return this.each(function(){e.removeData(this,j)})}});e.extend({queue:function(j,a,c){var t;return j?(a=(a||"fx")+"queue",t=e._data(j,
a),c&&(!t||e.isArray(c)?t=e._data(j,a,e.makeArray(c)):t.push(c)),t||[]):b},dequeue:function(j,a){a=a||"fx";var b=e.queue(j,a),c=b.length,h=b.shift(),d=e._queueHooks(j,a),g=function(){e.dequeue(j,a)};"inprogress"===h&&(h=b.shift(),c--);(d.cur=h)&&("fx"===a&&b.unshift("inprogress"),delete d.stop,h.call(j,g,d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return e._data(a,c)||e._data(a,c,{empty:e.Callbacks("once memory").add(function(){e._removeData(a,b+"queue");e._removeData(a,
c)})})}});e.fn.extend({queue:function(a,C){var c=2;return"string"!=typeof a&&(C=a,a="fx",c--),c>arguments.length?e.queue(this[0],a):C===b?this:this.each(function(){var b=e.queue(this,a,C);e._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&e.dequeue(this,a)})},dequeue:function(a){return this.each(function(){e.dequeue(this,a)})},delay:function(a,b){return a=e.fx?e.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,e){var C=setTimeout(b,a);e.stop=function(){clearTimeout(C)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,C){var c,h=1,d=e.Deferred(),g=this,f=this.length,p=function(){--h||d.resolveWith(g,[g])};"string"!=typeof a&&(C=a,a=b);for(a=a||"fx";f--;)(c=e._data(g[f],a+"queueHooks"))&&c.empty&&(h++,c.empty.add(p));return p(),d.promise(C)}});var xa,va,h=/[\t\r\n]/g,p=/\r/g,B=/^(?:input|select|textarea|button|object)$/i,ra=/^(?:a|area)$/i,Ta=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,pb=/^(?:checked|selected)$/i,
Ea=e.support.getSetAttribute,qb=e.support.input;e.fn.extend({attr:function(a,b){return e.access(this,e.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){e.removeAttr(this,a)})},prop:function(a,b){return e.access(this,e.prop,a,b,1<arguments.length)},removeProp:function(a){return a=e.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(e){}})},addClass:function(a){var b,c,t,d,g,f=0,p=this.length;b="string"==typeof a&&a;if(e.isFunction(a))return this.each(function(b){e(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(Ba)||[];p>f;f++)if(c=this[f],t=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(h," "):" ")){for(g=0;d=b[g++];)0>t.indexOf(" "+d+" ")&&(t+=d+" ");c.className=e.trim(t)}return this},removeClass:function(a){var b,c,t,d,g,f=0,p=this.length;b=0===arguments.length||"string"==typeof a&&a;if(e.isFunction(a))return this.each(function(b){e(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Ba)||[];p>f;f++)if(c=this[f],t=1===c.nodeType&&
(c.className?(" "+c.className+" ").replace(h," "):"")){for(g=0;d=b[g++];)for(;0<=t.indexOf(" "+d+" ");)t=t.replace(" "+d+" "," ");c.className=a?e.trim(t):""}return this},toggleClass:function(a,b){var c=typeof a,h="boolean"==typeof b;return e.isFunction(a)?this.each(function(c){e(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var d,g=0,f=e(this),p=b,n=a.match(Ba)||[];d=n[g++];)p=h?p:!f.hasClass(d),f[p?"addClass":"removeClass"](d);else(c===L||"boolean"===
c)&&(this.className&&e._data(this,"__className__",this.className),this.className=this.className||!1===a?"":e._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;e>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(h," ").indexOf(a))return!0;return!1},val:function(a){var c,y,h,d=this[0];if(arguments.length)return h=e.isFunction(a),this.each(function(c){var C,d=e(this);1===this.nodeType&&(C=h?a.call(this,c,d.val()):a,null==C?C="":"number"==
typeof C?C+="":e.isArray(C)&&(C=e.map(C,function(a){return null==a?"":a+""})),y=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],y&&"set"in y&&y.set(this,C,"value")!==b||(this.value=C))});if(d)return y=e.valHooks[d.type]||e.valHooks[d.nodeName.toLowerCase()],y&&"get"in y&&(c=y.get(d,"value"))!==b?c:(c=d.value,"string"==typeof c?c.replace(p,""):null==c?"":c)}});e.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,
c=a.options,h=a.selectedIndex,d="select-one"===a.type||0>h,g=d?null:[],f=d?h+1:c.length,p=0>h?f:d?h:0;f>p;p++)if(b=c[p],!(!b.selected&&p!==h||(e.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&e.nodeName(b.parentNode,"optgroup"))){if(a=e(b).val(),d)return a;g.push(a)}return g},set:function(a,b){var c=e.makeArray(b);return e(a).find("option").each(function(){this.selected=0<=e.inArray(e(this).val(),c)}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,c,
y){var h,d,g,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?e.prop(a,c,y):(d=1!==f||!e.isXMLDoc(a),d&&(c=c.toLowerCase(),h=e.attrHooks[c]||(Ta.test(c)?va:xa)),y===b?h&&d&&"get"in h&&null!==(g=h.get(a,c))?g:(typeof a.getAttribute!==L&&(g=a.getAttribute(c)),null==g?b:g):null!==y?h&&d&&"set"in h&&(g=h.set(a,y,c))!==b?g:(a.setAttribute(c,y+""),y):(e.removeAttr(a,c),b))},removeAttr:function(a,b){var c,h,d=0,g=b&&b.match(Ba);if(g&&1===a.nodeType)for(;c=g[d++];)h=e.propFix[c]||c,
Ta.test(c)?!Ea&&pb.test(c)?a[e.camelCase("default-"+c)]=a[h]=!1:a[h]=!1:e.attr(a,c,""),a.removeAttribute(Ea?c:h)},attrHooks:{type:{set:function(a,b){if(!e.support.radioValue&&"radio"===b&&e.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(a,c,h){var t,d,g,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return g=1!==f||!e.isXMLDoc(a),g&&(c=e.propFix[c]||c,d=e.propHooks[c]),h!==b?d&&"set"in d&&(t=d.set(a,h,c))!==b?t:a[c]=h:d&&"get"in d&&null!==(t=d.get(a,c))?t:a[c]},propHooks:{tabIndex:{get:function(a){var e=a.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):B.test(a.nodeName)||ra.test(a.nodeName)&&a.href?0:b}}}});va={get:function(a,c){var h=e.prop(a,c),t="boolean"==typeof h&&
a.getAttribute(c);return(h="boolean"==typeof h?qb&&Ea?null!=t:pb.test(c)?a[e.camelCase("default-"+c)]:!!t:a.getAttributeNode(c))&&!1!==h.value?c.toLowerCase():b},set:function(a,b,c){return!1===b?e.removeAttr(a,c):qb&&Ea||!pb.test(c)?a.setAttribute(!Ea&&e.propFix[c]||c,c):a[e.camelCase("default-"+c)]=a[c]=!0,c}};qb&&Ea||(e.attrHooks.value={get:function(a,c){var h=a.getAttributeNode(c);return e.nodeName(a,"input")?a.defaultValue:h&&h.specified?h.value:b},set:function(a,c,h){return e.nodeName(a,"input")?
(a.defaultValue=c,b):xa&&xa.set(a,c,h)}});Ea||(xa=e.valHooks.button={get:function(a,e){var c=a.getAttributeNode(e);return c&&("id"===e||"name"===e||"coords"===e?""!==c.value:c.specified)?c.value:b},set:function(a,e,c){var h=a.getAttributeNode(c);return h||a.setAttributeNode(h=a.ownerDocument.createAttribute(c)),h.value=e+="","value"===c||e===a.getAttribute(c)?e:b}},e.attrHooks.contenteditable={get:xa.get,set:function(a,b,e){xa.set(a,""===b?!1:b,e)}},e.each(["width","height"],function(a,c){e.attrHooks[c]=
e.extend(e.attrHooks[c],{set:function(a,j){return""===j?(a.setAttribute(c,"auto"),j):b}})}));e.support.hrefNormalized||(e.each(["href","src","width","height"],function(a,c){e.attrHooks[c]=e.extend(e.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null==a?b:a}})}),e.each(["href","src"],function(a,b){e.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));e.support.style||(e.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}});
e.support.optSelected||(e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}}));e.support.enctype||(e.propFix.enctype="encoding");e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(a,c){return e.isArray(c)?
a.checked=0<=e.inArray(e(a).val(),c):b}})});var rb=/^(?:input|select|textarea)$/i,Na=/^key/,Rb=/^(?:mouse|contextmenu)|click/,Ib=/^(?:focusinfocus|focusoutblur)$/,Jb=/^([^.]*)(?:\.(.+)|)$/;e.event={global:{},add:function(a,c,h,t,d){var g,f,p,n,r,B,k,v,x;if(p=e._data(a)){h.handler&&(n=h,h=n.handler,d=n.selector);h.guid||(h.guid=e.guid++);(f=p.events)||(f=p.events={});(r=p.handle)||(r=p.handle=function(a){return typeof e===L||a&&e.event.triggered===a.type?b:e.event.dispatch.apply(r.elem,arguments)},
r.elem=a);c=(c||"").match(Ba)||[""];for(p=c.length;p--;)g=Jb.exec(c[p])||[],v=B=g[1],x=(g[2]||"").split(".").sort(),g=e.event.special[v]||{},v=(d?g.delegateType:g.bindType)||v,g=e.event.special[v]||{},B=e.extend({type:v,origType:B,data:t,handler:h,guid:h.guid,selector:d,needsContext:d&&e.expr.match.needsContext.test(d),namespace:x.join(".")},n),(k=f[v])||(k=f[v]=[],k.delegateCount=0,g.setup&&!1!==g.setup.call(a,t,x,r)||(a.addEventListener?a.addEventListener(v,r,!1):a.attachEvent&&a.attachEvent("on"+
v,r))),g.add&&(g.add.call(a,B),B.handler.guid||(B.handler.guid=h.guid)),d?k.splice(k.delegateCount++,0,B):k.push(B),e.event.global[v]=!0;a=null}},remove:function(a,b,c,h,d){var g,f,p,n,r,B,k,v,x,L,m,l=e.hasData(a)&&e._data(a);if(l&&(B=l.events)){b=(b||"").match(Ba)||[""];for(r=b.length;r--;)if(p=Jb.exec(b[r])||[],x=m=p[1],L=(p[2]||"").split(".").sort(),x){k=e.event.special[x]||{};x=(h?k.delegateType:k.bindType)||x;v=B[x]||[];p=p[2]&&RegExp("(^|\\.)"+L.join("\\.(?:.*\\.|)")+"(\\.|$)");for(n=g=v.length;g--;)f=
v[g],!d&&m!==f.origType||c&&c.guid!==f.guid||p&&!p.test(f.namespace)||h&&h!==f.selector&&("**"!==h||!f.selector)||(v.splice(g,1),f.selector&&v.delegateCount--,k.remove&&k.remove.call(a,f));n&&!v.length&&(k.teardown&&!1!==k.teardown.call(a,L,l.handle)||e.removeEvent(a,x,l.handle),delete B[x])}else for(x in B)e.event.remove(a,x+b[r],c,h,!0);e.isEmptyObject(B)&&(delete l.handle,e._removeData(a,"events"))}},trigger:function(j,c,h,t){var d,g,f,p,n,r,B=[h||A],k=K.call(j,"type")?j.type:j;r=K.call(j,"namespace")?
j.namespace.split("."):[];if(f=d=h=h||A,3!==h.nodeType&&8!==h.nodeType&&!Ib.test(k+e.event.triggered)&&(0<=k.indexOf(".")&&(r=k.split("."),k=r.shift(),r.sort()),g=0>k.indexOf(":")&&"on"+k,j=j[e.expando]?j:new e.Event(k,"object"==typeof j&&j),j.isTrigger=!0,j.namespace=r.join("."),j.namespace_re=j.namespace?RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=b,j.target||(j.target=h),c=null==c?[j]:e.makeArray(c,[j]),n=e.event.special[k]||{},t||!n.trigger||!1!==n.trigger.apply(h,c))){if(!t&&
!n.noBubble&&!e.isWindow(h)){p=n.delegateType||k;for(Ib.test(p+k)||(f=f.parentNode);f;f=f.parentNode)B.push(f),d=f;d===(h.ownerDocument||A)&&B.push(d.defaultView||d.parentWindow||a)}for(r=0;(f=B[r++])&&!j.isPropagationStopped();)j.type=1<r?p:n.bindType||k,(d=(e._data(f,"events")||{})[j.type]&&e._data(f,"handle"))&&d.apply(f,c),(d=g&&f[g])&&e.acceptData(f)&&d.apply&&!1===d.apply(f,c)&&j.preventDefault();if(j.type=k,!(t||j.isDefaultPrevented()||n._default&&!1!==n._default.apply(h.ownerDocument,c)||
"click"===k&&e.nodeName(h,"a")||!e.acceptData(h)||!g||!h[k]||e.isWindow(h))){(d=h[g])&&(h[g]=null);e.event.triggered=k;try{h[k]()}catch(v){}e.event.triggered=b;d&&(h[g]=d)}return j.result}},dispatch:function(a){a=e.event.fix(a);var c,h,t,d,g,f=[],p=ka.call(arguments);c=(e._data(this,"events")||{})[a.type]||[];var n=e.event.special[a.type]||{};if(p[0]=a,a.delegateTarget=this,!n.preDispatch||!1!==n.preDispatch.call(this,a)){f=e.event.handlers.call(this,a,c);for(c=0;(d=f[c++])&&!a.isPropagationStopped();){a.currentTarget=
d.elem;for(g=0;(t=d.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(t.namespace))&&(a.handleObj=t,a.data=t.data,h=((e.event.special[t.origType]||{}).handle||t.handler).apply(d.elem,p),h!==b&&!1===(a.result=h)&&(a.preventDefault(),a.stopPropagation()))}return n.postDispatch&&n.postDispatch.call(this,a),a.result}},handlers:function(a,c){var h,t,d,g,f=[],p=c.delegateCount,n=a.target;if(p&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!=this;n=n.parentNode||
this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){d=[];for(g=0;p>g;g++)t=c[g],h=t.selector+" ",d[h]===b&&(d[h]=t.needsContext?0<=e(h,this).index(n):e.find(h,this,null,[n]).length),d[h]&&d.push(t);d.length&&f.push({elem:n,handlers:d})}return c.length>p&&f.push({elem:this,handlers:c.slice(p)}),f},fix:function(a){if(a[e.expando])return a;var b,c,h;b=a.type;var d=a,g=this.fixHooks[b];g||(this.fixHooks[b]=g=Rb.test(b)?this.mouseHooks:Na.test(b)?this.keyHooks:{});h=g.props?this.props.concat(g.props):
this.props;a=new e.Event(d);for(b=h.length;b--;)c=h[b],a[c]=d[c];return a.target||(a.target=d.srcElement||A),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),
a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var e,h,d,g=c.button,f=c.fromElement;return null==a.pageX&&null!=c.clientX&&(h=a.target.ownerDocument||A,d=h.documentElement,e=h.body,a.pageX=c.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&f&&(a.relatedTarget=
f===a.target?c.toElement:f),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return e.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==A.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===A.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==
b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,h){a=e.extend(new e.Event,c,{type:a,isSimulated:!0,originalEvent:{}});h?e.event.trigger(a,null,b):e.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};e.removeEvent=A.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===L&&(a[b]=null),a.detachEvent(b,c))};e.Event=function(a,c){return this instanceof e.Event?(a&&a.type?(this.originalEvent=
a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?l:s):this.type=a,c&&e.extend(this,c),this.timeStamp=a&&a.timeStamp||e.now(),this[e.expando]=!0,b):new e.Event(a,c)};e.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=
this.originalEvent;this.isPropagationStopped=l;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()}};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){e.event.special[a]={delegateType:b,bindType:b,handle:function(a){var j,c=a.relatedTarget,h=a.handleObj;return(!c||c!==this&&!e.contains(this,c))&&(a.type=h.origType,j=h.handler.apply(this,arguments),a.type=b),j}}});e.support.submitBubbles||
(e.event.special.submit={setup:function(){return e.nodeName(this,"form")?!1:(e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:b)&&!e._data(a,"submitBubbles")&&(e.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),e._data(a,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&e.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return e.nodeName(this,
"form")?!1:(e.event.remove(this,"._submit"),b)}});e.support.changeBubbles||(e.event.special.change={setup:function(){return rb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(e.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),e.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,a,!0)})),!1):(e.event.add(this,"beforeactivate._change",
function(a){a=a.target;rb.test(a.nodeName)&&!e._data(a,"changeBubbles")&&(e.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||e.event.simulate("change",this.parentNode,a,!0)}),e._data(a,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return e.event.remove(this,"._change"),!rb.test(this.nodeName)}});e.support.focusinBubbles||
e.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,h=function(a){e.event.simulate(b,a.target,e.event.fix(a),!0)};e.event.special[b]={setup:function(){0===c++&&A.addEventListener(a,h,!0)},teardown:function(){0===--c&&A.removeEventListener(a,h,!0)}}});e.fn.extend({on:function(a,c,h,t,d){var g,f;if("object"==typeof a){"string"!=typeof c&&(h=h||c,c=b);for(g in a)this.on(g,c,h,a[g],d);return this}if(null==h&&null==t?(t=c,h=c=b):null==t&&("string"==typeof c?(t=h,h=b):(t=h,h=c,c=b)),!1===t)t=
s;else if(!t)return this;return 1===d&&(f=t,t=function(a){return e().off(a),f.apply(this,arguments)},t.guid=f.guid||(f.guid=e.guid++)),this.each(function(){e.event.add(this,a,t,h,c)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,c,h){var d,g;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,e(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(!1===c||"function"==
typeof c)&&(h=c,c=b),!1===h&&(h=s),this.each(function(){e.event.remove(this,a,h,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){e.event.trigger(a,b,this)})},triggerHandler:function(a,c){var h=this[0];return h?e.event.trigger(a,c,h,!0):b}});var sb=a,
kb=function(){var a,b=[];return a=function(c,e){return b.push(c+=" ")>ba.cacheLength&&delete a[b.shift()],a[c]=e}},ya=function(a){return a[ma]=!0,a},Aa=function(a){var b=za.createElement("div");try{return a(b)}catch(c){return!1}finally{}},aa=function(a,b,c,e){var h,d,g,f,p;if((b?b.ownerDocument||b:lb)!==za&&tb(b),b=b||za,c=c||[],!a||"string"!=typeof a)return c;if(1!==(f=b.nodeType)&&9!==f)return[];if(!Ka&&!e){if(h=Yc.exec(a))if(g=h[1])if(9===f){if(d=b.getElementById(g),!d||!d.parentNode)return c;
if(d.id===g)return c.push(d),c}else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(g))&&Kb(b,d)&&d.id===g)return c.push(d),c}else{if(h[2])return ub.apply(c,vb.call(b.getElementsByTagName(a),0)),c;if((g=h[3])&&pa.getByClassName&&b.getElementsByClassName)return ub.apply(c,vb.call(b.getElementsByClassName(g),0)),c}if(pa.qsa&&!Oa.test(a)){if(h=!0,d=ma,g=b,p=9===f&&a,1===f&&"object"!==b.nodeName.toLowerCase()){f=Ua(a);(h=b.getAttribute("id"))?d=h.replace(Zc,"\\$&"):b.setAttribute("id",d);d="[id='"+
d+"'] ";for(g=f.length;g--;)f[g]=d+wb(f[g]);g=dc.test(a)&&b.parentNode||b;p=f.join(",")}if(p)try{return ub.apply(c,vb.call(g.querySelectorAll(p),0)),c}catch(n){}finally{h||b.removeAttribute("id")}}}var r;a:{a=a.replace(Sb,"$1");var k,B;d=Ua(a);if(!e&&1===d.length){if(r=d[0]=d[0].slice(0),2<r.length&&"ID"===(k=r[0]).type&&9===b.nodeType&&!Ka&&ba.relative[r[1].type]){if(b=ba.find.ID(k.matches[0].replace($a,ab),b)[0],!b){r=c;break a}a=a.slice(r.shift().value.length)}for(f=Tb.needsContext.test(a)?0:r.length;f--&&
!(k=r[f],ba.relative[h=k.type]);)if((B=ba.find[h])&&(e=B(k.matches[0].replace($a,ab),dc.test(r[0].type)&&b.parentNode||b))){if(r.splice(f,1),a=e.length&&wb(r),!a){r=(ub.apply(c,vb.call(e,0)),c);break a}break}}r=(ec(a,d)(e,b,Ka,c,dc.test(a)),c)}return r},xb=function(a,b){var c=b&&a,e=c&&(~b.sourceIndex||vc)-(~a.sourceIndex||vc);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},yb=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Va=function(a){return function(b){var c=
b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},La=function(a){return ya(function(b){return b=+b,ya(function(c,e){for(var h,d=a([],c.length,b),g=d.length;g--;)c[h=d[g]]&&(c[h]=!(e[h]=c[h]))})})},Ua=function(a,b){var c,e,h,d,g,f,p;if(g=wc[a+" "])return b?0:g.slice(0);g=a;f=[];for(p=ba.preFilter;g;){(!c||(e=$c.exec(g)))&&(e&&(g=g.slice(e[0].length)||g),f.push(h=[]));c=!1;(e=ad.exec(g))&&(c=e.shift(),h.push({value:c,type:e[0].replace(Sb," ")}),g=g.slice(c.length));for(d in ba.filter)!(e=
Tb[d].exec(g))||p[d]&&!(e=p[d](e))||(c=e.shift(),h.push({value:c,type:d,matches:e}),g=g.slice(c.length));if(!c)break}return b?g.length:g?aa.error(a):wc(a,f).slice(0)},wb=function(a){for(var b=0,c=a.length,e="";c>b;b++)e+=a[b].value;return e},zb=function(a,b,c){var e=b.dir,h=c&&"parentNode"===e,d=bd++;return b.first?function(b,c,d){for(;b=b[e];)if(1===b.nodeType||h)return a(b,c,d)}:function(b,c,g){var f,C,y,p=Pa+" "+d;if(g)for(;b=b[e];){if((1===b.nodeType||h)&&a(b,c,g))return!0}else for(;b=b[e];)if(1===
b.nodeType||h)if(y=b[ma]||(b[ma]={}),(C=y[e])&&C[0]===p){if(!0===(f=C[1])||f===Ub)return!0===f}else if(C=y[e]=[p],C[1]=a(b,c,g)||Ub,!0===C[1])return!0}},Vb=function(a){return 1<a.length?function(b,c,e){for(var h=a.length;h--;)if(!a[h](b,c,e))return!1;return!0}:a[0]},Lb=function(a,b,c,e,h){for(var d,g=[],f=0,p=a.length,n=null!=b;p>f;f++)(d=a[f])&&(!c||c(d,e,h))&&(g.push(d),n&&b.push(f));return g},bb=function(a,b,c,e,h,d){return e&&!e[ma]&&(e=bb(e)),h&&!h[ma]&&(h=bb(h,d)),ya(function(d,g,f,p){var n,
r,k=[],B=[],v=g.length,x;if(!(x=d)){x=b||"*";for(var L=f.nodeType?[f]:f,rc=[],m=0,l=L.length;l>m;m++)aa(x,L[m],rc);x=rc}x=!a||!d&&b?x:Lb(x,k,a,f,p);L=c?h||(d?a:v||e)?[]:g:x;if(c&&c(x,L,f,p),e){n=Lb(L,B);e(n,[],f,p);for(f=n.length;f--;)(r=n[f])&&(L[B[f]]=!(x[B[f]]=r))}if(d){if(h||a){if(h){n=[];for(f=L.length;f--;)(r=L[f])&&n.push(x[f]=r);h(null,L=[],n,p)}for(f=L.length;f--;)(r=L[f])&&-1<(n=h?fc.call(d,r):k[f])&&(d[n]=!(g[n]=r))}}else L=Lb(L===g?L.splice(v,L.length):L),h?h(null,g,L,p):ub.apply(g,L)})},
gc=function(a){var b,c,e,h=a.length,d=ba.relative[a[0].type];c=d||ba.relative[" "];for(var g=d?1:0,f=zb(function(a){return a===b},c,!0),p=zb(function(a){return-1<fc.call(b,a)},c,!0),n=[function(a,j,c){return!d&&(c||j!==Wb)||((b=j).nodeType?f(a,j,c):p(a,j,c))}];h>g;g++)if(c=ba.relative[a[g].type])n=[zb(Vb(n),c)];else{if(c=ba.filter[a[g].type].apply(null,a[g].matches),c[ma]){for(e=++g;h>e&&!ba.relative[a[e].type];e++);return bb(1<g&&Vb(n),1<g&&wb(a.slice(0,g-1)).replace(Sb,"$1"),c,e>g&&gc(a.slice(g,
e)),h>e&&gc(a=a.slice(e)),h>e&&wb(a))}n.push(c)}return Vb(n)},xc=function(){},Ab,Ub,ba,Xb,yc,ec,Bb,Wb,tb,za,Fa,Ka,Oa,Cb,Yb,Kb,hc,ma="sizzle"+-new Date,lb=sb.document,pa={},Pa=0,bd=0,zc=kb(),wc=kb(),Ac=kb(),vc=-2147483648,Zb=[],cd=Zb.pop,ub=Zb.push,vb=Zb.slice,fc=Zb.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},Bc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Cc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
Bc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ic=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Cc.replace(3,8)+")*)|.*)\\)|)",Sb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,$c=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ad=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,dd=RegExp(ic),ed=RegExp("^"+Bc+"$"),Tb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+
"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Cc),PSEUDO:RegExp("^"+ic),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},dc=/[\x20\t\r\n\f]*[+~]/,jc=
/^[^{]+\{\s*\[native code/,Yc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fd=/^(?:input|select|textarea|button)$/i,gd=/^h\d$/i,Zc=/'|\\/g,hd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,$a=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ab=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{vb.call(lb.documentElement.childNodes,0)[0].nodeType}catch(Hd){vb=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}yc=aa.isXML=function(a){return(a=
a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};tb=aa.setDocument=function(a){var b=a?a.ownerDocument||a:lb;if(b!==za&&9===b.nodeType&&b.documentElement){za=b;Fa=b.documentElement;Ka=yc(b);pa.tagNameNoComments=Aa(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length});pa.attributes=Aa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});pa.getByClassName=Aa(function(a){return a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1});pa.getByName=Aa(function(a){a.id=ma+0;a.innerHTML="<a name='"+ma+"'></a><div name='"+ma+"'></div>";Fa.insertBefore(a,Fa.firstChild);var j=b.getElementsByName&&b.getElementsByName(ma).length===2+b.getElementsByName(ma+0).length;return pa.getIdNotName=!b.getElementById(ma),Fa.removeChild(a),j});ba.attrHandle=
Aa(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};pa.getIdNotName?(ba.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&!Ka){var j=b.getElementById(a);return j&&j.parentNode?[j]:[]}},ba.filter.ID=function(a){var b=a.replace($a,ab);return function(a){return a.getAttribute("id")===
b}}):(ba.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&!Ka){var j=b.getElementById(a);return j?j.id===a||"undefined"!==typeof j.getAttributeNode&&j.getAttributeNode("id").value===a?[j]:void 0:[]}},ba.filter.ID=function(a){var b=a.replace($a,ab);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});ba.find.TAG=pa.tagNameNoComments?function(a,b){return"undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(a):void 0}:
function(a,b){var j,c=[],e=0,h=b.getElementsByTagName(a);if("*"===a){for(;j=h[e++];)1===j.nodeType&&c.push(j);return c}return h};ba.find.NAME=pa.getByName&&function(a,b){return"undefined"!==typeof b.getElementsByName?b.getElementsByName(name):void 0};ba.find.CLASS=pa.getByClassName&&function(a,b){return"undefined"===typeof b.getElementsByClassName||Ka?void 0:b.getElementsByClassName(a)};Cb=[];Oa=[":focus"];(pa.qsa=jc.test(b.querySelectorAll+""))&&(Aa(function(a){a.innerHTML="<select><option selected=''></option></select>";
a.querySelectorAll("[selected]").length||Oa.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||Oa.push(":checked")}),Aa(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&Oa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||Oa.push(":enabled",":disabled");a.querySelectorAll("*,:x");Oa.push(",.*:")}));a=pa;var c;c=Yb=Fa.matchesSelector||Fa.mozMatchesSelector||
Fa.webkitMatchesSelector||Fa.oMatchesSelector||Fa.msMatchesSelector;c=jc.test(c+"");a=((a.matchesSelector=c)&&Aa(function(a){pa.disconnectedMatch=Yb.call(a,"div");Yb.call(a,"[s!='']:x");Cb.push("!=",ic)}),Oa=RegExp(Oa.join("|")),Cb=RegExp(Cb.join("|")),Kb=jc.test(Fa.contains+"")||Fa.compareDocumentPosition?function(a,b){var j=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(j.contains?j.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:
function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},hc=Fa.compareDocumentPosition?function(a,j){var c;return a===j?(Bb=!0,0):(c=j.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(j))?1&c||a.parentNode&&11===a.parentNode.nodeType?a===b||Kb(lb,a)?-1:j===b||Kb(lb,j)?1:0:4&c?-1:1:a.compareDocumentPosition?-1:1}:function(a,j){var c,e=0;c=a.parentNode;var h=j.parentNode,d=[a],g=[j];if(a===j)return Bb=!0,0;if(!c||!h)return a===b?-1:j===b?1:c?-1:h?1:0;if(c===h)return xb(a,
j);for(c=a;c=c.parentNode;)d.unshift(c);for(c=j;c=c.parentNode;)g.unshift(c);for(;d[e]===g[e];)e++;return e?xb(d[e],g[e]):d[e]===lb?-1:g[e]===lb?1:0},Bb=!1,[0,0].sort(hc),pa.detectDuplicates=Bb,za)}else a=za;return a};aa.matches=function(a,b){return aa(a,null,null,b)};aa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==za&&tb(a),b=b.replace(hd,"='$1']"),!(!pa.matchesSelector||Ka||Cb&&Cb.test(b)||Oa.test(b)))try{var c=Yb.call(a,b);if(c||pa.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(e){}return 0<
aa(b,za,null,[a]).length};aa.contains=function(a,b){return(a.ownerDocument||a)!==za&&tb(a),Kb(a,b)};aa.attr=function(a,b){var c;return(a.ownerDocument||a)!==za&&tb(a),Ka||(b=b.toLowerCase()),(c=ba.attrHandle[b])?c(a):Ka||pa.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:c&&c.specified?c.value:null};aa.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};aa.uniqueSort=function(a){var b,c=[],e=1,h=0;if(Bb=!pa.detectDuplicates,a.sort(hc),
Bb){for(;b=a[e];e++)b===a[e-1]&&(h=c.push(e));for(;h--;)a.splice(c[h],1)}return a};Xb=aa.getText=function(a){var b,c="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Xb(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e];e++)c+=Xb(b);return c};ba=aa.selectors={cacheLength:50,createPseudo:ya,match:Tb,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace($a,ab),a[3]=(a[4]||a[5]||"").replace($a,ab),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||aa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&aa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return Tb.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&dd.test(c)&&(b=Ua(c,
!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace($a,ab).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=zc[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&zc(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,
c){return function(e){e=aa.attr(e,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.slice(-c.length)===c:"~="===b?-1<(" "+e+" ").indexOf(c):"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,e,h){var d="nth"!==a.slice(0,3),g="last"!==a.slice(-4),f="of-type"===b;return 1===e&&0===h?function(a){return!!a.parentNode}:function(b,c,p){var C,n,y,r,k;c=d!==g?"nextSibling":"previousSibling";var B=
b.parentNode,v=f&&b.nodeName.toLowerCase();p=!p&&!f;if(B){if(d){for(;c;){for(n=b;n=n[c];)if(f?n.nodeName.toLowerCase()===v:1===n.nodeType)return!1;k=c="only"===a&&!k&&"nextSibling"}return!0}if(k=[g?B.firstChild:B.lastChild],g&&p){p=B[ma]||(B[ma]={});C=p[a]||[];r=C[0]===Pa&&C[1];y=C[0]===Pa&&C[2];for(n=r&&B.childNodes[r];n=++r&&n&&n[c]||(y=r=0)||k.pop();)if(1===n.nodeType&&++y&&n===b){p[a]=[Pa,r,y];break}}else if(p&&(C=(b[ma]||(b[ma]={}))[a])&&C[0]===Pa)y=C[1];else for(;(n=++r&&n&&n[c]||(y=r=0)||k.pop())&&
(!(f?n.nodeName.toLowerCase()===v:1===n.nodeType)||!++y||!(p&&((n[ma]||(n[ma]={}))[a]=[Pa,y]),n===b)););return y-=h,y===e||0===y%e&&0<=y/e}}},PSEUDO:function(a,b){var c,e=ba.pseudos[a]||ba.setFilters[a.toLowerCase()]||aa.error("unsupported pseudo: "+a);return e[ma]?e(b):1<e.length?(c=[a,a,"",b],ba.setFilters.hasOwnProperty(a.toLowerCase())?ya(function(a,c){for(var j,h=e(a,b),d=h.length;d--;)j=fc.call(a,h[d]),a[j]=!(c[j]=h[d])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ya(function(a){var b=[],
c=[],e=ec(a.replace(Sb,"$1"));return e[ma]?ya(function(a,b,c,j){var h;c=e(a,null,j,[]);for(j=a.length;j--;)(h=c[j])&&(a[j]=!(b[j]=h))}):function(a,j,h){return b[0]=a,e(b,null,h,c),!c.pop()}}),has:ya(function(a){return function(b){return 0<aa(a,b).length}}),contains:ya(function(a){return function(b){return-1<(b.textContent||b.innerText||Xb(b)).indexOf(a)}}),lang:ya(function(a){return ed.test(a||"")||aa.error("unsupported lang: "+a),a=a.replace($a,ab).toLowerCase(),function(b){var c;do if(c=Ka?b.getAttribute("xml:lang")||
b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=sb.location&&sb.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Fa},focus:function(a){return a===za.activeElement&&(!za.hasFocus||za.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!ba.pseudos.empty(a)},header:function(a){return gd.test(a.nodeName)},input:function(a){return fd.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===
b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:La(function(){return[0]}),last:La(function(a,b){return[b-1]}),eq:La(function(a,b,c){return[0>c?c+b:c]}),even:La(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:La(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:La(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:La(function(a,b,c){for(c=0>c?c+b:c;b>++c;)a.push(c);
return a})}};for(Ab in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ba.pseudos[Ab]=yb(Ab);for(Ab in{submit:!0,reset:!0})ba.pseudos[Ab]=Va(Ab);ec=aa.compile=function(a,b){var c,e=[],h=[],d=Ac[a+" "];if(!d){b||(b=Ua(a));for(c=b.length;c--;)d=gc(b[c]),d[ma]?e.push(d):h.push(d);var g=0,f=0<e.length,p=0<h.length;c=function(a,b,c,j,d){var n,r,C=[],y=0,k="0",B=a&&[],v=null!=d,x=Wb,L=a||p&&ba.find.TAG("*",d&&b.parentNode||b),m=Pa+=null==x?1:Math.random()||0.1;for(v&&(Wb=b!==za&&b,Ub=g);null!=(d=L[k]);k++){if(p&&
d){for(n=0;r=h[n++];)if(r(d,b,c)){j.push(d);break}v&&(Pa=m,Ub=++g)}f&&((d=!r&&d)&&y--,a&&B.push(d))}if(y+=k,f&&k!==y){for(n=0;r=e[n++];)r(B,C,b,c);if(a){if(0<y)for(;k--;)B[k]||C[k]||(C[k]=cd.call(j));C=Lb(C)}ub.apply(j,C);v&&!a&&0<C.length&&1<y+e.length&&aa.uniqueSort(j)}return v&&(Pa=m,Wb=x),B};c=f?ya(c):c;d=Ac(a,c)}return d};ba.pseudos.nth=ba.pseudos.eq;ba.filters=xc.prototype=ba.pseudos;ba.setFilters=new xc;tb();aa.attr=e.attr;e.find=aa;e.expr=aa.selectors;e.expr[":"]=e.expr.pseudos;e.unique=aa.uniqueSort;
e.text=aa.getText;e.isXMLDoc=aa.isXML;e.contains=aa.contains;var jd=/Until$/,kd=/^(?:parents|prev(?:Until|All))/,Tc=/^.[^:#\[\.,]*$/,Dc=e.expr.match.needsContext,ld={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(a){var b,c,h,d=this.length;if("string"!=typeof a)return h=this,this.pushStack(e(a).filter(function(){for(b=0;d>b;b++)if(e.contains(h[b],this))return!0}));c=[];for(b=0;d>b;b++)e.find(a,this[b],c);return c=this.pushStack(1<d?e.unique(c):c),c.selector=(this.selector?this.selector+
" ":"")+a,c},has:function(a){var b,c=e(a,this),h=c.length;return this.filter(function(){for(b=0;h>b;b++)if(e.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(U(this,a,!1))},filter:function(a){return this.pushStack(U(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Dc.test(a)?0<=e(a,this.context).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,h=0,d=this.length,g=[],f=Dc.test(a)||"string"!=typeof a?e(a,b||this.context):
0;d>h;h++)for(c=this[h];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(f?-1<f.index(c):e.find.matchesSelector(c,a)){g.push(c);break}c=c.parentNode}return this.pushStack(1<g.length?e.unique(g):g)},index:function(a){return a?"string"==typeof a?e.inArray(this[0],e(a)):e.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?e(a,b):e.makeArray(a&&a.nodeType?[a]:a),c=e.merge(this.get(),c);return this.pushStack(e.unique(c))},
addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.fn.andSelf=e.fn.addBack;e.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return e.dir(a,"parentNode")},parentsUntil:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return S(a,"nextSibling")},prev:function(a){return S(a,"previousSibling")},nextAll:function(a){return e.dir(a,"nextSibling")},prevAll:function(a){return e.dir(a,"previousSibling")},nextUntil:function(a,
b,c){return e.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return e.dir(a,"previousSibling",c)},siblings:function(a){return e.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return e.sibling(a.firstChild)},contents:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.merge([],a.childNodes)}},function(a,b){e.fn[a]=function(c,h){var d=e.map(this,b,c);return jd.test(a)||(h=c),h&&"string"==typeof h&&(d=e.filter(h,d)),d=1<this.length&&!ld[a]?e.unique(d):
d,1<this.length&&kd.test(a)&&(d=d.reverse()),this.pushStack(d)}});e.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,c,h){var d=[];for(a=a[c];a&&9!==a.nodeType&&(h===b||1!==a.nodeType||!e(a).is(h));)1===a.nodeType&&d.push(a),a=a[c];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var sc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
md=/ jQuery\d+="(?:null|\d+)"/g,Ec=RegExp("<(?:"+sc+")[\\s/>]","i"),kc=/^\s+/,Fc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gc=/<([\w:]+)/,Hc=/<tbody/i,nd=/<|&#?\w+;/,od=/<(?:script|style|link)/i,ac=/^(?:checkbox|radio)$/i,pd=/checked\s*(?:[^=]|=\s*.checked.)/i,Ic=/^$|\/(?:java|ecma)script/i,Uc=/^true\/(.*)/,qd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ia={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:e.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},lc=T(A).appendChild(A.createElement("div"));Ia.optgroup=Ia.option;Ia.tbody=Ia.tfoot=Ia.colgroup=Ia.caption=Ia.thead;Ia.th=Ia.td;e.fn.extend({text:function(a){return e.access(this,function(a){return a===b?e.text(this):
this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(e.isFunction(a))return this.each(function(b){e(this).wrapAll(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(b){e(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=e(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(c){e(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,h=0;null!=(c=this[h]);h++)(!a||0<e.filter(a,[c]).length)&&(b||1!==c.nodeType||e.cleanData(w(c)),c.parentNode&&
(b&&e.contains(c.ownerDocument,c)&&V(w(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&e.cleanData(w(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&e.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return e.clone(this,a,b)})},html:function(a){return e.access(this,function(a){var c=this[0]||{},j=0,h=this.length;if(a===b)return 1===
c.nodeType?c.innerHTML.replace(md,""):b;if(!("string"!=typeof a||od.test(a)||!e.support.htmlSerialize&&Ec.test(a)||!e.support.leadingWhitespace&&kc.test(a)||Ia[(Gc.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Fc,"<$1></$2>");try{for(;h>j;j++)c=this[j]||{},1===c.nodeType&&(e.cleanData(w(c,!1)),c.innerHTML=a);c=0}catch(d){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return e.isFunction(a)||"string"==typeof a||(a=e(a).not(this).detach()),this.domManip([a],!0,function(a){var b=
this.nextSibling,c=this.parentNode;c&&(e(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,h){a=ha.apply([],a);var d,g,f,p,n=0,r=this.length,k=this,B=r-1,v=a[0],x=e.isFunction(v);if(x||!(1>=r||"string"!=typeof v||e.support.checkClone)&&pd.test(v))return this.each(function(e){var d=k.eq(e);x&&(a[0]=v.call(this,e,c?d.html():b));d.domManip(a,c,h)});if(r&&(p=e.buildFragment(a,this[0].ownerDocument,!1,this),d=p.firstChild,1===p.childNodes.length&&
(p=d),d)){c=c&&e.nodeName(d,"tr");f=e.map(w(p,"script"),z);for(g=f.length;r>n;n++)d=p,n!==B&&(d=e.clone(d,!0,!0),g&&e.merge(f,w(d,"script"))),h.call(c&&e.nodeName(this[n],"table")?this[n].getElementsByTagName("tbody")[0]||this[n].appendChild(this[n].ownerDocument.createElement("tbody")):this[n],d,n);if(g){p=f[f.length-1].ownerDocument;e.map(f,F);for(n=0;g>n;n++)d=f[n],Ic.test(d.type||"")&&!e._data(d,"globalEval")&&e.contains(p,d)&&(d.src?e.ajax({url:d.src,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0}):e.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qd,"")))}p=d=null}return this}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(a){for(var c=0,h=[],j=e(a),d=j.length-1;d>=c;c++)a=c===d?this:this.clone(!0),e(j[c])[b](a),ta.apply(h,a.get());return this.pushStack(h)}});e.extend({clone:function(a,b,c){var h,d,g,f,p,n=e.contains(a.ownerDocument,a);if(e.support.html5Clone||e.isXMLDoc(a)||
!Ec.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(lc.innerHTML=a.outerHTML,lc.removeChild(g=lc.firstChild)),!(e.support.noCloneEvent&&e.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||e.isXMLDoc(a))){h=w(g);p=w(a);for(f=0;null!=(d=p[f]);++f)if(h[f]){var r=h[f],k=void 0,B=void 0,v=void 0;if(1===r.nodeType){if(k=r.nodeName.toLowerCase(),!e.support.noCloneEvent&&r[e.expando]){v=e._data(r);for(B in v.events)e.removeEvent(r,B,v.handle);r.removeAttribute(e.expando)}"script"===k&&r.text!==d.text?
(z(r).text=d.text,F(r)):"object"===k?(r.parentNode&&(r.outerHTML=d.outerHTML),e.support.html5Clone&&d.innerHTML&&!e.trim(r.innerHTML)&&(r.innerHTML=d.innerHTML)):"input"===k&&ac.test(d.type)?(r.defaultChecked=r.checked=d.checked,r.value!==d.value&&(r.value=d.value)):"option"===k?r.defaultSelected=r.selected=d.defaultSelected:("input"===k||"textarea"===k)&&(r.defaultValue=d.defaultValue)}}}if(b)if(c){p=p||w(a);h=h||w(g);for(f=0;null!=(d=p[f]);f++)E(d,h[f])}else E(a,g);return h=w(g,"script"),0<h.length&&
V(h,!n&&w(a,"script")),g},buildFragment:function(a,b,c,h){for(var d,g,f,p,n,r,k,B=a.length,v=T(b),x=[],L=0;B>L;L++)if(g=a[L],g||0===g)if("object"===e.type(g))e.merge(x,g.nodeType?[g]:g);else if(nd.test(g)){p=p||v.appendChild(b.createElement("div"));n=(Gc.exec(g)||["",""])[1].toLowerCase();k=Ia[n]||Ia._default;p.innerHTML=k[1]+g.replace(Fc,"<$1></$2>")+k[2];for(d=k[0];d--;)p=p.lastChild;if(!e.support.leadingWhitespace&&kc.test(g)&&x.push(b.createTextNode(kc.exec(g)[0])),!e.support.tbody)for(d=(g="table"!==
n||Hc.test(g)?"<table>"!==k[1]||Hc.test(g)?0:p:p.firstChild)&&g.childNodes.length;d--;)e.nodeName(r=g.childNodes[d],"tbody")&&!r.childNodes.length&&g.removeChild(r);e.merge(x,p.childNodes);for(p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=v.lastChild}else x.push(b.createTextNode(g));p&&v.removeChild(p);e.support.appendChecked||e.grep(w(x,"input"),X);for(L=0;g=x[L++];)if((!h||-1===e.inArray(g,h))&&(f=e.contains(g.ownerDocument,g),p=w(v.appendChild(g),"script"),f&&V(p),c))for(d=0;g=p[d++];)Ic.test(g.type||
"")&&c.push(g);return v},cleanData:function(a,b){for(var c,h,d,g,f=0,p=e.expando,n=e.cache,r=e.support.deleteExpando,k=e.event.special;null!=(c=a[f]);f++)if((b||e.acceptData(c))&&(d=c[p],g=d&&n[d])){if(g.events)for(h in g.events)k[h]?e.event.remove(c,h):e.removeEvent(c,h,g.handle);n[d]&&(delete n[d],r?delete c[p]:typeof c.removeAttribute!==L?c.removeAttribute(p):c[p]=null,Ca.push(d))}}});var Eb,eb,fb,mc=/alpha\([^)]*\)/i,rd=/opacity\s*=\s*([^)]*)/,sd=/^(top|right|bottom|left)$/,td=/^(none|table(?!-c[ea]).+)/,
Jc=/^margin/,Vc=RegExp("^("+Da+")(.*)$","i"),Nb=RegExp("^("+Da+")(?!px)[a-z%]+$","i"),ud=RegExp("^([+-])=("+Da+")","i"),uc={BODY:"block"},vd={position:"absolute",visibility:"hidden",display:"block"},Kc={letterSpacing:0,fontWeight:400},db=["Top","Right","Bottom","Left"],tc=["Webkit","O","Moz","ms"];e.fn.extend({css:function(a,c){return e.access(this,function(a,c,h){var j,d={},g=0;if(e.isArray(c)){j=eb(a);for(h=c.length;h>g;g++)d[c[g]]=e.css(a,c[g],!1,j);return d}return h!==b?e.style(a,c,h):e.css(a,
c)},a,c,1<arguments.length)},show:function(){return J(this,!0)},hide:function(){return J(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:Q(this))?e(this).show():e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=fb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,
c,h,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,f,p,n=e.camelCase(c),r=a.style;if(c=e.cssProps[n]||(e.cssProps[n]=I(r,n)),p=e.cssHooks[c]||e.cssHooks[n],h===b)return p&&"get"in p&&(g=p.get(a,!1,d))!==b?g:r[c];if(f=typeof h,"string"===f&&(g=ud.exec(h))&&(h=(g[1]+1)*g[2]+parseFloat(e.css(a,c)),f="number"),!(null==h||"number"===f&&isNaN(h)||("number"!==f||e.cssNumber[n]||(h+="px"),e.support.clearCloneStyle||""!==h||0!==c.indexOf("background")||(r[c]="inherit"),p&&"set"in p&&(h=p.set(a,h,
d))===b)))try{r[c]=h}catch(k){}}},css:function(a,c,h,d){var g,f,p,n=e.camelCase(c);return c=e.cssProps[n]||(e.cssProps[n]=I(a.style,n)),p=e.cssHooks[c]||e.cssHooks[n],p&&"get"in p&&(f=p.get(a,!0,h)),f===b&&(f=fb(a,c,d)),"normal"===f&&c in Kc&&(f=Kc[c]),""===h||h?(g=parseFloat(f),!0===h||e.isNumeric(g)?g||0:f):f},swap:function(a,b,c,e){var h,d={};for(h in b)d[h]=a.style[h],a.style[h]=b[h];c=c.apply(a,e||[]);for(h in b)a.style[h]=d[h];return c}});a.getComputedStyle?(eb=function(b){return a.getComputedStyle(b,
null)},fb=function(a,c,h){var d,g,f,p=(h=h||eb(a))?h.getPropertyValue(c)||h[c]:b,n=a.style;return h&&(""!==p||e.contains(a.ownerDocument,a)||(p=e.style(a,c)),Nb.test(p)&&Jc.test(c)&&(d=n.width,g=n.minWidth,f=n.maxWidth,n.minWidth=n.maxWidth=n.width=p,p=h.width,n.width=d,n.minWidth=g,n.maxWidth=f)),p}):A.documentElement.currentStyle&&(eb=function(a){return a.currentStyle},fb=function(a,c,e){var h,d,g;e=(e=e||eb(a))?e[c]:b;var f=a.style;return null==e&&f&&f[c]&&(e=f[c]),Nb.test(e)&&!sd.test(c)&&(h=
f.left,d=a.runtimeStyle,g=d&&d.left,g&&(d.left=a.currentStyle.left),f.left="fontSize"===c?"1em":e,e=f.pixelLeft+"px",f.left=h,g&&(d.left=g)),""===e?"auto":e});e.each(["height","width"],function(a,c){e.cssHooks[c]={get:function(a,h,j){return h?0===a.offsetWidth&&td.test(e.css(a,"display"))?e.swap(a,vd,function(){return Y(a,c,j)}):Y(a,c,j):b},set:function(a,b,h){var j=h&&eb(a);return k(a,b,h?D(a,c,h,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing",!1,j),j):0)}}});e.support.opacity||(e.cssHooks.opacity=
{get:function(a,b){return rd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,h=a.currentStyle,d=e.isNumeric(b)?"alpha(opacity="+100*b+")":"",g=h&&h.filter||c.filter||"";c.zoom=1;(1<=b||""===b)&&""===e.trim(g.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||h&&!h.filter)||(c.filter=mc.test(g)?g.replace(mc,d):g+" "+d)}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight=
{get:function(a,c){return c?e.swap(a,{display:"inline-block"},fb,[a,"marginRight"]):b}});!e.support.pixelPosition&&e.fn.position&&e.each(["top","left"],function(a,c){e.cssHooks[c]={get:function(a,h){return h?(h=fb(a,c),Nb.test(h)?e(a).position()[c]+"px":h):b}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!e.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||e.css(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});
e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(c){var e=0,h={};for(c="string"==typeof c?c.split(" "):[c];4>e;e++)h[a+db[e]+b]=c[e]||c[e-2]||c[0];return h}};Jc.test(a)||(e.cssHooks[a+b].set=k)});var wd=/%20/g,Wc=/\[\]$/,Lc=/\r?\n/g,xd=/^(?:submit|button|image|reset|file)$/i,yd=/^(?:input|select|textarea|keygen)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=e.prop(this,
"elements");return a?e.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!e(this).is(":disabled")&&yd.test(this.nodeName)&&!xd.test(a)&&(this.checked||!ac.test(a))}).map(function(a,b){var c=e(this).val();return null==c?null:e.isArray(c)?e.map(c,function(a){return{name:b.name,value:a.replace(Lc,"\r\n")}}):{name:b.name,value:c.replace(Lc,"\r\n")}}).get()}});e.param=function(a,c){var h,d=[],g=function(a,b){b=e.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+
encodeURIComponent(b)};if(c===b&&(c=e.ajaxSettings&&e.ajaxSettings.traditional),e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){g(this.name,this.value)});else for(h in a)P(h,a[h],c,g);return d.join("&").replace(wd,"+")};e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){e.fn[b]=function(a,c){return 0<
arguments.length?this.on(b,null,a,c):this.trigger(b)}});e.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var mb,cb,nc=e.now(),oc=/\?/,zd=/#.*$/,Mc=/([?&])_=[^&]*/,Ad=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bd=/^(?:GET|HEAD)$/,Cd=/^\/\//,Nc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Oc=e.fn.load,Pc={},bc={},Qc="*/".concat("*");try{cb=fa.href}catch(Id){cb=A.createElement("a"),cb.href="",cb=cb.href}mb=Nc.exec(cb.toLowerCase())||[];e.fn.load=function(a,c,h){if("string"!=typeof a&&Oc)return Oc.apply(this,
arguments);var d,g,f,p=this,n=a.indexOf(" ");return 0<=n&&(d=a.slice(n,a.length),a=a.slice(0,n)),e.isFunction(c)?(h=c,c=b):c&&"object"==typeof c&&(f="POST"),0<p.length&&e.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){g=arguments;p.html(d?e("<div>").append(e.parseHTML(a)).find(d):a)}).complete(h&&function(a,b){p.each(h,g||[a.responseText,b,a])}),this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){e.fn[b]=function(a){return this.on(b,
a)}});e.each(["get","post"],function(a,c){e[c]=function(a,h,d,j){return e.isFunction(h)&&(j=j||d,d=h,h=b),e.ajax({url:a,type:c,dataType:j,data:h,success:d})}});e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(mb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},
contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?O(O(a,e.ajaxSettings),b):O(e.ajaxSettings,a)},ajaxPrefilter:m(Pc),ajaxTransport:m(bc),ajax:function(a,c){function h(a,c,d,j){var g,B,t,C,ra,w=c;if(2!==Z){Z=2;n&&clearTimeout(n);k=b;p=j||"";A.readyState=0<a?4:0;if(d){C=v;j=A;var K,y,q,D,u=C.contents,
W=C.dataTypes,Ta=C.responseFields;for(D in Ta)D in d&&(j[Ta[D]]=d[D]);for(;"*"===W[0];)W.shift(),y===b&&(y=C.mimeType||j.getResponseHeader("Content-Type"));if(y)for(D in u)if(u[D]&&u[D].test(y)){W.unshift(D);break}if(W[0]in d)q=W[0];else{for(D in d){if(!W[0]||C.converters[D+" "+W[0]]){q=D;break}K||(K=D)}q=q||K}C=q?(q!==W[0]&&W.unshift(q),d[q]):b}if(200<=a&&300>a||304===a)if(v.ifModified&&(ra=A.getResponseHeader("Last-Modified"),ra&&(e.lastModified[f]=ra),ra=A.getResponseHeader("etag"),ra&&(e.etag[f]=
ra)),204===a)g=!0,w="nocontent";else if(304===a)g=!0,w="notmodified";else{var P;a:{d=v;g=C;var fa,F;t={};ra=0;w=d.dataTypes.slice();K=w[0];if(d.dataFilter&&(g=d.dataFilter(g,d.dataType)),w[1])for(fa in d.converters)t[fa.toLowerCase()]=d.converters[fa];for(;B=w[++ra];)if("*"!==B){if("*"!==K&&K!==B){if(fa=t[K+" "+B]||t["* "+B],!fa)for(P in t)if(F=P.split(" "),F[1]===B&&(fa=t[K+" "+F[0]]||t["* "+F[0]])){!0===fa?fa=t[P]:!0!==t[P]&&(B=F[0],w.splice(ra--,0,B));break}if(!0!==fa)if(fa&&d["throws"])g=fa(g);
else try{g=fa(g)}catch(Ya){P={state:"parsererror",error:fa?Ya:"No conversion from "+K+" to "+B};break a}}K=B}P={state:"success",data:g}}g=P;w=g.state;B=g.data;t=g.error;g=!t}else t=w,(a||!w)&&(w="error",0>a&&(a=0));A.status=a;A.statusText=(c||w)+"";g?m.resolveWith(x,[B,w,A]):m.rejectWith(x,[A,w,t]);A.statusCode(s);s=b;r&&L.trigger(g?"ajaxSuccess":"ajaxError",[A,v,g?B:t]);l.fireWith(x,[A,w]);r&&(L.trigger("ajaxComplete",[A,v]),--e.active||e.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b);
c=c||{};var d,g,f,p,n,r,k,B,v=e.ajaxSetup({},c),x=v.context||v,L=v.context&&(x.nodeType||x.jquery)?e(x):e.event,m=e.Deferred(),l=e.Callbacks("once memory"),s=v.statusCode||{},ra={},w={},Z=0,K="canceled",A={readyState:0,getResponseHeader:function(a){var b;if(2===Z){if(!B)for(B={};b=Ad.exec(p);)B[b[1].toLowerCase()]=b[2];b=B[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===Z?p:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return Z||(a=w[c]=w[c]||a,ra[a]=
b),this},overrideMimeType:function(a){return Z||(v.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>Z)for(b in a)s[b]=[s[b],a[b]];else A.always(a[A.status]);return this},abort:function(a){a=a||K;return k&&k.abort(a),h(0,a),this}};if(m.promise(A).complete=l.add,A.success=A.done,A.error=A.fail,v.url=((a||v.url||cb)+"").replace(zd,"").replace(Cd,mb[1]+"//"),v.type=c.method||c.type||v.method||v.type,v.dataTypes=e.trim(v.dataType||"*").toLowerCase().match(Ba)||[""],null==v.crossDomain&&(d=Nc.exec(v.url.toLowerCase()),
v.crossDomain=!(!d||d[1]===mb[1]&&d[2]===mb[2]&&(d[3]||("http:"===d[1]?80:443))==(mb[3]||("http:"===mb[1]?80:443)))),v.data&&v.processData&&"string"!=typeof v.data&&(v.data=e.param(v.data,v.traditional)),ca(Pc,v,c,A),2===Z)return A;(r=v.global)&&0===e.active++&&e.event.trigger("ajaxStart");v.type=v.type.toUpperCase();v.hasContent=!Bd.test(v.type);f=v.url;v.hasContent||(v.data&&(f=v.url+=(oc.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(v.url=Mc.test(f)?f.replace(Mc,"$1_="+nc++):f+(oc.test(f)?
"&":"?")+"_="+nc++));v.ifModified&&(e.lastModified[f]&&A.setRequestHeader("If-Modified-Since",e.lastModified[f]),e.etag[f]&&A.setRequestHeader("If-None-Match",e.etag[f]));(v.data&&v.hasContent&&!1!==v.contentType||c.contentType)&&A.setRequestHeader("Content-Type",v.contentType);A.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Qc+"; q=0.01":""):v.accepts["*"]);for(g in v.headers)A.setRequestHeader(g,v.headers[g]);if(v.beforeSend&&
(!1===v.beforeSend.call(x,A,v)||2===Z))return A.abort();K="abort";for(g in{success:1,error:1,complete:1})A[g](v[g]);if(k=ca(bc,v,c,A)){A.readyState=1;r&&L.trigger("ajaxSend",[A,v]);v.async&&0<v.timeout&&(n=setTimeout(function(){A.abort("timeout")},v.timeout));try{Z=1,k.send(ra,h)}catch(q){if(!(2>Z))throw q;h(-1,q)}}else h(-1,"No Transport");return A},getScript:function(a,c){return e.get(a,b,c,"script")},getJSON:function(a,b,c){return e.get(a,b,c,"json")}});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return e.globalEval(a),a}}});e.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var c,h=A.head||e("head")[0]||A.documentElement;return{send:function(b,e){c=A.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||
/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))};h.insertBefore(c,h.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Rc=[],pc=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Rc.pop()||e.expando+"_"+nc++;return this[a]=!0,a}});e.ajaxPrefilter("json jsonp",function(c,h,d){var g,f,p,n=!1!==c.jsonp&&(pc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&
pc.test(c.data)&&"data");return n||"jsonp"===c.dataTypes[0]?(g=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,n?c[n]=c[n].replace(pc,"$1"+g):!1!==c.jsonp&&(c.url+=(oc.test(c.url)?"&":"?")+c.jsonp+"="+g),c.converters["script json"]=function(){return p||e.error(g+" was not called"),p[0]},c.dataTypes[0]="json",f=a[g],a[g]=function(){p=arguments},d.always(function(){a[g]=f;c[g]&&(c.jsonpCallback=h.jsonpCallback,Rc.push(g));p&&e.isFunction(f)&&f(p[0]);p=f=b}),"script"):
b});var Db,Mb,Dd=0,qc=a.ActiveXObject&&function(){for(var a in Db)Db[a](b,!0)};e.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ja()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:ja;Mb=e.ajaxSettings.xhr();e.support.cors=!!Mb&&"withCredentials"in Mb;(Mb=e.support.ajax=!!Mb)&&e.ajaxTransport(function(c){if(!c.crossDomain||e.support.cors){var h;return{send:function(d,g){var f,p,n=c.xhr();if(c.username?n.open(c.type,c.url,c.async,c.username,
c.password):n.open(c.type,c.url,c.async),c.xhrFields)for(p in c.xhrFields)n[p]=c.xhrFields[p];c.mimeType&&n.overrideMimeType&&n.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(p in d)n.setRequestHeader(p,d[p])}catch(r){}n.send(c.hasContent&&c.data||null);h=function(a,d){var p,r,k,B;try{if(h&&(d||4===n.readyState))if(h=b,f&&(n.onreadystatechange=e.noop,qc&&delete Db[f]),d)4!==n.readyState&&n.abort();else{B={};p=n.status;r=n.getAllResponseHeaders();
"string"==typeof n.responseText&&(B.text=n.responseText);try{k=n.statusText}catch(v){k=""}p||!c.isLocal||c.crossDomain?1223===p&&(p=204):p=B.text?200:404}}catch(x){d||g(-1,x)}B&&g(p,k,B,r)};c.async?4===n.readyState?setTimeout(h):(f=++Dd,qc&&(Db||(Db={},e(a).unload(qc)),Db[f]=h),n.onreadystatechange=h):h()},abort:function(){h&&h(b,!0)}}}});var nb,$b,Ed=/^(?:toggle|show|hide)$/,Fd=RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Gd=/queueHooks$/,Ob=[function(a,b,c){var h,d,g,f,p,n,r=this,k=a.style,B={},
v=[],x=a.nodeType&&Q(a);c.queue||(p=e._queueHooks(a,"fx"),null==p.unqueued&&(p.unqueued=0,n=p.empty.fire,p.empty.fire=function(){p.unqueued||n()}),p.unqueued++,r.always(function(){r.always(function(){p.unqueued--;e.queue(a,"fx").length||p.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[k.overflow,k.overflowX,k.overflowY],"inline"===e.css(a,"display")&&"none"===e.css(a,"float")&&(e.support.inlineBlockNeedsLayout&&"inline"!==ga(a.nodeName)?k.zoom=1:k.display="inline-block"));
c.overflow&&(k.overflow="hidden",e.support.shrinkWrapBlocks||r.always(function(){k.overflow=c.overflow[0];k.overflowX=c.overflow[1];k.overflowY=c.overflow[2]}));for(d in b)if(g=b[d],Ed.exec(g))(delete b[d],h=h||"toggle"===g,g===(x?"hide":"show"))||v.push(d);if(b=v.length){g=e._data(a,"fxshow")||e._data(a,"fxshow",{});"hidden"in g&&(x=g.hidden);h&&(g.hidden=!x);x?e(a).show():r.done(function(){e(a).hide()});r.done(function(){var b;e._removeData(a,"fxshow");for(b in B)e.style(a,b,B[b])});for(d=0;b>d;d++)h=
v[d],f=r.createTween(h,x?g[h]:0),B[h]=g[h]||e.style(a,h),h in g||(g[h]=f.start,x&&(f.end=f.start,f.start="width"===h||"height"===h?1:0))}}],Fb={"*":[function(a,b){var c,h,d=this.createTween(a,b),g=Fd.exec(b),f=d.cur(),p=+f||0,n=1,r=20;if(g){if(c=+g[2],h=g[3]||(e.cssNumber[a]?"":"px"),"px"!==h&&p){p=e.css(d.elem,a,!0)||c||1;do n=n||".5",p/=n,e.style(d.elem,a,p+h);while(n!==(n=d.cur()/f)&&1!==n&&--r)}d.unit=h;d.start=p;d.end=g[1]?p+(g[1]+1)*c:c}return d}]};e.Animation=e.extend(H,{tweener:function(a,
b){e.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,h=0,d=a.length;d>h;h++)c=a[h],Fb[c]=Fb[c]||[],Fb[c].unshift(b)},prefilter:function(a,b){b?Ob.unshift(a):Ob.push(a)}});e.Tween=M;M.prototype={constructor:M,init:function(a,b,c,h,d,g){this.elem=a;this.prop=c;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=h;this.unit=g||(e.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,
c=M.propHooks[this.prop];return this.pos=b=this.options.duration?e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=e.css(a.elem,a.prop,""),b&&"auto"!==
b?b:0):a.elem[a.prop]},set:function(a){e.fx.step[a.prop]?e.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.each(["toggle","show","hide"],function(a,b){var c=e.fn[b];e.fn[b]=function(a,e,h){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(g(b,!0),
a,e,h)}});e.fn.extend({fadeTo:function(a,b,c,e){return this.filter(Q).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,h){var d=e.isEmptyObject(a),g=e.speed(b,c,h),f=function(){var b=H(this,e.extend({},a),g);f.finish=function(){b.stop(!0)};(d||e._data(this,"finish"))&&b.stop(!0)};return f.finish=f,d||!1===g.queue?this.each(f):this.queue(g.queue,f)},stop:function(a,c,h){var d=function(a){var b=a.stop;delete a.stop;b(h)};return"string"!=typeof a&&(h=c,c=a,a=b),c&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",g=e.timers,f=e._data(this);if(c)f[c]&&f[c].stop&&d(f[c]);else for(c in f)f[c]&&f[c].stop&&Gd.test(c)&&d(f[c]);for(c=g.length;c--;)g[c].elem!==this||null!=a&&g[c].queue!==a||(g[c].anim.stop(h),b=!1,g.splice(c,1));(b||!h)&&e.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=e._data(this),h=c[a+"queue"];b=c[a+"queueHooks"];var d=e.timers,g=h?h.length:0;c.finish=!0;e.queue(this,
a,[]);b&&b.cur&&b.cur.finish&&b.cur.finish.call(this);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;g>b;b++)h[b]&&h[b].finish&&h[b].finish.call(this);delete c.finish})}});e.each({slideDown:g("show"),slideUp:g("hide"),slideToggle:g("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});e.speed=function(a,b,c){var h=a&&"object"==typeof a?e.extend({},
a):{complete:c||!c&&b||e.isFunction(a)&&a,duration:a,easing:c&&b||b&&!e.isFunction(b)&&b};return h.duration=e.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in e.fx.speeds?e.fx.speeds[h.duration]:e.fx.speeds._default,(null==h.queue||!0===h.queue)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){e.isFunction(h.old)&&h.old.call(this);h.queue&&e.dequeue(this,h.queue)},h};e.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=M.prototype.init;
e.fx.tick=function(){var a,c=e.timers,h=0;for(nb=e.now();c.length>h;h++)a=c[h],a()||c[h]!==a||c.splice(h--,1);c.length||e.fx.stop();nb=b};e.fx.timer=function(a){a()&&e.timers.push(a)&&e.fx.start()};e.fx.interval=13;e.fx.start=function(){$b||($b=setInterval(e.fx.tick,e.fx.interval))};e.fx.stop=function(){clearInterval($b);$b=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=function(a){return e.grep(e.timers,function(b){return a===b.elem}).length});
e.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){e.offset.setOffset(this,a,b)});var c,h,d={top:0,left:0},g=this[0],f=g&&g.ownerDocument;if(f)return c=f.documentElement,e.contains(c,g)?(typeof g.getBoundingClientRect!==L&&(d=g.getBoundingClientRect()),h=x(f),{top:d.top+(h.pageYOffset||c.scrollTop)-(c.clientTop||0),left:d.left+(h.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):d};e.offset={setOffset:function(a,b,c){var h=e.css(a,"position");"static"===h&&(a.style.position=
"relative");var d=e(a),g=d.offset(),f=e.css(a,"top"),p=e.css(a,"left"),n={},r={},k,B;("absolute"===h||"fixed"===h)&&-1<e.inArray("auto",[f,p])?(r=d.position(),k=r.top,B=r.left):(k=parseFloat(f)||0,B=parseFloat(p)||0);e.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(n.top=b.top-g.top+k);null!=b.left&&(n.left=b.left-g.left+B);"using"in b?b.using.call(a,n):d.css(n)}};e.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},h=this[0];return"fixed"===e.css(h,"position")?b=h.getBoundingClientRect():
(a=this.offsetParent(),b=this.offset(),e.nodeName(a[0],"html")||(c=a.offset()),c.top+=e.css(a[0],"borderTopWidth",!0),c.left+=e.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-e.css(h,"marginTop",!0),left:b.left-c.left-e.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||A.documentElement;a&&!e.nodeName(a,"html")&&"static"===e.css(a,"position");)a=a.offsetParent;return a||A.documentElement})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(a,c){var h=/Y/.test(c);e.fn[a]=function(d){return e.access(this,function(a,d,g){var f=x(a);return g===b?f?c in f?f[c]:f.document.documentElement[d]:a[d]:(f?f.scrollTo(h?e(f).scrollLeft():g,h?g:e(f).scrollTop()):a[d]=g,b)},a,d,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,c){e.each({padding:"inner"+a,content:c,"":"outer"+a},function(h,d){e.fn[d]=function(d,g){var f=arguments.length&&(h||"boolean"!=typeof d),p=h||(!0===d||!0===g?"margin":"border");return e.access(this,
function(c,h,d){var g;return e.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(g=c.documentElement,Math.max(c.body["scroll"+a],g["scroll"+a],c.body["offset"+a],g["offset"+a],g["client"+a])):d===b?e.css(c,h,p):e.style(c,h,d,p)},c,f?d:b,f,null)}})});a.jQuery=a.$=e;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return e})})(window);$.fn.top=function(){var a;a=Math.floor(parseFloat(this.css("top"))||this.position().top);return isNaN(a)?0:a};
$.fn.middle=function(){return Math.round(this.top()+Math.round($(this).outerHeight()/2))};$.fn.bottom=function(){return Math.round(this.top()+this.outerHeight())};$.fn.right=function(){return Math.round(this.left()+this.outerWidth())};$.fn.center=function(){return Math.round(this.left()+Math.round($(this).outerWidth()/2))};$.fn.left=function(){var a;a=parseFloat(this.css("left"))||this.position().left;a=Math.floor(a);return isNaN(a)?0:a};
$.fn.dimensions=function(){var a={};$(this).each(function(){if(void 0===a.left)a.left=$(this).position().left,a.right=a.left+$(this).outerWidth(),a.top=$(this).position().top,a.bottom=a.top+$(this).outerHeight();else{var b=$(this).position().left,c=b+$(this).outerWidth(),d=$(this).position().top,f=d+$(this).outerHeight();b<a.left&&(a.left=b);c>a.right&&(a.right=c);d<a.top&&(a.top=d);f>a.bottom&&(a.bottom=f)}});a.height=a.bottom-a.top;a.width=a.right-a.left;a.center=a.left+Math.floor(a.width/2);a.middle=
a.top+Math.floor(a.height/2);return a};var ValidateEmail=function(a){return/\S+@\S+\.\S+/.test(a)},ParseQueryString=function(){for(var a={},b,c=/\+/g,d=/([^&=]+)=?([^&]*)/g,f=window.location.search.substring(1);b=d.exec(f);)a[decodeURIComponent(b[1].replace(c," "))]=decodeURIComponent(b[2].replace(c," "));return a},Permalink=function(a){return!a?"":a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"_")};
$.scrollbarWidth=function(){if(navigator.userAgent.match(/Mac OS X 10_7/))return 10;var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"> </div>');$("body").append(a);var b=$("div",a).innerWidth();a.css("overflow-y","scroll");var c=$("div",a).innerWidth();a.remove();return b-c};
$.isOnScrollbar=function(a,b){var c=$.scrollbarWidth(),d=$(window).width(),f=$(window).height(),q=$("body").width(),u=$("body").height()>f;return u&&d-a<c||q>d&&f-b<c?!0:!1};var ToProperCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},ParseName=function(a){return!a?"":ToProperCase(a.replace(/\@.*/,"").replace(/[0-9]/g,"").replace(/\./," "))};
$.topDiv=function(a,b,c){var d=null;$(a).each(function(){var a=$(this);if(a.left()>b||a.right()<b||a.top()>c||a.bottom()<c)return!0;if(!d)return d=a;var q=parseFloat(a.css("z-index")),u=parseFloat(d.css("z-index"));if(q>u)return d=a;if(q<u)return!0;if(a.index()>d.index())return d=a});return d};var blinker={"default":"Nudgepad"};blinker.blinking=blinker.default;blinker.interval=null;blinker.change=function(a){blinker.blinking=a};
blinker.blink=function(){if(document.hasFocus())return blinker.stop();document.title=document.title==blinker.default?blinker.blinking:blinker.default};blinker.start=function(){clearInterval(blinker.interval);blinker.blinking=blinker.default;blinker.interval=setInterval(blinker.blink,2E3)};blinker.stop=function(){clearInterval(blinker.interval);document.title=blinker.blinking=blinker.default};$(window).on("blur",blinker.start);$(window).on("focus",blinker.stop);
(function(a,b,c){function d(a,b,c){for(var d=[],g=0;g<a.length;g++){var f=tinycolor(a[g]),k=0.5>f.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",k=k+(tinycolor.equals(b,a[g])?" sp-thumb-active":""),x=z?"background-color:"+f.toRgbString():"filter:"+f.toFilter();d.push('<span title="'+f.toRgbString()+'" data-color="'+f.toRgbString()+'" class="'+k+'"><span class="sp-thumb-inner" style="'+x+';" /></span>')}return"<div class='sp-cf "+c+"'>"+d.join("")+"</div>"}function f(a,c){var d=
a.outerWidth(),g=a.outerHeight(),f=c.outerHeight(),k=a[0].ownerDocument,x=k.documentElement,m=x.clientWidth+b(k).scrollLeft(),k=x.clientHeight+b(k).scrollTop(),x=c.offset();x.top+=f;x.left-=Math.min(x.left,x.left+d>m&&m>d?Math.abs(x.left+d-m):0);x.top-=Math.min(x.top,x.top+g>k&&k>g?Math.abs(g+f-0):0);return x}function q(){}function u(a){a.stopPropagation()}function l(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function s(c,
d,g,f){function k(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function x(a){if(s){if(T&&9>document.documentMode&&!a.button)return m();var b=a.originalEvent.touches,e=b?b[0].pageY:a.pageY,b=Math.max(0,Math.min((b?b[0].pageX:a.pageX)-w.left,D)),e=Math.max(0,Math.min(e-w.top,q));v&&k(a);d.apply(c,[b,e,a])}}function m(){s&&(b(l).unbind(Z),b(l.body).removeClass("sp-dragging"),f.apply(c,arguments));s=!1}d=d||function(){};g=g||function(){};f=f||function(){};
var l=c.ownerDocument||document,s=!1,w={},q=0,D=0,v="ontouchstart"in a,Z={};Z.selectstart=k;Z.dragstart=k;Z[v?"touchmove":"mousemove"]=x;Z[v?"touchend":"mouseup"]=m;b(c).bind(v?"touchstart":"mousedown",function(a){if(!(a.which?3==a.which:2==a.button)&&!s&&!1!==g.apply(c,arguments))s=!0,q=b(c).height(),D=b(c).width(),w=b(c).offset(),b(l).bind(Z),b(l.body).addClass("sp-dragging"),v||x(a),k(a)})}var S={beforeShow:q,move:q,change:q,show:q,hide:q,color:!1,flat:!1,showInput:!0,showButtons:!1,clickoutFiresChange:!1,
showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},U=[],T=!!/msie/i.exec(a.navigator.userAgent),z,F=document.createElement("div").style;F.cssText="background-color:rgba(0,0,0,.5)";z=!!~(""+F.backgroundColor).indexOf("rgba")||!!~(""+F.backgroundColor).indexOf("hsla");var V,F="";if(T)for(var E=
1;6>=E;E++)F+="<div class='sp-"+E+"'></div>";V=["<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",F,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("");
b.fn.spectrum=function(g,r){if("string"==typeof g){var k=this,x=Array.prototype.slice.call(arguments,1);this.each(function(){var a=U[b(this).data("spectrum.id")];if(a){var c=a[g];if(!c)throw Error("Spectrum: no such method: '"+g+"'");"get"==g?k=a.get():"container"==g?k=a.container:"option"==g?k=a.option.apply(a,x):"destroy"==g?(a.destroy(),b(this).removeData("spectrum.id")):c.apply(a,x)}});return k}return this.spectrum("destroy").each(function(){var r,k=function(){p.toggleClass("sp-flat",O);p.toggleClass("sp-input-disabled",
!E.showInput);p.toggleClass("sp-alpha-enabled",E.showAlpha);p.toggleClass("sp-buttons-disabled",!E.showButtons||O);p.toggleClass("sp-palette-disabled",!E.showPalette);p.toggleClass("sp-palette-only",E.showPaletteOnly);p.toggleClass("sp-initial-disabled",!E.showInitial);p.addClass(E.className);J()},x=function(c){if(ca&&(c=tinycolor(c).toRgbString(),-1===b.inArray(c,Ga)&&Ga.push(c),M&&a.localStorage))try{a.localStorage[M]=Ga.join(";")}catch(h){}},L=function(){var a=[],b=Ga,c={},h;if(E.showPalette){for(var e=
0;e<jb.length;e++)for(var d=0;d<jb[e].length;d++)h=tinycolor(jb[e][d]).toRgbString(),c[h]=!0;for(e=0;e<b.length;e++)h=tinycolor(b[e]).toRgbString(),c.hasOwnProperty(h)||(a.push(b[e]),c[h]=!0)}return a.reverse().slice(0,E.maxSelectionSize)},m=function(){var a=W(),c=b.map(jb,function(b,c){return d(b,a,"sp-palette-row sp-palette-row-"+c)});Ga&&c.push(d(L(),a,"sp-palette-row sp-palette-row-selection"));Rb.html(c.join(""))},w=function(){if(E.showInitial){var a=Va,b=W();Ib.html(d([a,b],b,"sp-palette-row-initial"))}},
A=function(){(0===ia||0===da||0===na)&&J();p.addClass(wa)},q=function(){p.removeClass(wa)},v=function(){var a=tinycolor(Na.val());a.ok?e(a):Na.addClass("sp-validation-error")},Z=function(){ea?D():K()},K=function(){if(ea)J();else if(!1!==G.beforeShow(W())){for(var c=0;c<U.length;c++)U[c]&&U[c].hide();ea=!0;b(xa).bind("click.spectrum",D);b(a).bind("resize.spectrum",Q);Aa.addClass("sp-active");p.show();E.showPalette&&m();J();F();Va=W();w();G.show(Va)}},D=function(c){if((!c||!("click"==c.type&&2==c.button))&&
ea&&!O)ea=!1,b(xa).unbind("click.spectrum",D),b(a).unbind("resize.spectrum",Q),Aa.removeClass("sp-active"),p.hide(),tinycolor.equals(W(),Va)||(wb&&"cancel"!==c?H(!0):e(Va,!0)),G.hide(W())},e=function(a,b){if(!tinycolor.equals(a,W())){var c=tinycolor(a),h=c.toHsv();la=h.h;Ma=h.s;qa=h.v;N=h.a;F();b||(Ua=La||c.format)}},W=function(){return tinycolor.fromRatio({h:la,s:Ma,v:qa,a:Math.round(100*N)/100})},P=function(){F();G.move(W())},F=function(){Na.removeClass("sp-validation-error");Y();var a=tinycolor({h:la,
s:"1.0",v:"1.0"});B.css("background-color",a.toHexString());a=Ua;if(1>N&&("hex"===a||"name"===a))a="rgb";var b=W(),c=b.toHexString(),h=b.toRgbString();z||1===b.alpha?xb.css("background-color",h):(xb.css("background-color","transparent"),xb.css("filter",b.toFilter()));if(E.showAlpha){h=b.toRgb();h.a=0;var h=tinycolor(h).toRgbString(),e="linear-gradient(left, "+h+", "+c+")";T?Ea.css("filter",tinycolor(h).toFilter({gradientType:1},c)):(Ea.css("background","-webkit-"+e),Ea.css("background","-moz-"+e),
Ea.css("background","-ms-"+e),Ea.css("background",e))}if(E.showInput){if(1>N&&("hex"===a||"name"===a))a="rgb";Na.val(b.toString(a))}E.showPalette&&m();w()},Y=function(){var a=Ma*da,b=ia-qa*ia,a=Math.max(-R,Math.min(da-R,a-R)),b=Math.max(-R,Math.min(ia-R,b-R));ra.css({top:b,left:a});rb.css({left:N*oa-ua/2});pb.css({top:la*na-Ha})},H=function(a){var b=W();kb&&va.val(b.toString(Ua)).change();var c=!tinycolor.equals(b,Va);Va=b;x(b);a&&c&&G.change(b)},J=function(){da=B.width();ia=B.height();R=ra.height();
Ta.width();na=Ta.height();Ha=pb.height();oa=qb.width();ua=rb.width();O||p.offset(f(p,aa));Y()};r=function(){D();h=!0;va.attr("disabled",!0);aa.addClass("sp-disabled")};var E,I=b.extend({},S,g);I.callbacks={move:l(I.move,this),change:l(I.change,this),show:l(I.show,this),hide:l(I.hide,this),beforeShow:l(I.beforeShow,this)};E=I;var O=E.flat,ca=E.showSelectionPalette,M=E.localStorageKey,X=E.theme,G=E.callbacks,Q,ga=J,ja;Q=function(){var a=this,b=arguments;ja||(ja=setTimeout(function(){ja=null;ga.apply(a,
b)},10))};var ea=!1,da=0,ia=0,R=0,na=0,oa=0,ua=0,Ha=0,la=0,Ma=0,qa=0,N=1,I=E.palette.slice(0),jb=b.isArray(I[0])?I:[I],Ga=E.selectionPalette.slice(0),wa="sp-dragging",xa=this.ownerDocument,I=xa.body,va=b(this),h=!1,p=b(V,xa).addClass(X),B=p.find(".sp-color"),ra=p.find(".sp-dragger"),Ta=p.find(".sp-hue"),pb=p.find(".sp-slider"),Ea=p.find(".sp-alpha-inner"),qb=p.find(".sp-alpha"),rb=p.find(".sp-alpha-handle"),Na=p.find(".sp-input"),Rb=p.find(".sp-palette"),Ib=p.find(".sp-initial"),Jb=p.find(".sp-cancel"),
sb=p.find(".sp-choose"),kb=va.is("input"),ya=kb&&!O,Aa=ya?b("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div></div>").addClass(X):b([]),aa=ya?Aa:va,xb=Aa.find(".sp-preview-inner"),yb=E.color||kb&&va.val(),Va=!1,La=E.preferredFormat,Ua=La,wb=!E.showButtons||E.clickoutFiresChange,X=function(a){a.data&&a.data.ignore?(e(b(this).data("color")),P()):(e(b(this).data("color")),H(!0),P(),D());return!1};T&&p.find("*:not(input)").attr("unselectable","on");k();ya&&va.hide().after(Aa);
O?va.after(p).hide():b(I).append(p.hide());if(M&&a.localStorage){try{var zb=a.localStorage[M].split(",#");1<zb.length&&(delete a.localStorage[M],b.each(zb,function(a,b){x(b)}))}catch(Vb){}try{Ga=a.localStorage[M].split(";")}catch(Lb){}}aa.bind("click.spectrum touchstart.spectrum",function(a){h||Z();a.stopPropagation();b(a.target).is("input")||a.preventDefault()});(va.is(":disabled")||!0===E.disabled)&&r();p.click(u);Na.change(v);Na.bind("paste",function(){setTimeout(v,1)});Na.keydown(function(a){13==
a.keyCode&&v()});Jb.text(E.cancelText);Jb.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();D("cancel")});sb.text(E.chooseText);sb.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Na.hasClass("sp-validation-error")||(H(!0),D())});s(qb,function(a,b,c){N=a/oa;c.shiftKey&&(N=Math.round(10*N)/10);P()});s(Ta,function(a,b){la=parseFloat(b/na);P()},A,q);s(B,function(a,b){Ma=parseFloat(a/da);qa=parseFloat((ia-b)/ia);P()},A,q);yb?(e(yb),F(),Ua=La||tinycolor(yb).format,
x(yb)):F();O&&K();A=T?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Rb.delegate(".sp-thumb-el",A,X);Ib.delegate(".sp-thumb-el:nth-child(1)",A,{ignore:!0},X);var bb={show:K,hide:D,toggle:Z,reflow:J,option:function(a,h){if(a===c)return b.extend({},E);if(h===c)return E[a];E[a]=h;k()},enable:function(){h=!1;va.attr("disabled",!1);aa.removeClass("sp-disabled")},disable:r,set:function(a){e(a);H()},get:W,destroy:function(){va.show();aa.unbind("click.spectrum touchstart.spectrum");p.remove();
Aa.remove();U[bb.id]=null},container:p};bb.id=U.push(bb)-1;r=bb;b(this).data("spectrum.id",r.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=s;b.fn.spectrum.defaults=S;b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){var a=b("<input type='color' value='!' />")[0];"color"===a.type&&"!"!=a.value||b("input[type=color]").spectrum({preferredFormat:"hex6"})};var w=function(a){var b,c,d,f,l;if("object"==typeof a&&
a.hasOwnProperty("_tc_id"))return a;c=a;var s=0,q=0,u=0;a=1;var F=!1,z=!1;if("string"==typeof c)a:{c=c.replace(D,"").replace(Y,"").toLowerCase();var E=!1;if(ea[c])c=ea[c],E=!0;else if("transparent"==c){c={r:0,g:0,b:0,a:0};break a}c=(b=x.rgb.exec(c))?{r:b[1],g:b[2],b:b[3]}:(b=x.rgba.exec(c))?{r:b[1],g:b[2],b:b[3],a:b[4]}:(b=x.hsl.exec(c))?{h:b[1],s:b[2],l:b[3]}:(b=x.hsla.exec(c))?{h:b[1],s:b[2],l:b[3],a:b[4]}:(b=x.hsv.exec(c))?{h:b[1],s:b[2],v:b[3]}:(b=x.hex6.exec(c))?{r:parseInt(b[1],16),g:parseInt(b[2],
16),b:parseInt(b[3],16),format:E?"name":"hex"}:(b=x.hex3.exec(c))?{r:parseInt(b[1]+""+b[1],16),g:parseInt(b[2]+""+b[2],16),b:parseInt(b[3]+""+b[3],16),format:E?"name":"hex"}:!1}"object"==typeof c&&(c.hasOwnProperty("r")&&c.hasOwnProperty("g")&&c.hasOwnProperty("b")?(s=255*J(c.r,255),q=255*J(c.g,255),u=255*J(c.b,255),F=!0,z="rgb"):c.hasOwnProperty("h")&&c.hasOwnProperty("s")&&c.hasOwnProperty("v")?(z=c.h,q=c.s,u=c.v,z=6*J(z,360),q=J(q,100),u=J(u,100),s=W.floor(z),F=z-s,z=u*(1-q),b=u*(1-F*q),F=u*(1-
(1-F)*q),E=s%6,s=255*[u,b,z,z,F,u][E],q=255*[F,u,u,b,z,z][E],u=255*[z,z,F,u,u,b][E],F=!0,z="hsv"):c.hasOwnProperty("h")&&(c.hasOwnProperty("s")&&c.hasOwnProperty("l"))&&(s=c.h,z=c.s,u=c.l,q=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a},s=J(s,360),z=J(z,100),u=J(u,100),0===z?z=u=b=u:(b=0.5>u?u*(1+z):u+z-u*z,F=2*u-b,z=q(F,b,s+1/3),u=q(F,b,s),b=q(F,b,s-1/3)),s=255*z,q=255*u,u=255*b,F=!0,z="hsl"),c.hasOwnProperty("a")&&(a=c.a));s=m(255,ca(s,0));q=
m(255,ca(q,0));u=m(255,ca(u,0));1>s&&(s=P(s));1>q&&(q=P(q));1>u&&(u=P(u));b=F;c=c&&c.format||z;d=s;f=q;l=u;var v=ja(a);return{ok:b,format:c,_tc_id:ga++,alpha:v,toHsv:function(){var a=I(d,f,l);return{h:a.h,s:a.s,v:a.v,a:v}},toHsvString:function(){var a=I(d,f,l),b=P(360*a.h),c=P(100*a.s),a=P(100*a.v);return 1==v?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+v+")"},toHsl:function(){var a=X(d,f,l);return{h:a.h,s:a.s,l:a.l,a:v}},toHslString:function(){var a=X(d,f,l),b=P(360*a.h),c=P(100*
a.s),a=P(100*a.l);return 1==v?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+v+")"},toHex:function(){return Q(d,f,l)},toHexString:function(a){return"#"+Q(d,f,l,a)},toRgb:function(){return{r:P(d),g:P(f),b:P(l),a:v}},toRgbString:function(){return 1==v?"rgb("+P(d)+", "+P(f)+", "+P(l)+")":"rgba("+P(d)+", "+P(f)+", "+P(l)+", "+v+")"},toName:function(){return g[Q(d,f,l)]||!1},toFilter:function(a,b){var c=Q(d,f,l,!0),e=c,g=Math.round(255*ja(v)).toString(16),n=g,r=a&&a.gradientType?"GradientType = 1, ":
"";b&&(n=w(b),e=n.toHex(),n=Math.round(255*ja(n.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr=#"+k(g)+c+",endColorstr=#"+k(n)+e+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());"hex"===a&&(b=this.toHexString());"hex6"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString(!0)}}},X=function(a,b,c){a=J(a,255);b=J(b,255);
c=J(c,255);var d=ca(a,b,c),g=m(a,b,c),f,k=(d+g)/2;if(d==g)f=g=0;else{var x=d-g,g=0.5<k?x/(2-d-g):x/(d+g);switch(d){case a:f=(b-c)/x+(b<c?6:0);break;case b:f=(c-a)/x+2;break;case c:f=(a-b)/x+4}f/=6}return{h:f,s:g,l:k}},I=function(a,b,c){a=J(a,255);b=J(b,255);c=J(c,255);var d=ca(a,b,c),g=m(a,b,c),f,k=d-g;if(d==g)f=0;else{switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;case c:f=(a-b)/k+4}f/=6}return{h:f,s:0===d?0:k/d,v:d}},Q=function(a,b,c,d){a=[k(P(a).toString(16)),k(P(b).toString(16)),
k(P(c).toString(16))];return!d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")},J=function(a,b){"string"==typeof a&&(-1!=a.indexOf(".")&&1===ja(a))&&(a="100%");var c="string"===typeof a&&-1!=a.indexOf("%");a=m(b,ca(0,ja(a)));c&&(a*=b/100);return 1E-6>W.abs(a-b)?1:1<=a?a%b/ja(b):a},k=function(a){return 1==a.length?"0"+a:""+a},D=/^[\s,#]+/,Y=/\s+$/,ga=0,W=Math,P=W.round,m=W.min,ca=W.max,O=W.random,
ja=this.parseFloat;w.fromRatio=function(a){if("object"==typeof a)for(var b in a)1===a[b]&&(a[b]="1.0");return w(a)};w.equals=function(a,b){return!a||!b?!1:w(a).toRgbString()==w(b).toRgbString()};w.random=function(){return w.fromRatio({r:O(),g:O(),b:O()})};w.desaturate=function(a,b){var c=w(a).toHsl();c.s-=(b||10)/100;c.s=m(1,ca(0,c.s));return w(c)};w.saturate=function(a,b){var c=w(a).toHsl();c.s+=(b||10)/100;c.s=m(1,ca(0,c.s));return w(c)};w.greyscale=function(a){return w.desaturate(a,100)};w.lighten=
function(a,b){var c=w(a).toHsl();c.l+=(b||10)/100;c.l=m(1,ca(0,c.l));return w(c)};w.darken=function(a,b){var c=w(a).toHsl();c.l-=(b||10)/100;c.l=m(1,ca(0,c.l));return w(c)};w.complement=function(a){a=w(a).toHsl();a.h=(a.h+0.5)%1;return w(a)};w.triad=function(a){var b=w(a).toHsl(),c=360*b.h;return[w(a),w({h:(c+120)%360,s:b.s,l:b.l}),w({h:(c+240)%360,s:b.s,l:b.l})]};w.tetrad=function(a){var b=w(a).toHsl(),c=360*b.h;return[w(a),w({h:(c+90)%360,s:b.s,l:b.l}),w({h:(c+180)%360,s:b.s,l:b.l}),w({h:(c+270)%
360,s:b.s,l:b.l})]};w.splitcomplement=function(a){var b=w(a).toHsl(),c=360*b.h;return[w(a),w({h:(c+72)%360,s:b.s,l:b.l}),w({h:(c+216)%360,s:b.s,l:b.l})]};w.analogous=function(a,b,c){b=b||6;c=c||30;var d=w(a).toHsl();c=360/c;a=[w(a)];d.h*=360;for(d.h=(d.h-(c*b>>1)+720)%360;--b;)d.h=(d.h+c)%360,a.push(w(d));return a};w.monochromatic=function(a,b){b=b||6;for(var c=w(a).toHsv(),d=c.h,g=c.s,c=c.v,f=[],k=1/b;b--;)f.push(w({h:d,s:g,v:c})),c=(c+k)%1;return f};w.readable=function(a,b){var c=w(a).toRgb(),d=
w(b).toRgb();return 10404<(d.r-c.r)*(d.r-c.r)+(d.g-c.g)*(d.g-c.g)+(d.b-c.b)*(d.b-c.b)};var ea=w.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",
forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",
lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",
moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",
sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=w,E=ea,H={},M;for(M in E)E.hasOwnProperty(M)&&(H[E[M]]=M);var g=F.hexNames=H,x;x={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};this.tinycolor=w;b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped);c._chain&&(c=c._wrapped);if(b.isEqual&&k.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&k.isFunction(c.isEqual))return c.isEqual(b);var f=s.call(b);if(f!=s.call(c))return!1;switch(f){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==
c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var m=d.length;m--;)if(d[m]==b)return!0;d.push(b);var m=0,l=!0;if("[object Array]"==f){if(m=b.length,l=m==c.length)for(;m--&&(l=m in b==m in c&&a(b[m],c[m],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var q in b)if(k.has(b,q)&&(m++,!(l=k.has(c,q)&&a(b[q],c[q],d))))break;if(l){for(q in c)if(k.has(c,q)&&!m--)break;
l=!m}}d.pop();return l}var b=this,c=b._,d={},f=Array.prototype,q=Object.prototype,u=f.slice,l=f.unshift,s=q.toString,S=q.hasOwnProperty,U=f.forEach,T=f.map,z=f.reduce,F=f.reduceRight,V=f.filter,E=f.every,w=f.some,X=f.indexOf,I=f.lastIndexOf,q=Array.isArray,Q=Object.keys,J=Function.prototype.bind,k=function(a){return new H(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=k),exports._=k):b._=k;k.VERSION="1.3.3";var D=k.each=k.forEach=function(a,
b,c){if(null!=a)if(U&&a.forEach===U)a.forEach(b,c);else if(a.length===+a.length)for(var f=0,m=a.length;f<m&&!(f in a&&b.call(c,a[f],f,a)===d);f++);else for(f in a)if(k.has(a,f)&&b.call(c,a[f],f,a)===d)break};k.map=k.collect=function(a,b,c){var d=[];if(null==a)return d;if(T&&a.map===T)return a.map(b,c);D(a,function(a,g,f){d[d.length]=b.call(c,a,g,f)});a.length===+a.length&&(d.length=a.length);return d};k.reduce=k.foldl=k.inject=function(a,b,c,d){var f=2<arguments.length;null==a&&(a=[]);if(z&&a.reduce===
z)return d&&(b=k.bind(b,d)),f?a.reduce(b,c):a.reduce(b);D(a,function(a,g,k){f?c=b.call(d,c,a,g,k):(c=a,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return c};k.reduceRight=k.foldr=function(a,b,c,d){var f=2<arguments.length;null==a&&(a=[]);if(F&&a.reduceRight===F)return d&&(b=k.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b);var m=k.toArray(a).reverse();d&&!f&&(b=k.bind(b,d));return f?k.reduce(m,b,c,d):k.reduce(m,b)};k.find=k.detect=function(a,b,c){var d;Y(a,function(a,
g,f){if(b.call(c,a,g,f))return d=a,!0});return d};k.filter=k.select=function(a,b,c){var d=[];if(null==a)return d;if(V&&a.filter===V)return a.filter(b,c);D(a,function(a,g,f){b.call(c,a,g,f)&&(d[d.length]=a)});return d};k.reject=function(a,b,c){var d=[];if(null==a)return d;D(a,function(a,g,f){b.call(c,a,g,f)||(d[d.length]=a)});return d};k.every=k.all=function(a,b,c){var f=!0;if(null==a)return f;if(E&&a.every===E)return a.every(b,c);D(a,function(a,g,k){if(!(f=f&&b.call(c,a,g,k)))return d});return!!f};
var Y=k.some=k.any=function(a,b,c){b||(b=k.identity);var f=!1;if(null==a)return f;if(w&&a.some===w)return a.some(b,c);D(a,function(a,g,k){if(f||(f=b.call(c,a,g,k)))return d});return!!f};k.include=k.contains=function(a,b){return null==a?!1:X&&a.indexOf===X?-1!=a.indexOf(b):Y(a,function(a){return a===b})};k.invoke=function(a,b){var c=u.call(arguments,2);return k.map(a,function(a){return(k.isFunction(b)?b||a:a[b]).apply(a,c)})};k.pluck=function(a,b){return k.map(a,function(a){return a[b]})};k.max=function(a,
b,c){if(!b&&k.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&k.isEmpty(a))return-Infinity;var d={computed:-Infinity};D(a,function(a,f,g){f=b?b.call(c,a,f,g):a;f>=d.computed&&(d={value:a,computed:f})});return d.value};k.min=function(a,b,c){if(!b&&k.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&k.isEmpty(a))return Infinity;var d={computed:Infinity};D(a,function(a,f,g){f=b?b.call(c,a,f,g):a;f<d.computed&&(d={value:a,computed:f})});return d.value};k.shuffle=function(a){var b=
[],c;D(a,function(a,d){c=Math.floor(Math.random()*(d+1));b[d]=b[c];b[c]=a});return b};k.sortBy=function(a,b,c){var d=k.isFunction(b)?b:function(a){return a[b]};return k.pluck(k.map(a,function(a,b,f){return{value:a,criteria:d.call(c,a,b,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:c<d?-1:c>d?1:0}),"value")};k.groupBy=function(a,b){var c={},d=k.isFunction(b)?b:function(a){return a[b]};D(a,function(a,b){var f=d(a,b);(c[f]||(c[f]=[])).push(a)});return c};k.sortedIndex=
function(a,b,c){c||(c=k.identity);for(var d=0,f=a.length;d<f;){var m=d+f>>1;c(a[m])<c(b)?d=m+1:f=m}return d};k.toArray=function(a){return!a?[]:k.isArray(a)||k.isArguments(a)?u.call(a):a.toArray&&k.isFunction(a.toArray)?a.toArray():k.values(a)};k.size=function(a){return k.isArray(a)?a.length:k.keys(a).length};k.first=k.head=k.take=function(a,b,c){return null!=b&&!c?u.call(a,0,b):a[0]};k.initial=function(a,b,c){return u.call(a,0,a.length-(null==b||c?1:b))};k.last=function(a,b,c){return null!=b&&!c?
u.call(a,Math.max(a.length-b,0)):a[a.length-1]};k.rest=k.tail=function(a,b,c){return u.call(a,null==b||c?1:b)};k.compact=function(a){return k.filter(a,function(a){return!!a})};k.flatten=function(a,b){return k.reduce(a,function(a,c){if(k.isArray(c))return a.concat(b?c:k.flatten(c));a[a.length]=c;return a},[])};k.without=function(a){return k.difference(a,u.call(arguments,1))};k.uniq=k.unique=function(a,b,c){c=c?k.map(a,c):a;var d=[];3>a.length&&(b=!0);k.reduce(c,function(c,f,n){if(b?k.last(c)!==f||
!c.length:!k.include(c,f))c.push(f),d.push(a[n]);return c},[]);return d};k.union=function(){return k.uniq(k.flatten(arguments,!0))};k.intersection=k.intersect=function(a){var b=u.call(arguments,1);return k.filter(k.uniq(a),function(a){return k.every(b,function(b){return 0<=k.indexOf(b,a)})})};k.difference=function(a){var b=k.flatten(u.call(arguments,1),!0);return k.filter(a,function(a){return!k.include(b,a)})};k.zip=function(){for(var a=u.call(arguments),b=k.max(k.pluck(a,"length")),c=Array(b),d=
0;d<b;d++)c[d]=k.pluck(a,""+d);return c};k.indexOf=function(a,b,c){if(null==a)return-1;var d;if(c)return c=k.sortedIndex(a,b),a[c]===b?c:-1;if(X&&a.indexOf===X)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1};k.lastIndexOf=function(a,b){if(null==a)return-1;if(I&&a.lastIndexOf===I)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};k.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-
a)/c),0),f=0,k=Array(d);f<d;)k[f++]=a,a+=c;return k};var ga=function(){};k.bind=function(a,b){var c,d;if(a.bind===J&&J)return J.apply(a,u.call(arguments,1));if(!k.isFunction(a))throw new TypeError;d=u.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(u.call(arguments)));ga.prototype=a.prototype;var f=new ga,k=a.apply(f,d.concat(u.call(arguments)));return Object(k)===k?k:f}};k.bindAll=function(a){var b=u.call(arguments,1);0==b.length&&(b=k.functions(a));D(b,function(b){a[b]=
k.bind(a[b],a)});return a};k.memoize=function(a,b){var c={};b||(b=k.identity);return function(){var d=b.apply(this,arguments);return k.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};k.delay=function(a,b){var c=u.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};k.defer=function(a){return k.delay.apply(k,[a,1].concat(u.call(arguments,1)))};k.throttle=function(a,b){var c,d,f,m,l,s,q=k.debounce(function(){l=m=!1},b);return function(){c=this;d=arguments;f||(f=setTimeout(function(){f=
null;l&&a.apply(c,d);q()},b));m?l=!0:s=a.apply(c,d);q();m=!0;return s}};k.debounce=function(a,b,c){var d;return function(){var f=this,k=arguments;c&&!d&&a.apply(f,k);clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(f,k)},b)}};k.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;return c=a.apply(this,arguments)}};k.wrap=function(a,b){return function(){var c=[a].concat(u.call(arguments,0));return b.apply(this,c)}};k.compose=function(){var a=arguments;return function(){for(var b=
arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};k.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};k.keys=Q||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)k.has(a,c)&&(b[b.length]=c);return b};k.values=function(a){return k.map(a,k.identity)};k.functions=k.methods=function(a){var b=[],c;for(c in a)k.isFunction(a[c])&&b.push(c);return b.sort()};k.extend=function(a){D(u.call(arguments,1),function(b){for(var c in b)a[c]=
b[c]});return a};k.pick=function(a){var b={};D(k.flatten(u.call(arguments,1)),function(c){c in a&&(b[c]=a[c])});return b};k.defaults=function(a){D(u.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])});return a};k.clone=function(a){return!k.isObject(a)?a:k.isArray(a)?a.slice():k.extend({},a)};k.tap=function(a,b){b(a);return a};k.isEqual=function(b,c){return a(b,c,[])};k.isEmpty=function(a){if(null==a)return!0;if(k.isArray(a)||k.isString(a))return 0===a.length;for(var b in a)if(k.has(a,
b))return!1;return!0};k.isElement=function(a){return!!(a&&1==a.nodeType)};k.isArray=q||function(a){return"[object Array]"==s.call(a)};k.isObject=function(a){return a===Object(a)};k.isArguments=function(a){return"[object Arguments]"==s.call(a)};k.isArguments(arguments)||(k.isArguments=function(a){return!(!a||!k.has(a,"callee"))});k.isFunction=function(a){return"[object Function]"==s.call(a)};k.isString=function(a){return"[object String]"==s.call(a)};k.isNumber=function(a){return"[object Number]"==
s.call(a)};k.isFinite=function(a){return k.isNumber(a)&&isFinite(a)};k.isNaN=function(a){return a!==a};k.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==s.call(a)};k.isDate=function(a){return"[object Date]"==s.call(a)};k.isRegExp=function(a){return"[object RegExp]"==s.call(a)};k.isNull=function(a){return null===a};k.isUndefined=function(a){return void 0===a};k.has=function(a,b){return S.call(a,b)};k.noConflict=function(){b._=c;return this};k.identity=function(a){return a};k.times=
function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)};k.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};k.result=function(a,b){if(null==a)return null;var c=a[b];return k.isFunction(c)?c.call(a):c};k.mixin=function(a){D(k.functions(a),function(b){var c=k[b]=a[b];H.prototype[b]=function(){var a=u.call(arguments);l.call(a,this._wrapped);return M(c.apply(k,a),this._chain)}})};var W=0;k.uniqueId=
function(a){var b=W++;return a?a+b:b};k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/.^/,m={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},ca;for(ca in m)m[m[ca]]=ca;var O=/\\|'|\r|\n|\t|\u2028|\u2029/g,ja=/\\(\\|'|r|n|t|u2028|u2029)/g,ea=function(a){return a.replace(ja,function(a,b){return m[b]})};k.template=function(a,b,c){c=k.defaults(c||{},k.templateSettings);a="__p+='"+a.replace(O,function(a){return"\\"+m[a]}).replace(c.escape||
P,function(a,b){return"'+\n_.escape("+ea(b)+")+\n'"}).replace(c.interpolate||P,function(a,b){return"'+\n("+ea(b)+")+\n'"}).replace(c.evaluate||P,function(a,b){return"';\n"+ea(b)+"\n;__p+='"})+"';\n";c.variable||(a="with(obj||{}){\n"+a+"}\n");a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n";var d=new Function(c.variable||"obj","_",a);if(b)return d(b,k);b=function(a){return d.call(this,a,k)};b.source="function("+(c.variable||"obj")+"){\n"+a+"}";
return b};k.chain=function(a){return k(a).chain()};var H=function(a){this._wrapped=a};k.prototype=H.prototype;var M=function(a,b){return b?k(a).chain():a};k.mixin(k);D("pop push reverse shift sort splice unshift".split(" "),function(a){var b=f[a];H.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;("shift"==a||"splice"==a)&&0===d&&delete c[0];return M(c,this._chain)}});D(["concat","join","slice"],function(a){var b=f[a];H.prototype[a]=function(){return M(b.apply(this._wrapped,
arguments),this._chain)}});H.prototype.chain=function(){this._chain=!0;return this};H.prototype.value=function(){return this._wrapped}}).call(this);
(function(){function a(a,b){return"!"!==a[0][0]?'<a href="'+q(b.href)+'"'+(b.title?' title="'+q(b.title)+'"':"")+">"+w.lexer(a[1])+"</a>":'<img src="'+q(b.href)+'" alt="'+q(a[1])+'"'+(b.title?' title="'+q(b.title)+'"':"")+">"}function b(){return I=X.pop()}function c(){switch(I.type){case "space":return"";case "hr":return"<hr>\n";case "heading":return"<h"+I.depth+">"+w.lexer(I.text)+"</h"+I.depth+">\n";case "code":return Q.highlight&&(I.code=Q.highlight(I.text,I.lang),null!=I.code&&I.code!==I.text&&
(I.escaped=!0,I.text=I.code)),I.escaped||(I.text=q(I.text,!0)),"<pre><code"+(I.lang?' class="lang-'+I.lang+'"':"")+">"+I.text+"</code></pre>\n";case "blockquote_start":for(var a="";"blockquote_end"!==b().type;)a+=c();return"<blockquote>\n"+a+"</blockquote>\n";case "list_start":for(var f=I.ordered?"ol":"ul",a="";"list_end"!==b().type;)a+=c();return"<"+f+">\n"+a+"</"+f+">\n";case "list_item_start":for(a="";"list_item_end"!==b().type;)a+="text"===I.type?d():c();return"<li>"+a+"</li>\n";case "loose_item_start":for(a=
"";"list_item_end"!==b().type;)a+=c();return"<li>"+a+"</li>\n";case "html":return Q.sanitize?w.lexer(I.text):!I.pre&&!Q.pedantic?w.lexer(I.text):I.text;case "paragraph":return"<p>"+w.lexer(I.text)+"</p>\n";case "text":return"<p>"+d()+"</p>\n"}}function d(){for(var a=I.text,c;(c=X[X.length-1])&&"text"===c.type;)a+="\n"+b().text;return w.lexer(a)}function f(a){X=a.reverse();for(a="";b();)a+=c();I=X=null;return a}function q(a,b){return a.replace(!b?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(a){for(var b="",c=a.length,d=0,f;d<c;d++)f=a.charCodeAt(d),0.5<Math.random()&&(f="x"+f.toString(16)),b+="&#"+f+";";return b}function l(){return"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b"}function s(a,b){a=a.source;b=b||"";return function ga(c,d){if(!c)return RegExp(a,b);a=a.replace(c,d.source||d);return ga}}function S(){}function U(a,
b){T(b);return f(z.lexer(a))}function T(a){a||(a=J);Q!==a&&(Q=a,Q.gfm?(z.fences=z.gfm.fences,z.paragraph=z.gfm.paragraph,w.text=w.gfm.text,w.url=w.gfm.url):(z.fences=z.normal.fences,z.paragraph=z.normal.paragraph,w.text=w.normal.text,w.url=w.normal.url),Q.pedantic?(w.em=w.pedantic.em,w.strong=w.pedantic.strong):(w.em=w.normal.em,w.strong=w.normal.strong))}var z={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:S,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,
blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};z.item=s(z.item,"gm")(/bull/g,z.bullet)();z.list=s(z.list)(/bull/g,z.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();z.html=s(z.html)("comment",
/\x3c!--[^\0]*?--\x3e/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,l())();var F=z,V;V=z.paragraph.source;var E=[];(function D(a){a=z[a]?z[a].source:a;E.push(a.replace(/(^|[^\[])\^/g,"$1"));return D})("hr")("heading")("lheading")("blockquote")("<"+l())("def");V=RegExp(V.replace("body",E.join("|")));F.paragraph=V;z.normal={fences:z.fences,paragraph:z.paragraph};z.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/};z.gfm.paragraph=
s(z.paragraph)("(?!","(?!"+z.gfm.fences.source.replace(/(^|[^\[])\^/g,"$2")+"|")();z.lexer=function(a){var b=[];b.links={};a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return z.token(a,b,!0)};z.token=function(a,b,c){a=a.replace(/^ +$/gm,"");for(var d,f,m,l,s,q;a;){if(m=z.newline.exec(a))a=a.substring(m[0].length),1<m[0].length&&b.push({type:"space"});if(m=z.code.exec(a))a=a.substring(m[0].length),m=m[0].replace(/^ {4}/gm,""),b.push({type:"code",text:!Q.pedantic?m.replace(/\n+$/,""):m});else if(m=
z.fences.exec(a))a=a.substring(m[0].length),b.push({type:"code",lang:m[2],text:m[3]});else if(m=z.heading.exec(a))a=a.substring(m[0].length),b.push({type:"heading",depth:m[1].length,text:m[2]});else if(m=z.lheading.exec(a))a=a.substring(m[0].length),b.push({type:"heading",depth:"="===m[2]?1:2,text:m[1]});else if(m=z.hr.exec(a))a=a.substring(m[0].length),b.push({type:"hr"});else if(m=z.blockquote.exec(a))a=a.substring(m[0].length),b.push({type:"blockquote_start"}),m=m[0].replace(/^ *> ?/gm,""),z.token(m,
b,c),b.push({type:"blockquote_end"});else if(m=z.list.exec(a)){a=a.substring(m[0].length);b.push({type:"list_start",ordered:isFinite(m[2])});m=m[0].match(z.item);d=!1;q=m.length;for(s=0;s<q;s++)l=m[s],f=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(f-=l.length,l=!Q.pedantic?l.replace(RegExp("^ {1,"+f+"}","gm"),""):l.replace(/^ {1,4}/gm,"")),f=d||/\n\n(?!\s*$)/.test(l),s!==q-1&&(d="\n"===l[l.length-1],f||(f=d)),b.push({type:f?"loose_item_start":"list_item_start"}),z.token(l,b),
b.push({type:"list_item_end"});b.push({type:"list_end"})}else if(m=z.html.exec(a))a=a.substring(m[0].length),b.push({type:"html",pre:"pre"===m[1],text:m[0]});else if(c&&(m=z.def.exec(a)))a=a.substring(m[0].length),b.links[m[1].toLowerCase()]={href:m[2],title:m[3]};else if(c&&(m=z.paragraph.exec(a)))a=a.substring(m[0].length),b.push({type:"paragraph",text:m[0]});else if(m=z.text.exec(a))a=a.substring(m[0].length),b.push({type:"text",text:m[0]})}return b};var w={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,
autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:S,tag:/^\x3c!--[^\0]*?--\x3e|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_linkInside:/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,_linkHref:/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/};
w.link=s(w.link)("inside",w._linkInside)("href",w._linkHref)();w.reflink=s(w.reflink)("inside",w._linkInside)();w.normal={url:w.url,strong:w.strong,em:w.em,text:w.text};w.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};w.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};w.lexer=function(b){for(var c="",d=X.links,f,l;b;)if(l=w.escape.exec(b))b=b.substring(l[0].length),
c+=l[1];else if(l=w.autolink.exec(b))b=b.substring(l[0].length),"@"===l[2]?(f=":"===l[1][6]?u(l[1].substring(7)):u(l[1]),l=u("mailto:")+f):l=f=q(l[1]),c+='<a href="'+l+'">'+f+"</a>";else if(l=w.url.exec(b))b=b.substring(l[0].length),l=f=q(l[1]),c+='<a href="'+l+'">'+f+"</a>";else if(l=w.tag.exec(b))b=b.substring(l[0].length),c+=Q.sanitize?q(l[0]):l[0];else if(l=w.link.exec(b))b=b.substring(l[0].length),c+=a(l,{href:l[2],title:l[3]});else if((l=w.reflink.exec(b))||(l=w.nolink.exec(b)))b=b.substring(l[0].length),
f=(l[2]||l[1]).replace(/\s+/g," "),f=d[f.toLowerCase()],!f||!f.href?(c+=l[0][0],b=l[0].substring(1)+b):c+=a(l,f);else if(l=w.strong.exec(b))b=b.substring(l[0].length),c+="<strong>"+w.lexer(l[2]||l[1])+"</strong>";else if(l=w.em.exec(b))b=b.substring(l[0].length),c+="<em>"+w.lexer(l[2]||l[1])+"</em>";else if(l=w.code.exec(b))b=b.substring(l[0].length),c+="<code>"+q(l[2],!0)+"</code>";else if(l=w.br.exec(b))b=b.substring(l[0].length),c+="<br>";else if(l=w.text.exec(b))b=b.substring(l[0].length),c+=
q(l[0]);return c};var X,I;S.exec=S;var Q,J;U.options=U.setOptions=function(a){J=a;T(a);return U};U.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null});U.parser=function(a,b){T(b);return f(a)};U.lexer=function(a,b){T(b);return z.lexer(a)};U.parse=U;"undefined"!==typeof module?module.exports=U:this.marked=U}).call(function(){return this||("undefined"!==typeof window?window:global)}());
function natural_sort(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,q=/^0x[0-9a-f]+$/i,u=/^0/,l=(natural_sort.insensitive&&(""+a).toLowerCase()||""+a).replace(d,"")||"",s=(natural_sort.insensitive&&(""+b).toLowerCase()||""+b).replace(d,"")||"",d=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=s.replace(c,"\x00$1\x00").replace(/\0$/,
"").replace(/^\0/,"").split("\x00"),l=parseInt(l.match(q))||1!=d.length&&l.match(f)&&Date.parse(l);if(f=parseInt(s.match(q))||l&&s.match(f)&&Date.parse(s)||null){if(l<f)return-1;if(l>f)return 1}l=0;for(s=Math.max(d.length,c.length);l<s;l++){f=!(d[l]||"").match(u)&&parseFloat(d[l])||d[l]||0;q=!(c[l]||"").match(u)&&parseFloat(c[l])||c[l]||0;if(isNaN(f)!==isNaN(q))return isNaN(f)?1:-1;typeof f!==typeof q&&(f+="",q+="");if(f<q)return-1;if(f>q)return 1}return 0}
(function(){var a={},b=window,c=b.document,d;a.disabled=!1;a.set=function(){};a.get=function(){};a.remove=function(){};a.clear=function(){};a.transact=function(b,c,d){var f=a.get(b);null==d&&(d=c,c=null);"undefined"==typeof f&&(f=c||{});d(f);a.set(b,f)};a.getAll=function(){};a.serialize=function(a){return JSON.stringify(a)};a.deserialize=function(a){return"string"!=typeof a?void 0:JSON.parse(a)};var f;try{f="localStorage"in b&&b.localStorage}catch(q){f=!1}if(f)d=b.localStorage,a.set=function(b,c){if(void 0===
c)return a.remove(b);d.setItem(b,a.serialize(c))},a.get=function(b){return a.deserialize(d.getItem(b))},a.remove=function(a){d.removeItem(a)},a.clear=function(){d.clear()},a.getAll=function(){for(var b={},c=0;c<d.length;++c){var f=d.key(c);b[f]=a.get(f)}return b};else{var u;try{u="globalStorage"in b&&b.globalStorage&&b.globalStorage[b.location.hostname]}catch(l){u=!1}if(u)d=b.globalStorage[b.location.hostname],a.set=function(b,c){if(void 0===c)return a.remove(b);d[b]=a.serialize(c)},a.get=function(b){return a.deserialize(d[b]&&
d[b].value)},a.remove=function(a){delete d[a]},a.clear=function(){for(var a in d)delete d[a]},a.getAll=function(){for(var b={},c=0;c<d.length;++c){var f=d.key(c);b[f]=a.get(f)}return b};else if(c.documentElement.addBehavior){var s,S;try{S=new ActiveXObject("htmlfile"),S.open(),S.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>'),S.close(),s=S.w.frames[0].document,d=s.createElement("div")}catch(U){d=c.createElement("div"),s=c.body}var b=function(b){return function(){var c=
Array.prototype.slice.call(arguments,0);c.unshift(d);s.appendChild(d);d.addBehavior("#default#userData");d.load("localStorage");c=b.apply(a,c);s.removeChild(d);return c}},T=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;a.set=b(function(b,c,d){c=c.replace(T,"___");if(void 0===d)return a.remove(c);b.setAttribute(c,a.serialize(d));b.save("localStorage")});a.get=b(function(b,c){c=c.replace(T,"___");return a.deserialize(b.getAttribute(c))});a.remove=b(function(a,b){b=b.replace(T,"___");a.removeAttribute(b);a.save("localStorage")});
a.clear=b(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,d;d=b[c];c++)a.removeAttribute(d.name);a.save("localStorage")});a.getAll=b(function(b){var c=b.XMLDocument.documentElement.attributes;b.load("localStorage");b={};for(var d=0,f;f=c[d];++d)b[f]=a.get(f);return b})}}try{a.set("__storejs__","__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(z){a.disabled=!0}a.enabled=!a.disabled;"undefined"!=typeof module&&
"function"!=typeof module?module.exports=a:"function"===typeof define&&define.amd?define(a):this.store=a})();if("undefined"===typeof Events)var Events={};Events.slide={};Events.slide.timeout=!1;Events.slide.target=!1;Events.slide.started=!1;Events.slide.mouseDelay=70;Events.slide.mousedown=null;Events.slide.mouseThreshold=4;Events.slide.touchstart=null;Events.slide.touchThreshold=20;
Events.slide.onMouseMove=function(a){var b=Events.slide.mousedown;if(!b)return!0;var c=Events.slide.target;if(Events.slide.started)return $(c).trigger("slide",a),!0;if(1!=a.which||(new Date).getTime()-b.timeStamp<Events.slide.mouseDelay)return!0;var d=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(d+b<Events.slide.mouseThreshold)return!0;$(c).trigger("slidestart",a);Events.slide.started=!0};Events.slide.onMouseDown=function(a){Events.slide.mousedown=a;Events.slide.target=a.target};
Events.slide.onMouseUp=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.target).trigger("slideend",a));Events.slide.mousedown=!1;return!0};Events.slide.onTouchStart=function(a){Events.slide.touchstart=a;Events.slide.target=a.target};Events.slide.onTouchEnd=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.touchstart.target).trigger("slideend",a));return!0};
Events.slide.onTouchMove=function(a){var b=Events.slide.touchstart,c=Events.slide.target;if((new Date).getTime()-b.timeStamp<Events.slide.delay)return!0;var d=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(d+b<Events.slide.threshold)return!0;if(Events.slide.started)return $(c).trigger("slide",a),!0;$(c).trigger("slidestart",a);Events.slide.started=!0};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.slide.onTouchStart,!0),document.addEventListener("touchmove",Events.slide.onTouchMove,!0),document.addEventListener("touchend",Events.slide.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.slide.onMouseDown,!0),document.addEventListener("mousemove",Events.slide.onMouseMove,!0),document.addEventListener("mouseup",Events.slide.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.tap={};Events.tap.mouseTime=750;Events.tap.mousedown=null;Events.tap.maxMouseDistance=8;Events.tap.onMouseDown=function(a){Events.tap.mousedown=a};Events.tap.onMouseUp=function(a){var b=Events.tap.mousedown;if(a.timeStamp-b.timeStamp>Events.tap.mouseTime||a.target!==b.target)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b>Events.tap.maxMouseDistance)return!0;if(Events.tap.onPass)Events.tap.onPass(a);$(a.target).trigger("tap")};Events.tap.touchstart=null;
Events.tap.maxTouchDistance=20;Events.tap.onTouchStart=function(a){Events.tap.touchstart=a};Events.tap.onTouchEnd=function(a){var b=Events.tap.touchstart;if(a.timeStamp-b.timeStamp>Events.tap.maxTime||a.target!==b.target)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b>Events.tap.maxTouchDistance)return!0;$(a.target).trigger("tap")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.tap.onTouchStart,!0),document.addEventListener("touchend",Events.tap.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.tap.onMouseDown,!0),document.addEventListener("mouseup",Events.tap.onMouseUp,!0));$(document).on("keydown","input",function(a){if(13!==a.keyCode)return!0;$(this).trigger("enterkey")});"undefined"===typeof Events&&(Events={});Events.hold={};Events.hold.mousetime=750;
Events.hold.touchtime=1E3;Events.hold.mousedown=null;Events.hold.target=!1;Events.hold.maxMouseDistance=8;Events.hold.timeout=!1;Events.hold.onMouseDown=function(a){if(1!==a.which)return!0;Events.hold.mousedown=a;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireMouse()",Events.hold.mousetime)};Events.hold.onMouseMove=function(a){Events.hold.mousemove=a};Events.hold.onMouseUp=function(){Events.hold.mousedown=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireMouse=function(){var a=Events.hold.mousedown,b=Events.hold.mousemove;if(!Events.hold.mousedown)return!0;var c=Math.abs(b.screenX-a.screenX),a=Math.abs(b.screenY-a.screenY);if(c+a>Events.hold.maxMouseDistance)return!0;$(Events.hold.target).trigger("hold")};Events.hold.touchstart=null;Events.hold.maxTouchDistance=8;
Events.hold.onTouchStart=function(a){Events.hold.touchstart=a;Events.hold.touchmove=a;Events.hold.startX=a.touches[0].pageX;Events.hold.startY=a.touches[0].pageY;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireTouch()",Events.hold.touchtime)};Events.hold.onTouchMove=function(a){console.log(Events.hold.touchstart.touches[0].pageX);Events.hold.touchmove=a};Events.hold.onTouchEnd=function(){Events.hold.touchstart=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireTouch=function(){var a=Events.hold.touchmove,b=Math.abs(a.touches[0].pageX-Events.hold.startX),a=Math.abs(a.touches[0].pageY-Events.hold.startY);if(b+a>Events.hold.maxTouchDistance)return!0;$(Events.hold.target).trigger("hold")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.hold.onTouchStart,!0),document.addEventListener("touchend",Events.hold.onTouchEnd,!0),document.addEventListener("touchmove",Events.hold.onTouchMove,!0)):(document.addEventListener("mousedown",Events.hold.onMouseDown,!0),document.addEventListener("mousemove",Events.hold.onMouseMove,!0),document.addEventListener("mouseup",Events.hold.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.shortcut={};Events.shortcut.context="";Events.shortcut.on=!0;Events.shortcut.shortcuts={};
Events.shortcut.fire=function(a){if(!Events.shortcut.on||$("input:focus, div:focus, textarea:focus, a:focus").length||$("div[contenteditable]").get(0)==document.activeElement)return!0;var b=Events.shortcut.string_from_keycode(a.keyCode);a.shiftKey&&(b="shift+"+b);a.metaKey&&(b="meta+"+b);a.ctrlKey&&(b="ctrl+"+b);a.altKey&&(b="alt+"+b);if(Events.shortcut.shortcuts[b]){var c=Events.shortcut.shortcuts[b];"function"===typeof c?c():$(Events.shortcut.context+"#"+c).trigger("tap");if(Events.shortcut.onfire)Events.shortcut.onfire(b);
a.preventDefault()}};
Events.shortcut.string_from_keycode=function(a){var b=String.fromCharCode(a).toLowerCase(),c={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",
121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",190:".",191:"/",224:"meta"};a in c&&(b=c[a]);return b};$(document).on("ready",function(){$(document).on("keydown",Events.shortcut.fire)});
var parseCookie=function(a){var b={};a.split(/[;,] */).forEach(function(a){var d=a.indexOf("="),f=a.substr(0,d).trim();a=a.substr(++d,a.length).trim();'"'==a[0]&&(a=a.slice(1,-1));if(void 0==b[f])try{b[f]=decodeURIComponent(a)}catch(q){b[f]=a}});return b},MoveCursorToEnd=function(a){if(!a)return null;var b;document.createRange&&(b=document.createRange(),b.selectNodeContents(a),b.collapse(!1),a=window.getSelection(),a.removeAllRanges(),a.addRange(b))},io="undefined"===typeof module?{}:module.exports;
(function(){var a=this,b="object"===typeof module?module.exports:this.io={};b.version="0.9.11";b.protocol=1;b.transports=[];b.j=[];b.sockets={};b.connect=function(c,d){var e=b.util.parseUri(c),f,g;a&&a.location&&(e.protocol=e.protocol||a.location.protocol.slice(0,-1),e.host=e.host||(a.document?a.document.domain:a.location.hostname),e.port=e.port||a.location.port);f=b.util.uniqueUri(e);var k={host:e.host,secure:"https"==e.protocol,port:e.port||("https"==e.protocol?443:80),query:e.query||""};b.util.merge(k,
d);if(k["force new connection"]||!b.sockets[f])g=new b.Socket(k);!k["force new connection"]&&g&&(b.sockets[f]=g);g=g||b.sockets[f];return g.of(1<e.path.length?e.path:"")};var c=this,d=("undefined"!=typeof io?io:module.exports).util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,q="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
d.parseUri=function(a){a=f.exec(a||"");for(var b={},c=14;c--;)b[q[c]]=a[c]||"";return b};d.uniqueUri=function(a){var b=a.protocol,e=a.host;a=a.port;"document"in c?(e=e||document.domain,a=a||("https"==b&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",!a&&"https"==b&&(a=443));return(b||"http")+"://"+e+":"+(a||80)};d.query=function(a,b){var c=d.chunkQuery(a||""),e=[];d.merge(c,d.chunkQuery(b||""));for(var f in c)c.hasOwnProperty(f)&&e.push(f+"="+c[f]);return e.length?
"?"+e.join("&"):""};d.chunkQuery=function(a){var b={};a=a.split("&");for(var c=0,e=a.length,d;c<e;++c)d=a[c].split("="),d[0]&&(b[d[0]]=d[1]);return b};var u=!1;d.load=function(a){if("document"in c&&"complete"===document.readyState||u)return a();d.on(c,"load",a,!1)};d.on=function(a,b,c,e){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,e)};d.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!d.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||d.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null};"undefined"!=typeof window&&d.load(function(){u=!0});d.defer=function(a){if(!d.ua.webkit||"undefined"!=typeof importScripts)return a();d.load(function(){setTimeout(a,100)})};d.merge=function(a,b,c,e){e=e||[];c="undefined"==typeof c?2:c;for(var f in b)b.hasOwnProperty(f)&&0>d.indexOf(e,f)&&("object"!==typeof a[f]||!c?(a[f]=b[f],e.push(b[f])):
d.merge(a[f],b[f],c-1,e));return a};d.mixin=function(a,b){d.merge(a.prototype,b.prototype)};d.inherit=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c};d.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.intersect=function(a,b){for(var c=[],e=a.length>b.length?a:b,f=a.length>b.length?b:a,g=0,k=f.length;g<k;g++)~d.indexOf(e,f[g])&&c.push(f[g]);return c};d.indexOf=function(a,b,c){var e=a.length;for(c=0>c?0>c+e?0:c+e:c||0;c<e&&a[c]!==
b;c++);return e<=c?-1:c};d.toArray=function(a){for(var b=[],c=0,e=a.length;c<e;c++)b.push(a[c]);return b};d.ua={};var l=d.ua,s;if(s="undefined"!=typeof XMLHttpRequest)a:{try{var S=new XMLHttpRequest}catch(U){s=!1;break a}s=void 0!=S.withCredentials}l.hasCORS=s;d.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);d.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var T="undefined"!=typeof io?io:module.parent.exports,l=function(){};("undefined"!=
typeof io?io:module.exports).EventEmitter=l;l.prototype.on=function(a,b){this.$events||(this.$events={});this.$events[a]?T.util.isArray(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b;return this};l.prototype.addListener=l.prototype.on;l.prototype.once=function(a,b){function c(){e.removeListener(a,c);b.apply(this,arguments)}var e=this;c.listener=b;this.on(a,c);return this};l.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var c=
this.$events[a];if(T.util.isArray(c)){for(var e=-1,d=0,f=c.length;d<f;d++)if(c[d]===b||c[d].listener&&c[d].listener===b){e=d;break}if(0>e)return this;c.splice(e,1);c.length||delete this.$events[a]}else(c===b||c.listener&&c.listener===b)&&delete this.$events[a]}return this};l.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};l.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||
(this.$events[a]=[]);T.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};l.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var c=Array.prototype.slice.call(arguments,1);if("function"==typeof b)b.apply(this,c);else if(T.util.isArray(b))for(var b=b.slice(),e=0,d=b.length;e<d;e++)b[e].apply(this,c);else return!1;return!0};(function(a,b){function c(a){return 10>a?"0"+a:a}function e(a){k.lastIndex=0;return k.test(a)?'"'+
a.replace(k,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,b){var h,f,p,g,k=v,m,s=b[a];s instanceof Date&&(s=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":null);"function"===typeof n&&(s=n.call(b,a,s));switch(typeof s){case "string":return e(s);case "number":return isFinite(s)?String(s):"null";
case "boolean":case "null":return String(s);case "object":if(!s)return"null";v+=l;m=[];if("[object Array]"===Object.prototype.toString.apply(s)){g=s.length;for(h=0;h<g;h+=1)m[h]=d(h,s)||"null";p=0===m.length?"[]":v?"[\n"+v+m.join(",\n"+v)+"\n"+k+"]":"["+m.join(",")+"]";v=k;return p}if(n&&"object"===typeof n){g=n.length;for(h=0;h<g;h+=1)"string"===typeof n[h]&&(f=n[h],(p=d(f,s))&&m.push(e(f)+(v?": ":":")+p))}else for(f in s)Object.prototype.hasOwnProperty.call(s,f)&&(p=d(f,s))&&m.push(e(f)+(v?": ":
":")+p);p=0===m.length?"{}":v?"{\n"+v+m.join(",\n"+v)+"\n"+k+"}":"{"+m.join(",")+"}";v=k;return p}}if(b&&b.parse)return a.JSON={parse:b.parse,stringify:b.stringify};var f=a.JSON={},g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v,l,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;
f.stringify=function(a,b,c){var e;l=v="";if("number"===typeof c)for(e=0;e<c;e+=1)l+=" ";else"string"===typeof c&&(l=c);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":a})};f.parse=function(a,b){function c(a,e){var d,h,f=a[e];if(f&&"object"===typeof f)for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&(h=c(f,d),void 0!==h?f[d]=h:delete f[d]);return b.call(a,e,f)}var e;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var l="undefined"!=typeof io?io:module.parent.exports,
z=("undefined"!=typeof io?io:module.exports).parser={},F=z.packets="disconnect connect heartbeat message json event ack error noop".split(" "),V=z.reasons=["transport not supported","client not handshaken","unauthorized"],E=z.advice=["reconnect"],w=l.JSON,X=l.util.indexOf;z.encodePacket=function(a){var b=X(F,a.type),c=a.id||"",e=a.endpoint||"",d=a.ack,f=null;switch(a.type){case "error":var g=a.reason?X(V,a.reason):"";a=a.advice?X(E,a.advice):"";if(""!==g||""!==a)f=g+(""!==a?"+"+a:"");break;case "message":""!==
a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=w.stringify(f);break;case "json":f=w.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+w.stringify(a.args):"")}b=[b,c+("data"==d?"+":""),e];null!==f&&void 0!==f&&b.push(f);return b.join(":")};z.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,e=a.length;c<e;c++)b+="\ufffd"+a[c].length+"\ufffd"+a[c];return b};var I=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
z.decodePacket=function(a){var b=a.match(I);if(!b)return{};var c=b[2]||"";a=b[5]||"";var e={type:F[b[1]],endpoint:b[4]||""};c&&(e.id=c,e.ack=b[3]?"data":!0);switch(e.type){case "error":b=a.split("+");e.reason=V[b[0]]||"";e.advice=E[b[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var d=w.parse(a);e.name=d.name;e.args=d.args}catch(f){}e.args=e.args||[];break;case "json":try{e.data=w.parse(a)}catch(g){}break;case "connect":e.qs=a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(e.ackId=
b[1],e.args=[],b[3])try{e.args=b[3]?w.parse(b[3]):[]}catch(k){}}return e};z.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var b=[],c=1,e="";c<a.length;c++)"\ufffd"==a.charAt(c)?(b.push(z.decodePacket(a.substr(c+1).substr(0,e))),c+=Number(e)+1,e=""):e+=a.charAt(c);return b}return[z.decodePacket(a)]};var Q="undefined"!=typeof io?io:module.parent.exports,l=function(a,b){this.socket=a;this.sessid=b};("undefined"!=typeof io?io:module.exports).Transport=l;Q.util.mixin(l,Q.EventEmitter);l.prototype.heartbeats=
function(){return!0};l.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=Q.parser.decodePayload(a))&&a.length)for(var b=0,c=a.length;b<c;b++)this.onPacket(a[b]);return this};l.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=
!1);this.socket.onPacket(a);return this};l.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};l.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};l.prototype.onConnect=function(){this.socket.onConnect();return this};l.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=
null)};l.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};l.prototype.packet=function(a){this.send(Q.parser.encodePacket(a))};l.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};l.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};l.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};l.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+
"://"+a.host+":"+a.port+"/"+a.resource+"/"+Q.protocol+"/"+this.name+"/"+this.sessid};l.prototype.ready=function(a,b){b.call(this)};var J="undefined"!=typeof io?io:module.parent.exports,k=this,l=function(a){this.options={port:80,secure:!1,document:"document"in k?document:!1,resource:"socket.io",transports:J.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};J.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||J.util.ua.hasCORS)){var b=this;J.util.on(k,"beforeunload",function(){b.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},D=function(){};("undefined"!=typeof io?io:module.exports).Socket=l;J.util.mixin(l,J.EventEmitter);
l.prototype.of=function(a){this.namespaces[a]||(this.namespaces[a]=new J.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};l.prototype.publish=function(){this.emit.apply(this,arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};l.prototype.handshake=function(a){function b(e){e instanceof Error?(c.connecting=!1,c.onError(e.message)):a.apply(null,e.split(":"))}var c=this,e=this.options,
e=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,J.protocol,J.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!J.util.ua.hasCORS){var d=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=e+"&jsonp="+J.j.length;d.parentNode.insertBefore(f,d);J.j.push(function(a){b(a);f.parentNode.removeChild(f)})}else{var g=J.util.request();g.open("GET",e,!0);this.isXDomain()&&(g.withCredentials=!0);g.onreadystatechange=function(){if(4==g.readyState)if(g.onreadystatechange=
D,200==g.status)b(g.responseText);else if(403==g.status)c.onError(g.responseText);else c.connecting=!1,!c.reconnecting&&c.onError(g.responseText)};g.send(null)}};l.prototype.getTransport=function(a){a=a||this.transports;for(var b=0,c;c=a[b];b++)if(J.Transport[c]&&J.Transport[c].check(this)&&(!this.isXDomain()||J.Transport[c].xdomainCheck(this)))return new J.Transport[c](this,this.sessionid);return null};l.prototype.connect=function(a){if(this.connecting)return this;var b=this;b.connecting=!0;this.handshake(function(c,
e,d,f){function g(a){b.transport&&b.transport.clearTimeouts();b.transport=b.getTransport(a);if(!b.transport)return b.publish("connect_failed");b.transport.ready(b,function(){b.connecting=!0;b.publish("connecting",b.transport.name);b.transport.open();b.options["connect timeout"]&&(b.connectTimeoutTimer=setTimeout(function(){if(!b.connected&&(b.connecting=!1,b.options["try multiple transports"])){for(var a=b.transports;0<a.length&&a.splice(0,1)[0]!=b.transport.name;);a.length?g(a):b.publish("connect_failed")}},
b.options["connect timeout"]))})}b.sessionid=c;b.closeTimeout=1E3*d;b.heartbeatTimeout=1E3*e;b.transports||(b.transports=b.origTransports=f?J.util.intersect(f.split(","),b.options.transports):b.options.transports);b.setHeartbeatTimeout();g(b.transports);b.once("connect",function(){clearTimeout(b.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};l.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};l.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};l.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};l.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};l.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};l.prototype.disconnectSync=function(){var a=J.util.request(),b=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,J.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",b,!1);a.send(null);this.onDisconnect("booted")};l.prototype.isXDomain=function(){var a=k.location.port||("https:"==k.location.protocol?443:80);return this.options.host!==
k.location.hostname||this.options.port!=a};l.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};l.prototype.onOpen=function(){this.open=!0};l.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};l.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};l.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),
this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};l.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};l.prototype.reconnect=function(){function a(){if(c.connected){for(var e in c.namespaces)c.namespaces.hasOwnProperty(e)&&""!==
e&&c.namespaces[e].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=d}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,
1E3);c.reconnectionAttempts++>=e?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<f&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var c=this,e=this.options["max reconnection attempts"],d=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)};var Y="undefined"!=typeof io?io:module.parent.exports,l=function(a,b){this.socket=a;this.name=b||"";this.flags={};this.json=new ga(this,"json");this.ackPackets=0;this.acks={}},ga=function(a,b){this.namespace=
a;this.name=b};("undefined"!=typeof io?io:module.exports).SocketNamespace=l;Y.util.mixin(l,Y.EventEmitter);l.prototype.$emit=Y.EventEmitter.prototype.emit;l.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};l.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};l.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b);return this.packet(c)};
l.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],e={type:"event",name:a};"function"==typeof c&&(e.id=++this.ackPackets,e.ack="data",this.acks[e.id]=c,b=b.slice(0,b.length-1));e.args=b;return this.packet(e)};l.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};l.prototype.onPacket=function(a){function b(){c.packet({type:"ack",args:Y.util.toArray(arguments),ackId:a.id})}
var c=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var e=["message",a.data];"data"==a.ack?e.push(b):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,e);break;case "event":e=[a.name].concat(a.args);"data"==a.ack&&e.push(b);this.$emit.apply(this,e);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};ga.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};ga.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)};var W="undefined"!=typeof io?io:module.parent.exports,P=this,l=function(a){W.Transport.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=l;W.util.inherit(l,W.Transport);l.prototype.name="websocket";l.prototype.open=function(){var a=W.util.query(this.socket.options.query),b=this,c;c||(c=P.MozWebSocket||P.WebSocket);this.websocket=new c(this.prepareUrl()+a);this.websocket.onopen=function(){b.onOpen();b.socket.setBuffer(!1)};this.websocket.onmessage=function(a){b.onData(a.data)};this.websocket.onclose=function(){b.onClose();b.socket.setBuffer(!0)};this.websocket.onerror=
function(a){b.onError(a)};return this};l.prototype.send=W.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};l.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};l.prototype.close=function(){this.websocket.close();return this};l.prototype.onError=function(a){this.socket.onError(a)};l.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};l.check=
function(){return"WebSocket"in P&&!("__addTask"in WebSocket)||"MozWebSocket"in P};l.xdomainCheck=function(){return!0};W.transports.push("websocket");var m="undefined"!=typeof io?io:module.parent.exports,ca=function(){m.Transport.websocket.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).flashsocket=ca;m.util.inherit(ca,m.Transport.websocket);ca.prototype.name="flashsocket";ca.prototype.open=function(){var a=this,b=arguments;WebSocket.__addTask(function(){m.Transport.websocket.prototype.open.apply(a,
b)});return this};ca.prototype.send=function(){var a=this,b=arguments;WebSocket.__addTask(function(){m.Transport.websocket.prototype.send.apply(a,b)});return this};ca.prototype.close=function(){WebSocket.__tasks.length=0;m.Transport.websocket.prototype.close.call(this);return this};ca.prototype.ready=function(a,b){function c(){var d=a.options,f=d["flash policy port"],g=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];
ca.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=g.join("/")),843!==f&&WebSocket.loadFlashPolicyFile("xmlsocket://"+d.host+":"+f),WebSocket.__initialize(),ca.loaded=!0);b.call(e)}var e=this;if(document.body)return c();m.util.load(c)};ca.check=function(){return"undefined"==typeof WebSocket||!("__initialize"in WebSocket)||!O?!1:10<=O.getFlashPlayerVersion().major};ca.xdomainCheck=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=
!0);m.transports.push("flashsocket");if("undefined"!=typeof window){var O,ja=function(){if(!Qa){try{var a=K.getElementsByTagName("body")[0].appendChild(K.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}Qa=!0;for(var a=e.length,c=0;c<a;c++)e[c]()}},ea=function(a){Qa?a():e[e.length]=a},l=function(a){if(typeof Z.addEventListener!=ha)Z.addEventListener("load",a,!1);else if(typeof K.addEventListener!=ha)K.addEventListener("load",a,!1);else if(typeof Z.attachEvent!=ha){var b=Z;b.attachEvent("onload",
a);Za[Za.length]=[b,"onload",a]}else if("function"==typeof Z.onload){var c=Z.onload;Z.onload=function(){c();a()}}else Z.onload=a},H=function(){var a=Da.length;if(0<a)for(var b=0;b<a;b++){var c=Da[b].id,e=Da[b].callbackFn,d={success:!1,id:c};if(0<G.pv[0]){var f=fa(c);if(f)if(Wa(Da[b].swfVersion)&&!(G.wk&&312>G.wk))sa(c,!0),e&&(d.success=!0,d.ref=M(c),e(d));else if(Da[b].expressInstall&&g()){d={};d.data=Da[b].expressInstall;d.width=f.getAttribute("width")||"0";d.height=f.getAttribute("height")||"0";
f.getAttribute("class")&&(d.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(d.align=f.getAttribute("align"));for(var k={},f=f.getElementsByTagName("param"),v=f.length,l=0;l<v;l++)"movie"!=f[l].getAttribute("name").toLowerCase()&&(k[f[l].getAttribute("name")]=f[l].getAttribute("value"));x(d,k,c,e)}else n(f),e&&e(d)}else if(sa(c,!0),e){if((c=M(c))&&typeof c.SetVariable!=ha)d.success=!0,d.ref=c;e(d)}}},M=function(a){var b=null;if((a=fa(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=ha?
b=a:(a=a.getElementsByTagName(ta)[0])&&(b=a);return b},g=function(){return!ob&&Wa("6.0.65")&&(G.win||G.mac)&&!(G.wk&&312>G.wk)},x=function(a,b,c,e){ob=!0;Gb=e||null;Pb={success:!1,id:c};var d=fa(c);if(d){"OBJECT"==d.nodeName?(gb=r(d),hb=null):(gb=d,hb=c);a.id=v;if(typeof a.width==ha||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==ha||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";K.title=K.title.slice(0,47)+" - Flash Player Installation";e=G.ie&&G.win?
["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL="+Z.location.toString().replace(/&/g,"%26")+"&MMplayerType="+e+"&MMdoctitle="+K.title;b.flashvars=typeof b.flashvars!=ha?b.flashvars+("&"+e):e;G.ie&&(G.win&&4!=d.readyState)&&(e=K.createElement("div"),c+="SWFObjectNew",e.setAttribute("id",c),d.parentNode.insertBefore(e,d),d.style.display="none",function(){4==d.readyState?d.parentNode.removeChild(d):setTimeout(arguments.callee,10)}());L(a,b,c)}},n=function(a){if(G.ie&&G.win&&4!=a.readyState){var b=
K.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(r(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(r(a),a)},r=function(a){var b=K.createElement("div");if(G.win&&G.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(ta)[0])if(a=a.childNodes)for(var c=a.length,e=0;e<c;e++)!(1==a[e].nodeType&&"PARAM"==a[e].nodeName)&&8!=a[e].nodeType&&b.appendChild(a[e].cloneNode(!0));
return b},L=function(a,b,c){var e,d=fa(c);if(G.wk&&312>G.wk)return e;if(d)if(typeof a.id==ha&&(a.id=c),G.ie&&G.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));g="";for(var k in b)b[k]!=Object.prototype[k]&&(g+='<param name="'+k+'" value="'+b[k]+'" />');d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+g+"</object>";Ba[Ba.length]=
a.id;e=fa(a.id)}else{k=K.createElement(ta);k.setAttribute("type",ka);for(var v in a)a[v]!=Object.prototype[v]&&("styleclass"==v.toLowerCase()?k.setAttribute("class",a[v]):"classid"!=v.toLowerCase()&&k.setAttribute(v,a[v]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=k,g=f,v=b[f],c=K.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",v),a.appendChild(c));d.parentNode.replaceChild(k,d);e=k}return e},A=function(a){var b=fa(a);b&&"OBJECT"==b.nodeName&&(G.ie&&
G.win?(b.style.display="none",function(){if(4==b.readyState){var c=fa(a);if(c){for(var e in c)"function"==typeof c[e]&&(c[e]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},fa=function(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b},Wa=function(a){var b=G.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1},
Xa=function(a,b,c,e){if(!G.ie||!G.mac){var d=K.getElementsByTagName("head")[0];if(d){c=c&&"string"==typeof c?c:"screen";e&&(Hb=Ja=null);if(!Ja||Hb!=c)e=K.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",c),Ja=d.appendChild(e),G.ie&&(G.win&&typeof K.styleSheets!=ha&&0<K.styleSheets.length)&&(Ja=K.styleSheets[K.styleSheets.length-1]),Hb=c;G.ie&&G.win?Ja&&typeof Ja.addRule==ta&&Ja.addRule(a,b):Ja&&typeof K.createTextNode!=ha&&Ja.appendChild(K.createTextNode(a+" {"+b+"}"))}}},
sa=function(a,b){if(Qb){var c=b?"visible":"hidden";Qa&&fa(a)?fa(a).style.visibility=c:Xa("#"+a,"visibility:"+c)}},Ca=function(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=ha?encodeURIComponent(a):a},ha="undefined",ta="object",ka="application/x-shockwave-flash",v="SWFObjectExprInst",Z=window,K=document;s=navigator;var Ya=!1,e=[function(){if(Ya){var a=K.getElementsByTagName("body")[0],b=K.createElement(ta);b.setAttribute("type",ka);var c=a.appendChild(b);if(c){var e=0;(function(){if(typeof c.GetVariable!=
ha){var d=c.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),G.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;H()})()}else H()}else H()}],Da=[],Ba=[],Za=[],gb,hb,Gb,Pb,Qa=!1,ob=!1,Ja,Hb,Qb=!0,G,S=typeof K.getElementById!=ha&&typeof K.getElementsByTagName!=ha&&typeof K.createElement!=ha,Ra=s.userAgent.toLowerCase(),Sa=s.platform.toLowerCase(),cc=Sa?/win/.test(Sa):/win/.test(Ra),Sa=Sa?/mac/.test(Sa):
/mac/.test(Ra),Ra=/webkit/.test(Ra)?parseFloat(Ra.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,ib=!+"\v1",da=[0,0,0],ia=null;if(typeof s.plugins!=ha&&typeof s.plugins["Shockwave Flash"]==ta){if((ia=s.plugins["Shockwave Flash"].description)&&!(typeof s.mimeTypes!=ha&&s.mimeTypes[ka]&&!s.mimeTypes[ka].enabledPlugin))Ya=!0,ib=!1,ia=ia.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),da[0]=parseInt(ia.replace(/^(.*)\..*$/,"$1"),10),da[1]=parseInt(ia.replace(/^.*\.(.*)\s.*$/,"$1"),10),da[2]=/[a-zA-Z]/.test(ia)?parseInt(ia.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0}else if(typeof Z[["Active"].concat("Object").join("X")]!=ha)try{var R=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");if(R&&(ia=R.GetVariable("$version")))ib=!0,ia=ia.split(" ")[1].split(","),da=[parseInt(ia[0],10),parseInt(ia[1],10),parseInt(ia[2],10)]}catch(na){}G={w3:S,pv:da,wk:Ra,ie:ib,win:cc,mac:Sa};G.w3&&((typeof K.readyState!=ha&&"complete"==K.readyState||typeof K.readyState==ha&&(K.getElementsByTagName("body")[0]||K.body))&&ja(),Qa||(typeof K.addEventListener!=
ha&&K.addEventListener("DOMContentLoaded",ja,!1),G.ie&&G.win&&(K.attachEvent("onreadystatechange",function(){"complete"==K.readyState&&(K.detachEvent("onreadystatechange",arguments.callee),ja())}),Z==top&&function(){if(!Qa){try{K.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}ja()}}()),G.wk&&function(){Qa||(/loaded|complete/.test(K.readyState)?ja():setTimeout(arguments.callee,0))}(),l(ja)));G.ie&&G.win&&window.attachEvent("onunload",function(){for(var a=Za.length,
b=0;b<a;b++)Za[b][0].detachEvent(Za[b][1],Za[b][2]);a=Ba.length;for(b=0;b<a;b++)A(Ba[b]);for(var c in G)G[c]=null;G=null;for(var e in O)O[e]=null;O=null});O={registerObject:function(a,b,c,e){if(G.w3&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c;d.callbackFn=e;Da[Da.length]=d;sa(a,!1)}else e&&e({success:!1,id:a})},getObjectById:function(a){if(G.w3)return M(a)},embedSWF:function(a,b,c,e,d,f,k,v,l,m){var s={success:!1,id:b};G.w3&&!(G.wk&&312>G.wk)&&a&&b&&c&&e&&d?(sa(b,!1),ea(function(){c+=
"";e+="";var n={};if(l&&typeof l===ta)for(var q in l)n[q]=l[q];n.data=a;n.width=c;n.height=e;q={};if(v&&typeof v===ta)for(var r in v)q[r]=v[r];if(k&&typeof k===ta)for(var w in k)q.flashvars=typeof q.flashvars!=ha?q.flashvars+("&"+w+"="+k[w]):w+"="+k[w];if(Wa(d))r=L(n,q,b),n.id==b&&sa(b,!0),s.success=!0,s.ref=r;else{if(f&&g()){n.data=f;x(n,q,b,m);return}sa(b,!0)}m&&m(s)})):m&&m(s)},switchOffAutoHideShow:function(){Qb=!1},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},
hasFlashPlayerVersion:Wa,createSWF:function(a,b,c){if(G.w3)return L(a,b,c)},showExpressInstall:function(a,b,c,e){G.w3&&g()&&x(a,b,c,e)},removeSWF:function(a){G.w3&&A(a)},createCSS:function(a,b,c,e){G.w3&&Xa(a,b,c,e)},addDomLoadEvent:ea,addLoadEvent:l,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return Ca(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return Ca(b[c].substring(b[c].indexOf("=")+
1))}return""},expressInstallCallback:function(){if(ob){var a=fa(v);a&&gb&&(a.parentNode.replaceChild(gb,a),hb&&(sa(hb,!0),G.ie&&G.win&&(gb.style.display="block")),Gb&&Gb(Pb));ob=!1}}}}if(!("undefined"==typeof window||window.WebSocket)){var oa=window.console;if(!oa||!oa.log||!oa.error)oa={log:function(){},error:function(){}};O.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&oa.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),
WebSocket=function(a,b,c,e,d){var f=this;f.__id=WebSocket.__nextId++;WebSocket.__instances[f.__id]=f;f.readyState=WebSocket.CONNECTING;f.bufferedAmount=0;f.__events={};b?"string"==typeof b&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,e||0,d||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,
encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING||(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],e=c.length-1;0<=e;--e)if(c[e]===
b){c.splice(e,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);(b=this["on"+a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.__createSimpleEvent(a.type);else if("close"==a.type)a=this.__createSimpleEvent("close");else if("message"==a.type)a=decodeURIComponent(a.message),a=this.__createMessageEvent("message",
a);else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,b,null,null,window,null);return c}return{type:a,
data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var a=document.createElement("div");
a.id="webSocketContainer";a.style.position="absolute";WebSocket.__isFlashLite()?(a.style.left="0px",a.style.top="0px"):(a.style.left="-100px",a.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";a.appendChild(b);document.body.appendChild(a);O.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||oa.error("[WebSocket] swfobject.embedSWF failed")})}else oa.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(c){oa.error(c)}},
0);return!0},WebSocket.__log=function(a){oa.log(decodeURIComponent(a))},WebSocket.__error=function(a){oa.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):oa.error("Flash Player >= 10.0.0 is required.")}var ua="undefined"!=typeof io?io:module.parent.exports,Ha=this,la=function(a){a&&(ua.Transport.apply(this,arguments),this.sendBuffer=[])},Ma=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=la;ua.util.inherit(la,ua.Transport);la.prototype.open=function(){this.socket.setBuffer(!1);
this.onOpen();this.get();this.setCloseTimeout();return this};la.prototype.payload=function(a){for(var b=[],c=0,e=a.length;c<e;c++)b.push(ua.parser.encodePacket(a[c]));this.send(ua.parser.encodePayload(b))};la.prototype.send=function(a){this.post(a);return this};la.prototype.post=function(a){function b(){if(4==this.readyState)if(this.onreadystatechange=Ma,e.posting=!1,200==this.status)e.socket.setBuffer(!1);else e.onClose()}function c(){this.onload=Ma;e.socket.setBuffer(!1)}var e=this;this.socket.setBuffer(!0);
this.sendXHR=this.request("POST");Ha.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=c:this.sendXHR.onreadystatechange=b;this.sendXHR.send(a)};la.prototype.close=function(){this.onClose();return this};la.prototype.request=function(a){var b=ua.util.request(this.socket.isXDomain()),c=ua.util.query(this.socket.options.query,"t="+ +new Date);b.open(a||"GET",this.prepareUrl()+c,!0);if("POST"==a)try{b.setRequestHeader?b.setRequestHeader("Content-type","text/plain;charset=UTF-8"):
b.contentType="text/plain"}catch(e){}return b};la.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};la.check=function(a,b){try{var c=ua.util.request(b),e=Ha.XDomainRequest&&c instanceof XDomainRequest,d=a&&a.options&&a.options.secure?"https:":"http:",f=Ha.location&&d!=Ha.location.protocol;if(c&&(!e||!f))return!0}catch(g){}return!1};la.xdomainCheck=function(a){return la.check(a,!0)};var qa="undefined"!=typeof io?io:module.parent.exports,R=function(a){qa.Transport.XHR.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=R;qa.util.inherit(R,qa.Transport.XHR);R.prototype.name="htmlfile";R.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var b=this,
a=qa.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;qa.util.on(window,"unload",function(){b.destroy()})};R.prototype._=function(a,b){this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(e){}};R.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};R.prototype.close=function(){this.destroy();
return qa.Transport.XHR.prototype.close.call(this)};R.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&qa.Transport.XHR.check(a)}catch(b){}return!1};R.xdomainCheck=function(){return!1};qa.transports.push("htmlfile");var N="undefined"!=typeof io?io:module.parent.exports,jb=this,R=function(){N.Transport.XHR.apply(this,arguments)},Ga=function(){};("undefined"!=typeof io?io.Transport:
module.exports)["xhr-polling"]=R;N.util.inherit(R,N.Transport.XHR);N.util.merge(R,N.Transport.XHR);R.prototype.name="xhr-polling";R.prototype.heartbeats=function(){return!1};R.prototype.open=function(){N.Transport.XHR.prototype.open.call(this);return!1};R.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=Ga,200==this.status)e.onData(this.responseText),e.get();else e.onClose()}function b(){this.onerror=this.onload=Ga;e.retryCounter=1;e.onData(this.responseText);
e.get()}function c(){e.retryCounter++;if(!e.retryCounter||3<e.retryCounter)e.onClose();else e.get()}if(this.isOpen){var e=this;this.xhr=this.request();jb.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=c):this.xhr.onreadystatechange=a;this.xhr.send(null)}};R.prototype.onClose=function(){N.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=Ga;try{this.xhr.abort()}catch(a){}this.xhr=null}};R.prototype.ready=
function(a,b){var c=this;N.util.defer(function(){b.call(c)})};N.transports.push("xhr-polling");var wa="undefined"!=typeof io?io:module.parent.exports,xa=this,R=function(a){wa.Transport["xhr-polling"].apply(this,arguments);this.index=wa.j.length;var b=this;wa.j.push(function(a){b._(a)})},va=xa.document&&"MozAppearance"in xa.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=R;wa.util.inherit(R,wa.Transport["xhr-polling"]);R.prototype.name="jsonp-polling";
R.prototype.post=function(a){function b(){c();e.socket.setBuffer(!1)}function c(){e.iframe&&e.form.removeChild(e.iframe);try{v=document.createElement('<iframe name="'+e.iframeId+'">')}catch(a){v=document.createElement("iframe"),v.name=e.iframeId}v.id=e.iframeId;e.form.appendChild(v);e.iframe=v}var e=this,d=wa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),g=document.createElement("textarea"),k=this.iframeId="socketio_iframe_"+
this.index,v;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display="none";f.target=k;f.method="POST";f.setAttribute("accept-charset","utf-8");g.name="d";f.appendChild(g);document.body.appendChild(f);this.form=f;this.area=g}this.form.action=this.prepareUrl()+d;c();this.area.value=wa.JSON.stringify(a);try{this.form.submit()}catch(l){}this.iframe.attachEvent?v.onreadystatechange=function(){"complete"==e.iframe.readyState&&b()}:this.iframe.onload=b;this.socket.setBuffer(!0)};
R.prototype.get=function(){var a=this,b=document.createElement("script"),c=wa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.prepareUrl()+c;b.onerror=function(){a.onClose()};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;va&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},
100)};R.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};R.prototype.ready=function(a,b){var c=this;if(!va)return b.call(this);wa.util.load(function(){b.call(c)})};R.check=function(){return"document"in xa};R.xdomainCheck=function(){return!0};wa.transports.push("jsonp-polling");"function"===typeof define&&define.amd&&define([],function(){return io})})();
(function(a){function b(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function c(a,b){return function(c){return l(a.call(this,c),b)}}function d(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function f(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function q(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,g=a.hours||a.h||0,k=a.minutes||a.m||0,l=a.seconds||a.s||0;a=a.milliseconds||a.ms||0;this._milliseconds=
a+1E3*l+6E4*k+36E5*g;this._days=f+7*e;this._months=d+12*c;b.milliseconds=a%1E3;l+=u(a/1E3);b.seconds=l%60;k+=u(l/60);b.minutes=k%60;g+=u(k/60);b.hours=g%24;f+=u(g/24);f+=7*e;b.days=f%30;d+=u(f/30);b.months=d%12;c+=u(d/12);b.years=c;this._lang=!1}function u(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function s(a,b,c){var d=b._milliseconds,e=b._days;b=b._months;var f;d&&a._d.setTime(+a+d*c);e&&a.date(a.date()+e*c);b&&(f=a.date(),a.date(1).month(a.month()+
b*c).date(Math.min(f,a.daysInMonth())))}function S(a){return"[object Array]"===Object.prototype.toString.call(a)}function U(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function T(a,b,c,d){var e,f,g=[];for(e=0;7>e;e++)g[e]=a[e]=null==a[e]?2===e?1:0:a[e];return a[7]=g[7]=b,null!=a[8]&&(g[8]=a[8]),a[3]+=c||0,a[4]+=d||0,f=new Date(0),b?(f.setUTCFullYear(a[0],a[1],a[2]),f.setUTCHours(a[3],a[4],a[5],a[6])):(f.setFullYear(a[0],
a[1],a[2]),f.setHours(a[3],a[4],a[5],a[6])),f._a=g,f}function z(a,b){var c,d,e=[];!b&&P&&(b=require("./lang/"+a));for(c=0;c<m.length;c++)b[m[c]]=b[m[c]]||ga.en[m[c]];for(c=0;12>c;c++)d=k([2E3,c]),e[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");return b.monthsParse=b.monthsParse||e,ga[a]=b,b}function F(a){return(a="string"==typeof a&&a||a&&a._lang||null)?ga[a]||z(a):k}function V(a,b){function c(b){return a.lang().longDateFormat[b]||b}
for(var d=5;d--&&ja.test(b);)b=b.replace(ja,c);if(!Ca[b]){var d=Ca,e=b,f=b,g=f.match(O),k,l;k=0;for(l=g.length;k<l;k++)ka[g[k]]?g[k]=ka[g[k]]:g[k]=g[k].match(/\[.*\]/)?g[k].replace(/^\[|\]$/g,""):g[k].replace(/\\/g,"");d[e]=function(a){var b="";for(k=0;k<l;k++)b+="function"==typeof g[k].call?g[k].call(a,f):g[k];return b}}return Ca[b](a)}function E(a){switch(a){case "DDDD":return g;case "YYYY":return x;case "S":case "SS":case "SSS":case "DDD":return M;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return n;
case "Z":case "ZZ":return r;case "T":return L;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return H;default:return RegExp(a.replace("\\",""))}}function w(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(O),f,g;for(f=0;f<e.length;f++)if((g=(E(e[f]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(g)+g.length)),ka[e[f]]){var k=c,l=d,m=void 0,s=void 0;switch(e[f]){case "M":case "MM":k[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":for(m=
0;12>m;m++)if(F().monthsParse[m].test(g)){k[1]=m;s=!0;break}s||(k[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(k[2]=~~g);break;case "YY":k[0]=~~g+(70<~~g?1900:2E3);break;case "YYYY":k[0]=~~Math.abs(g);break;case "a":case "A":l.isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":k[3]=~~g;break;case "m":case "mm":k[4]=~~g;break;case "s":case "ss":k[5]=~~g;break;case "S":case "SS":case "SSS":k[6]=~~(1E3*("0."+g));break;case "Z":case "ZZ":l.isUTC=!0,(m=(g+
"").match(Wa))&&m[1]&&(l.tzh=~~m[1]),m&&m[2]&&(l.tzm=~~m[2]),m&&"+"===m[0]&&(l.tzh=-l.tzh,l.tzm=-l.tzm)}null==g&&(k[8]=!1)}return d.isPm&&12>c[3]&&(c[3]+=12),!1===d.isPm&&12===c[3]&&(c[3]=0),T(c,d.isUTC,d.tzh,d.tzm)}function X(a,b,c,d,e){e=e.relativeTime[a];return"function"==typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function I(a,b){k.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function Q(a){k.duration.fn[a]=function(){return this._data[a]}}
function J(a,b){k.duration.fn["as"+a]=function(){return+this/b}}for(var k,D=Math.round,Y,ga={},W="en",P="undefined"!=typeof module&&module.exports,m="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),ca=/^\/?Date\((\-?\d+)/i,O=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,ja=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,ea=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,
H=/\d\d?/,M=/\d{1,3}/,g=/\d{3}/,x=/\d{1,4}/,n=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,r=/Z|[\+\-]\d\d:?\d\d/i,L=/T/i,A=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,fa=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Wa=/([\+\-]|\d\d)/gi,Xa="Month Date Hours Minutes Seconds Milliseconds".split(" "),sa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},
Ca={},ha=["DDD","w","M","D","d"],ta="MDHhmsw".split(""),ka={M:function(){return this.month()+1},MMM:function(a){return b("monthsShort",this.month(),this,a)},MMMM:function(a){return b("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return b("weekdaysMin",this.day(),this,a)},ddd:function(a){return b("weekdaysShort",
this.day(),this,a)},dddd:function(a){return b("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%
12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(10*a/6),4)}};ha.length;)Y=ha.pop(),ka[Y+"o"]=d(ka[Y]);for(;ta.length;)Y=ta.pop(),ka[Y+Y]=c(ka[Y],2);ka.DDDD=c(ka.DDD,3);k=function(b,
c){if(null===b||""===b)return null;var d;if(k.isMoment(b))d=new f(new Date(+b._d),b._isUTC,b._lang);else{if(c)if(S(c)){var g=b.match(ea)||[],e,l=99,m,s;for(m=0;m<c.length;m++)s=w(b,c[m]),e=V(new f(s),c[m]).match(ea)||[],e=U(g,e),e<l&&(l=e,d=s)}else d=w(b,c);else if(d=ca.exec(b),b===a)d=new Date;else if(d)d=new Date(+d[1]);else if(b instanceof Date)d=b;else if(S(b))d=T(b);else if("string"==typeof b)if(d="YYYY-MM-DDT",A.exec(b)){for(g=0;4>g;g++)if(fa[g][1].exec(b)){d+=fa[g][0];break}d=r.exec(b)?w(b,
d+" Z"):w(b,d)}else d=new Date(b);else d=new Date(b);d=new f(d)}return d};k.utc=function(a,b){return S(a)?new f(T(a,!0),!0):("string"==typeof a&&!r.exec(a)&&(a+=" +0000",b&&(b+=" Z")),k(a,b).utc())};k.unix=function(a){return k(1E3*a)};k.duration=function(a,b){var c=k.isDuration(a),d="number"==typeof a,e=c?a._data:d?{}:a,f;return d&&(b?e[b]=a:e.milliseconds=a),f=new q(e),c&&(f._lang=a._lang),f};k.humanizeDuration=function(a,b,c){return k.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};k.version="1.7.2";
k.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";k.lang=function(a,b){var c;if(!a)return W;(b||!ga[a])&&z(a,b);if(ga[a]){for(c=0;c<m.length;c++)k[m[c]]=ga[a][m[c]];k.monthsParse=ga[a].monthsParse;W=a}};k.langData=F;k.isMoment=function(a){return a instanceof f};k.isDuration=function(a){return a instanceof q};k.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",
mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});k.fn=f.prototype={clone:function(){return k(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),
this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!U(this._a,(this._a[7]?k.utc(this._a):k(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return V(this,a?a:k.defaultFormat)},add:function(a,b){var c=b?k.duration(+b,a):k.duration(a);return s(this,c,1),this},subtract:function(a,b){var c=b?k.duration(+b,a):k.duration(a);
return s(this,c,-1),this},diff:function(a,b,c){a=this._isUTC?k(a).utc():k(a).local();var d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month();a=this.date()-a.date();var g;return"months"===b?g=12*e+f+a/30:"years"===b?g=e+(f+a/30)/12:g="seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d,c?g:D(g)},from:function(a,b){return k.duration(this.diff(a)).lang(this._lang).humanize(!b)},fromNow:function(a){return this.from(k(),
a)},calendar:function(){var a=this.diff(k().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"==typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<k([this.year()]).zone()||this.zone()<k([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==
a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return k.utc([this.year(),this.month()+1,0]).date()},lang:function(b){return b===a?F(this):(this._lang=b,this)}};for(Y=0;Y<Xa.length;Y++)I(Xa[Y].toLowerCase(),Xa[Y]);I("year","FullYear");k.duration.fn=q.prototype={weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=D(Math.abs(b)/1E3),g=D(f/60),k=D(g/60),l=D(k/24),m=D(l/
365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===k&&["h"]||22>k&&["hh",k]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",D(l/30)]||1===m&&["y"]||["yy",m];d=(f[2]=d,f[3]=0<b,f[4]=e,X.apply({},f));b=0>=b?c.past:c.future;return a&&("function"==typeof b?d=b(d):d=b.replace(/%s/i,d)),d},lang:k.fn.lang};for(Y in sa)sa.hasOwnProperty(Y)&&(J(Y,sa[Y]),Q(Y.toLowerCase()));J("Weeks",6048E5);P&&(module.exports=k);"undefined"==typeof ender&&(this.moment=k);"function"==typeof define&&define.amd&&
define("moment",[],function(){return k})}).call(this);
(function(a){var b=8,c=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},d=function(a,b){return a>>>b|a<<32-b},f=function(a,b){var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,
338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],q=Array(64),u,V,E,w,X,I,Q,J,k,D,Y,ga;a[b>>5]|=128<<24-b%
32;a[(b+64>>9<<4)+15]=b;for(k=0;k<a.length;k+=16){u=l[0];V=l[1];E=l[2];w=l[3];X=l[4];I=l[5];Q=l[6];J=l[7];for(D=0;64>D;D++)q[D]=16>D?a[D+k]:c(c(c(d(q[D-2],17)^d(q[D-2],19)^q[D-2]>>>10,q[D-7]),d(q[D-15],7)^d(q[D-15],18)^q[D-15]>>>3),q[D-16]),Y=c(c(c(c(J,d(X,6)^d(X,11)^d(X,25)),X&I^~X&Q),f[D]),q[D]),ga=c(d(u,2)^d(u,13)^d(u,22),u&V^u&E^V&E),J=Q,Q=I,I=X,X=c(w,Y),w=E,E=V,V=u,u=c(Y,ga);l[0]=c(u,l[0]);l[1]=c(V,l[1]);l[2]=c(E,l[2]);l[3]=c(w,l[3]);l[4]=c(X,l[4]);l[5]=c(I,l[5]);l[6]=c(Q,l[6]);l[7]=c(J,l[7])}return l},
q=function(a){for(var c=[],d=(1<<b)-1,f=0;f<a.length*b;f+=b)c[f>>5]|=(a.charCodeAt(f/b)&d)<<24-f%32;return c},u=function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b},l=function(b){return b="object"==typeof b?a(b).val():b.toString()};a.extend({sha256:function(a){a=l(a);return u(f(q(a),a.length*b))},sha256hmac:function(a,c){a=l(a);c=l(c);var d,T=a;d=c;var z=q(T);16<z.length&&(z=f(z,T.length*b));
for(var F=Array(16),T=Array(16),V=0;16>V;V++)F[V]=z[V]^909522486,T[V]=z[V]^1549556828;d=f(F.concat(q(d)),512+d.length*b);d=f(T.concat(d),768);return u(d)},sha256config:function(a){b=parseInt(a)||8}});a.fn.sha256=function(b){a.sha256config(b);b=l(a(this).val());b=a.sha256(b);a.sha256config(8);return b}})(jQuery);
function Space(a){this.keys=[];this.values={};this.events={};if("string"===typeof a)return this.loadFromString(a);if(a instanceof Space){this.keys=a.keys;for(var b in this.keys){var c=this.keys[b];this.values[c]=a.values[c]}return this}for(c in a)a.hasOwnProperty(c)&&(b=a[c],"object"===typeof b?this._set(c,new Space(b)):this._set(c,b));return this}Space.strRepeat=function(a,b){for(var c="",d=0;d<b;d++)c+=" ";return c};
Space.union=function(){var a=Space.unionSingle(arguments[0],arguments[1]),b;for(b in arguments)if(1!==b&&(a=Space.unionSingle(a,arguments[b]),!a.keys.length))break;return a};Space.unionSingle=function(a,b){var c=new Space;if(!(b instanceof Space))return c;for(var d in a.keys){var f=a.keys[d],q=a.values[f];q instanceof Space&&(b.values[f]&&b.values[f]instanceof Space)&&c._set(f,Space.unionSingle(q,b.values[f]));q===b.values[f]&&c._set(f,q)}return c};Space.prototype.keys=[];Space.prototype.values={};
Space.prototype.clear=function(){if(this.isEmpty())return this;this.keys=[];this.values={};this.trigger("clear");return this};Space.prototype.clone=function(){return new Space(this.toString())};Space.prototype._delete=function(a){if(!a.match(/ /)){var b=this.keys.indexOf(a);if(-1===b)return 0;this.keys.splice(b,1);delete this.values[a];return 1}b=a.split(/ /);a=b.pop();b=this.get(b.join(" "));return b instanceof Space?b._delete(a):0};
Space.prototype["delete"]=function(a){this._delete(a)&&this.trigger("delete",a);return this};
Space.prototype.diff=function(a){var b=new Space;a instanceof Space||(a=new Space(a));for(var c in this.keys){var d=this.keys[c],f=a.values[d];"undefined"===typeof f?b._set(d,""):typeof this.values[d]!==typeof f?"object"===typeof f?b._set(d,new Space(f)):this.values[d]!=f&&b._set(d,f):"object"!==typeof this.values[d]?this.values[d]!=f&&b._set(d,f):(f=this.values[d].diff(f),f.keys.length&&b._set(d,f))}for(c in a.keys)d=a.keys[c],f=a.values[d],this.values[d]||("object"!==typeof f?b._set(d,f):f instanceof
Space?b._set(d,new Space(f)):b._set(d,new Space(a)));return b};Space.prototype.diffOrder=function(a){a instanceof Space||(a=new Space(a));var b=new Space,c;for(c in a.keys){var d=a.keys[c],f=a.values[d];f instanceof Space&&this.values[d]instanceof Space&&(f=this.values[d].diffOrder(f),f.isEmpty()||b._set(d,f))}if(a.keys.join(" ")===this.keys.join(" "))return b;b.keys=a.keys;for(c in a.keys)d=a.keys[c],b.values.hasOwnProperty(d)||(b.values[d]=new Space);return b};
Space.prototype.each=function(a){for(var b in this.keys)a.call(this,this.keys[b],this.values[this.keys[b]]);return this};Space.prototype.isEmpty=function(){return 0===this.keys.length};Space.prototype.every=function(a){for(var b in this.keys){var c=this.values[this.keys[b]];c instanceof Space&&c.every(a);a.call(this,this.keys[b],this.values[this.keys[b]])}return this};
Space.prototype.get=function(a){switch(typeof a){case "string":return this.getByString(a);case "object":return this.getBySpace(a);case "number":return this.getByInt(a)}return null};Space.prototype.getByInt=function(a){0>a&&(a=this.keys.length+a);return this.values[this.keys[a]]};Space.prototype.getByString=function(a){if(!a)return null;if(!a.match(/ /))return this.values[a];a=a.split(/ /g);var b=a.shift();return!(b in this.values)?null:this.values[b].get(a.join(" "))};
Space.prototype.getBySpace=function(a){var b=new Space,c;for(c in a.keys){var d=a.keys[c],f=this.values[d];"undefined"!==typeof f&&(!(a.values[d]instanceof Space)||!a.values[d].keys.length?b._set(d,f):f instanceof Space&&b._set(d,f.getBySpace(a.values[d])))}return b};Space.prototype.length=function(){return this.keys.length};
Space.prototype.loadFromString=function(a){a=a.replace(/^[\n ]*/,"");a=a.replace(/\n\r/g,"\n").replace(/\r\n/g,"\n");a=a.replace(/[\n ]*$/,"");a=a.replace(/\n\n+/,"\n");a=a.split(/\n(?! )/g);for(var b in a){var c=a[b];(matches=c.match(/^([^ ]+)(\n|$)/))?this._set(matches[1],new Space(c.substr(matches[1].length).replace(/\n /g,"\n"))):(matches=c.match(/^([^ ]+) /))&&this._set(matches[1],c.substr(matches[1].length+1).replace(/^\n /,"").replace(/\n /g,"\n"))}return this};
Space.prototype.next=function(a){a=this.keys.indexOf(a)+1;return this.keys[a]?this.keys[a]:this.keys[0]};Space.prototype.off=function(a,b){if(!this.events[a])return!0;for(var c in this.events[a])this.events[a][c]===b&&this.events[a].splice(c,1)};Space.prototype.on=function(a,b){this.events[a]||(this.events[a]=[]);this.events[a].push(b)};
Space.prototype._patch=function(a){a instanceof Space||(a=new Space(a));for(var b in a.keys){var c=a.keys[b],d=a.values[c];"string"===typeof d?""===d?this._delete(c):this._set(c,d):"number"===typeof d?this._set(c,d):d instanceof Space&&!d.keys.length?this._delete(c):this.values[c]instanceof Space?this.values[c]._patch(d):this._set(c,new Space(d))}return this};Space.prototype.patch=function(a){this._patch(a);this.trigger("patch");return this};
Space.prototype._patchOrder=function(a){a instanceof Space||(a=new Space(a));var b=this.keys.length,c;for(c in a.keys){var d=a.keys[c];if(!this.values.hasOwnProperty(d))break;b--}0===b&&(this.keys=a.keys);for(c in a.keys)d=a.keys[c],b=a.values[d],b instanceof Space&&(b.keys.length&&this.values[d]instanceof Space)&&this.values[d]._patchOrder(b);return this};Space.prototype.patchOrder=function(a){this._patchOrder(a);this.trigger("patchOrder");return this};
Space.prototype.prev=function(a){a=this.keys.indexOf(a)-1;return 0<=a?this.keys[a]:this.keys[this.keys.length-1]};Space.prototype._rename=function(a,b){this.values[b]=this.values[a];delete this.values[a];this.keys[this.keys.indexOf(a)]=b;return this};Space.prototype.rename=function(a,b){this._rename(a,b);a!==b&&this.trigger("rename");return this};
Space.prototype._set=function(a,b,c){if(!a)return null;a=a.toString().split(/ /g);for(var d=this,f;f=a.shift();)void 0===d.values[f]&&("number"===typeof c?d.keys.splice(c,0,f):d.keys.push(f)),a.length?d.values[f]instanceof Space||(d.values[f]=new Space):d.values[f]=b,d=d.values[f];return this};Space.prototype.set=function(a,b,c){var d=!!this.get(a);this._set(a,b,c);d?this.trigger("update"):this.trigger("create");return this};
Space.prototype.toJavascript=function(){return"new Space('"+this.toString().replace(/\n/g,"\\n").replace(/\'/g,"\\'")+"')"};Space.prototype.toJSON=function(){return JSON.stringify(this.toObject())};Space.prototype.toObject=function(){var a={},b;for(b in this.keys){var c=this.keys[b],d=this.values[c];a[c]=d instanceof Space?d.toObject():d}return a};
Space.prototype.toString=function(a){a=a||0;var b="",c;for(c in this.keys){var d=this.keys[c],f=this.values[d];"undefined"===typeof f?b+="\n":(b+=Space.strRepeat(" ",a)+d,b=f instanceof Space?b+("\n"+f.toString(a+1)):"object"===typeof f?b+("\n"+(new Space(f)).toString(a+1)):""===f.toString()?b+"\n":f.toString().match(/\n/)?b+(" \n"+Space.strRepeat(" ",a+1)+f.toString().replace(/\n/g,"\n"+Space.strRepeat(" ",a+1))+"\n"):b+(" "+f.toString()+"\n"))}return b};
Space.prototype.trigger=function(a){if(!this.events[a])return!0;for(var b in this.events[a])this.events[a][b].apply(this,arguments)};"undefined"!=typeof exports&&(module.exports=Space);if("undefined"!=typeof exports)var Space=require("space"),fs=require("fs"),beautifyHtml=require("js-beautify").html,marked=require("marked");function Element(a,b){this.tag=a;this.attrs=b||{};this.content="";return this}
Element.prototype.addClass=function(a){this.attrs["class"]=this.attrs["class"]?this.attrs["class"]+(" "+a):a};Element.prototype.append=function(a){this.content+=a};Element.prototype.attr=function(a,b){this.attrs[a]=b};Element.prototype.html=function(a){this.content+=a};Element.prototype.toHtml=function(){var a="<"+this.tag,b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(a+=" "+b+'="'+this.attrs[b]+'"');a+=">"+this.content;return a+="</"+this.tag+">"};
function Scrap(a,b){this.path=a;this.id=a.split(/ /g).pop();this.clear();b instanceof Space||(b=new Space(b));this.patch(b);var c=this.values.scraps;if(c instanceof Space)for(var d in c.keys){var f=c.keys[d];c.values[f]=new Scrap(a+" "+f,c.values[f])}return this}Scrap.format=function(a,b){return"nl2br"===b?a.replace(/\n/g,"<br>"):"markdown"===b?marked(a):a};
Scrap.getPointer=function(a,b){if(!a||"string"===typeof b||!b&&"undefined"===typeof window)return null;b||(b=window);var c=a.split("."),d=c.shift();return!(d in b)?null:!c.length?b[d]:Scrap.getPointer(c.join("."),b[d])};Scrap.replace=function(a,b){return a.replace(/\{\{([_a-zA-Z0-9\.]+)( [^\}]+)?\}\}/g,function(a,d,f){return Scrap.getPointer(d,b)||(f?f.substr(1):"")})};
Scrap.styleToCss=function(a,b,c){a+=" {\n";for(var d in b)b.hasOwnProperty(d)&&(a+="  "+d+" : "+b[d].toString().replace(/\;$/,"")+";\n");return Scrap.replace(a+"}\n",c)};Scrap.styleToInline=function(a,b){var c="",d;for(d in a)a.hasOwnProperty(d)&&(c+=d+": "+a[d].toString().replace(/\;$/,"")+"; ");return Scrap.replace(c,b)};Scrap.events="onblur onchange onclick oncontextmenu onenterkey onfocus onhold onkeydown onkeypress onkeyup onmousedown onmouseout onmouseover onmouseup onorientationchange onsubmit ontouchend ontouchmove ontouchstart".split(/ /);
Scrap.prototype=new Space;Scrap.prototype.clone=function(a){return new Scrap(a,this)};
Scrap.prototype.loop=function(a){if(!this.values.loop||!this.values.scraps)return null;var b=this.values.scraps.toString(),c=this.values.loop;"string"===typeof c&&c.match(/\{\{/)&&(c=Scrap.getPointer(c.replace(/\{|\}/g,""),a));"string"===typeof c&&(c=this.values.loop.split(/ /g));if(!c)return null;c instanceof Space||(c=new Space(c));var d="";c.each(function(c,q){var u={key:c,value:q},l=b.replace(/\{\{([_a-z0-9\.]+)\}\}/gi,function(b,c){var d;return(d=Scrap.getPointer(c,u))?d:Scrap.getPointer(c,a)});
(new Space(l)).each(function(a,b){d+=(new Scrap(a,b)).toHtml()})});this.div.append(d)};Scrap.prototype.selector=function(){return"#"+this.path.replace(/ /g," #")};
Scrap.prototype.setContent=function(a,b){b||(b={});if(this.values.loop)return this.loop(a);this.values.content&&this.div.html(Scrap.format(Scrap.replace(this.values.content,a),this.values.content_format));if(this.values.styles&&this.values.styles instanceof Space){var c=this.div;this.values.styles.each(function(b,d){c.html(Scrap.styleToCss(b,d.values,a))})}if(this.values.scraps)for(var d in this.values.scraps.keys){var f=this.values.scraps.keys[d];(b.draft||"true"!==this.values.scraps.values[f].values.draft)&&
this.div.html(this.values.scraps.values[f].toHtml(a))}return this};Scrap.prototype.setElementTag=function(a){tag=this.values.tag?this.values.tag:"div";this.div=new Element(tag);this.div.attr("id",this.id);var b="checked class disabled draggable dropzone end for height href max maxlength min name origin pattern placeholder readonly rel required selected spellcheck src tabindex target title type width value".split(/ /),c;for(c in b)this.setProperty(b[c],a)};
Scrap.prototype.setProperty=function(a,b){this.values[a]&&this.div.attr(a,Scrap.replace(this.values[a],b))};Scrap.prototype.setScript=function(){for(var a in Scrap.events){var b=Scrap.events[a];this.values[b]&&this.div.attr(b,this.values[b])}};Scrap.prototype.setStyle=function(a){if(!this.values.style)return null;if(!(this.values.style instanceof Space))return this.div.attr("style",this.values.style);this.div.attr("style",Scrap.styleToInline(this.values.style.values,a))};
Scrap.prototype.toHtml=function(a,b){this.setElementTag(a);this.setContent(a,b);this.setStyle(a);this.setScript(a);return this.div.toHtml()};function Page(a){this.clear();a&&this.patch(a);this.loadScraps();return this}Page.prototype=new Space;Page.prototype.clone=function(){return new Page(this.values)};Page.prototype.loadScraps=function(){for(var a in this.keys){var b=this.keys[a];this.values[b]=new Scrap(b,this.values[b])}};Page.prototype.request=function(){return!1};
Page.prototype.toHtml=function(a,b){a||(a={});b||(b={});this.request(b);var c;c="<!doctype html>\n<html>";for(var d in this.keys){var f=this.keys[d];if(b.draft||"true"!==this.values[f].values.draft)c+="\n  "+this.values[f].toHtml(a,b)}c+="\n</html>";return b.beautify?beautifyHtml(c):c};"undefined"!=typeof exports&&(module.exports=Page);
var Thumbs={getDimensions:function(a){var b={},c=!1;$(a).contents().find(".scrap").each(function(){var a,f,q,u;c?(a=$(this).position().left,f=a+$(this).outerWidth(),q=$(this).position().top,u=top+$(this).outerHeight(),a<b.left&&(b.left=a),f>b.right&&(b.right=f),q<b.top&&(b.top=q),u>b.bottom&&(b.bottom=u)):(b.left=$(this).position().left,b.right=b.left+$(this).outerWidth(),b.top=$(this).position().top,b.bottom=b.top+$(this).outerHeight(),c=!0)});b.height=b.bottom-b.top;b.width=b.right-b.left;return b},
insert:function(a,b,c,d){c=d.width;var f=d.height;d=$("<iframe></iframe>");d.attr("frameborder",0);d.attr("scrolling","no");d.css("width",c);d.css("height",f);b.append(d);a._static=!0;d.contents().find("body").append(a.toHtml()).css("background-color","transparent");b=Thumbs.getDimensions(d);a=d.contents().find("body");if(b.height<=f&&b.width<=c)return a.css({"-webkit-translate":"0px "+Math.round((f-b.height)/2)+"px"}),d;if(b.width<c)return c=1*f/b.height,c="scale("+c+")",a.css({"-webkit-transform":c,
transform:c,"-moz-transform":c,"transform-origin":"0 0"}),d;if(b.height<f||b.height<b.width)return c=1*c/b.width,c="scale("+c+")",a.css({"-webkit-transform":c,transform:c,"-moz-transform":c,"transform-origin":"0 0"}),d;c=1*f/b.height;c="scale("+c+")";a.css({"-webkit-transform":c,transform:c,"-moz-transform":c,"transform-origin":"0 0"});return d}};
(function(a){function b(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)}function c(a){a=s(a);return/^(?:webOS|i(?:OS|P))/.test(a)?a:b(a)}function d(a,b){for(var c in a)q(a,c)&&b(a[c],c,a)}function f(a){return null==a?b(a):V.call(a).slice(8,-1)}function q(){q=function(a,b){var c=null!=a&&(a.constructor||Object).prototype;return!!c&&b in Object(a)&&!(b in c&&a[b]===c[b])};"Function"==f(Q)?q=function(a,b){return null!=a&&Q.call(a,b)}:{}.__proto__==Object.prototype&&(q=function(a,b){var c=
!1;null!=a&&(a=Object(a),a.__proto__=[a.__proto__,a.__proto__=null,c=b in a][0]);return c});return q.apply(this,arguments)}function u(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function l(a,b){var c=null,f=function(d,f){c=b(c,d,f,a)},k=-1,l=a.length;if(l==l>>>0)for(;++k<l;)f(a[k],k,a);else d(a,f);return c}function s(a){return String(a).replace(/^ +| +$/g,"")}function S(b){function q(a){return l(a,function(a,d){var f=d.pattern||u(d);if(!a&&(a=RegExp("\\b"+f+" *\\d+[.\\w_]*","i").exec(b)||RegExp("\\b"+
f+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(b))){if((a=String(d.label||a).split("/"))[1]&&!/[\d.]+/.test(a[0]))a[0]+=" "+a[1];d=d.label||d;a=c(a[0].replace(RegExp(f,"i"),d).replace(RegExp("; *(?:"+d+"[_-])?","i")," ").replace(RegExp("("+d+")(\\w)","i"),"$1 $2"))}return a})}b||(b=ga);var m,Q=b,O=[],T=null,ea=b==ga,H=ea&&k&&"function"==typeof k.version&&k.version(),M=l([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"],function(a,c){return a||
RegExp("\\b"+(c.pattern||u(c))+"\\b","i").exec(b)&&(c.label||c)}),g=l(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera","Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},
{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"],function(a,c){return a||RegExp("\\b"+(c.pattern||u(c))+"\\b","i").exec(b)&&(c.label||c)}),x=q(["BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation Vita","TouchPad","Transformer","Xoom"]),n=l({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,
"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1},Sony:{"PlayStation Vita":1}},function(a,c,d){return a||(c[x]||c[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(x)]||RegExp("\\b"+(d.pattern||u(d))+"(?:\\b|\\w*\\d)","i").exec(b))&&(d.label||d)}),r=l("Android,CentOS,Debian,Fedora,FreeBSD,Gentoo,Haiku,Kubuntu,Linux Mint,Red Hat,SuSE,Ubuntu,Xubuntu,Cygwin,Symbian OS,hpwOS,webOS ,webOS,Tablet OS,Linux,Mac OS X,Macintosh,Mac,Windows 98;,Windows ".split(","),
function(a,d){var f=d.pattern||u(d);if(!a&&(a=RegExp("\\b"+f+"(?:/[\\d.]+|[ \\w.]*)","i").exec(b))){m={"6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};if(/^Win/i.test(a)&&(m=m[0,/[\d.]+$/.exec(a)]))a="Windows "+m;a=c(String(a).replace(RegExp(f,"i"),d.label||d).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,
"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])}return a});M&&(M=[M]);n&&!x&&(x=q([n]));if(m=/Google TV/.exec(x))x=m[0];/\bSimulator\b/i.test(b)&&(x=(x?x+" ":"")+"Simulator");if(/^iP/.test(x))g||(g="Safari"),r="iOS"+((m=/ OS ([\d_]+)/i.exec(b))?" "+m[1].replace(/_/g,"."):"");else if("Konqueror"==g&&!/buntu/i.test(r))r="Kubuntu";else if(n&&"Google"!=n&&/Chrome|Vita/.test(g+";"+x))g="Android Browser",r=/Android/.test(r)?
r:"Android";else if(!g||(m=!/\bMinefield\b/i.test(b)&&/Firefox|Safari/.exec(g)))if(g&&(!x&&/[\/,]|^[^(]+?\)/.test(b.slice(b.indexOf(m+"/")+8)))&&(g=null),(m=x||n||r)&&(x||n||/Android|Symbian OS|Tablet OS|webOS/.test(r)))g=/[a-z]+(?: Hat)?/i.exec(/Android/.test(r)?r:m)+" Browser";H||(H=["(?:Cloud9|CriOS|CrMo|Opera ?Mini|Raven|Silk(?!/[\\d.]+$))","Version",u(g),"(?:Firefox|Minefield|NetFront)"],H=l(H,function(a,c){return a||(RegExp(c+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(b)||
0)[1]||null}));if("iCab"==M&&3<parseFloat(H))M=["WebKit"];else if(m=/Opera/.test(g)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(b)&&"WebKit"||!M&&/\bMSIE\b/i.test(b)&&(/^Mac/.test(r)?"Tasman":"Trident"))M=[m];if(ea){var L=a,A=null!=L?typeof L.global:"number";if(!/^(?:boolean|number|string|undefined)$/.test(A)&&("object"==A?L.global:1))if(E&&(m=E.lang.System,Q=m.getProperty("os.arch"),r=r||m.getProperty("os.name")+" "+m.getProperty("os.version")),"object"==typeof exports&&exports)if(Y==U&&"object"==
typeof system&&(m=[system])[0]){r||(r=m[0].os||null);try{m[1]=require("ringo/engine").version,H=m[1].join("."),g="RingoJS"}catch(fa){m[0].global==z&&(g="Narwhal")}}else{if("object"==typeof process&&(m=process))g="Node.js",Q=m.arch,r=m.platform,H=/[\d.]+/.exec(m.version)[0]}else"Environment"==f(a.environment)&&(g="Rhino");else if("ScriptBridgingProxyObject"==f(m=a.runtime))g="Adobe AIR",r=m.flash.system.Capabilities.os;else if("RuntimeObject"==f(m=a.phantom))g="PhantomJS",H=(m=m.version||null)&&m.major+
"."+m.minor+"."+m.patch;else if("number"==typeof I.documentMode&&(m=/\bTrident\/(\d+)/i.exec(b))){H=[H,I.documentMode];if((m=+m[1]+4)!=H[1])O.push("IE "+H[1]+" mode"),M[1]="",H[1]=m;H="IE"==g?String(H[1].toFixed(1)):H[0]}r=r&&c(r)}if(H&&(m=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(H)||/(?:alpha|beta)(?: ?\d)?/i.exec(b+";"+(ea&&J.appMinorVersion))||/\bMinefield\b/i.test(b)&&"a"))T=/b/i.test(m)?"beta":"alpha",H=H.replace(RegExp(m+"\\+?$"),"")+("beta"==T?X:w)+(/\d+\+?/.exec(m)||"");if("Fennec"==
g)g="Firefox Mobile";else if("Maxthon"==g&&H)H=H.replace(/\.[\d.]+/,".x");else if("Silk"==g)/Mobi/i.test(b)||(r="Android",O.unshift("desktop mode")),/Accelerated *= *true/i.test(b)&&O.unshift("accelerated");else if("IE"==g&&(m=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(b)||0)[1]))g+=" Mobile",r="Windows Phone OS "+m+".x",O.unshift("desktop mode");else if(("IE"==g||g&&!x&&!/Browser|Mobi/.test(g))&&("Windows CE"==r||/Mobi/i.test(b)))g+=" Mobile";else if("IE"==g&&ea&&"object"==typeof external&&!external)O.unshift("platform preview");
else if(/BlackBerry/.test(x)&&(m=(RegExp(x.replace(/ +/g," *")+"/([.\\d]+)","i").exec(b)||0)[1]||H))r="Device Software "+m,H=null;else if(this!=d&&(ea&&k||/Opera/.test(g)&&/\b(?:MSIE|Firefox)\b/i.test(b)||"Firefox"==g&&/OS X (?:\d+\.){2,}/.test(r)||"IE"==g&&(r&&!/^Win/.test(r)&&5.5<H||/Windows XP/.test(r)&&8<H||8==H&&!/Trident/.test(b)))&&!F.test(m=S.call(d,b.replace(F,"")+";"))&&m.name)m="ing as "+m.name+((m=m.version)?" "+m:""),F.test(g)?(/IE/.test(m)&&"Mac OS"==r&&(r=null),m="identify"+m):(m="mask"+
m,g=D?c(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(m)&&(r=null),ea||(H=null)),M=["Presto"],O.push(m);if(m=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(b)||0)[1]){m=[parseFloat(m.replace(/\.(\d)$/,".0$1")),m];if("Safari"==g&&"+"==m[1].slice(-1))g="WebKit Nightly",T="alpha",H=m[1].slice(0,-1);else if(H==m[1]||H==(/\bSafari\/([\d.]+\+?)/i.exec(b)||0)[1])H=null;m=[m[0],(/\bChrome\/([\d.]+)/i.exec(b)||0)[1]];!ea||/internal|\n/i.test(V.toString())&&!m[1]?(M[1]="like Safari",m=(m=m[0],400>m?1:500>m?
2:526>m?3:533>m?4:534>m?"4+":535>m?5:"5")):(M[1]="like Chrome",m=m[1]||(m=m[0],530>m?1:532>m?2:532.05>m?3:533>m?4:534.03>m?5:534.07>m?6:534.1>m?7:534.13>m?8:534.16>m?9:534.24>m?10:534.3>m?11:535.01>m?12:535.02>m?"13+":535.07>m?15:535.11>m?16:535.19>m?17:536.05>m?18:536.1>m?19:537.01>m?20:"21"));M[1]+=" "+(m+="number"==typeof m?".x":/[.+]/.test(m)?"":"+");if("Safari"==g&&(!H||45<parseInt(H)))H=m}"Opera"==g&&(m=/(?:zbov|zvav)$/.exec(r))?(g+=" ",O.unshift("desktop mode"),"zvav"==m?(g+="Mini",H=null):
g+="Mobile"):"Safari"==g&&/Chrome/.exec(M[1])&&(O.unshift("desktop mode"),g="Chrome Mobile",H=null,/Mac OS X/.test(r)?(n="Apple",r="iOS 4.3+"):r=null);if(H&&0==H.indexOf(m=/[\d.]+$/.exec(r))&&-1<b.indexOf("/"+m+"-"))r=s(r.replace(m,""));if(M&&!/Avant|Nook/.test(g)&&(/Browser|Lunascape|Maxthon/.test(g)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(g)&&M[1]))(m=M[M.length-1])&&O.push(m);O.length&&(O=["("+O.join("; ")+")"]);n&&(x&&0>x.indexOf(n))&&O.push("on "+n);x&&O.push((/^on /.test(O[O.length-
1])?"":"on ")+x);r&&(m=/ ([\d.+]+)$/.exec(r),r={architecture:32,family:m?r.replace(m[0],""):r,version:m?m[1]:null,toString:function(){var a=this.version;return this.family+(a?" "+a:"")+(64==this.architecture?" 64-bit":"")}});if((m=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Q))&&!/\bi686\b/i.test(Q))r&&(r.architecture=64,r.family=r.family.replace(RegExp(" *"+m),"")),g&&(/WOW64/i.test(b)||ea&&/\w(?:86|32)$/.test(J.cpuClass||J.platform))&&O.unshift("32-bit");b||(b=null);return{version:g&&H&&(O.unshift(H),
H),name:g&&(O.unshift(g),g),os:r?(g&&!(r==String(r).split(" ")[0]&&(r==g.split(" ")[0]||x))&&O.push(x?"("+r+")":"on "+r),r):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:O.length?O.join(" "):b,layout:M&&M[0],manufacturer:n,prerelease:T,product:x,ua:b,parse:S,toString:function(){return this.description||""}}}var U=a,T="object"==typeof exports&&exports,z="object"==typeof global&&global&&(global==global.global?a=global:global),F=/Opera/,V={}.toString,E=/Java/.test(f(a.java))&&
a.java,w=E?"a":"\u03b1",X=E?"b":"\u03b2",I=a.document||{},Q={}.hasOwnProperty,J=a.navigator||{},k=a.operamini||a.opera,D=F.test(D=f(k))?D:k=null,Y=this,ga=J.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return S()}):T?d(S(),function(a,b){T[b]=a}):a.platform=S()})(this);function App(a){this.name=a;this._open=!1}App.openApp=null;
App.prototype.close=function(a){if(!this._open)return!1;this._open=!1;App.openApp=!1;$(".nudgepadFullScreenApp").hide();a&&nudgepad.apps[a].open()};App.prototype.isOpen=function(){return this._open};
App.prototype.open=function(){if(this._open)return!1;if(App.openApp)return App.openApp.close(this.name);if(this.onopen)this.onopen();$("#nudgepad"+ToProperCase(this.name)+"App").show();App.openApp=this;this._open=!0;nudgepad.trigger("selection");if(this.onready)this.onready();mixpanel.track("I opened the "+this.name+" app")};App.prototype.restart=function(){this.close();this.open()};App.prototype.toggle=function(){this._open?this.close():this.open()};window.console||(window.console={log:function(){}});
nudgepad={apps:{},pages:{},stage:{}};nudgepad.id=(new Date).getTime();nudgepad.tab=new Space("id "+nudgepad.id);nudgepad.tab.set("device",platform.name+(platform.product?"/"+platform.product:""));nudgepad.setColor=function(){if(nudgepad.tab.get("color"))return!0;var a=[];site.values.collage.each(function(b,d){d.get("color")&&a.push(d.get("color"))});var b=_.difference("red green violet yellow blue orange indigo".split(" "),a);1>b.length&&b.push("black");nudgepad.tab.set("color",b[0])};
nudgepad.tab.on("patch",function(){site.set("collage "+nudgepad.id,this);nudgepad.emit("collage.update",this)});nudgepad.isTesting=!1;nudgepad.events={selection:[],stage:[],page:[],disconnect:[],"collage.update":[],ping:[],main:[],patch:[],ready:[],"public":[],uploadComplete:[]};
nudgepad.main=function(a){nudgepad.domain=document.location.host;nudgepad.grid=new Grid;nudgepad.cookie=parseCookie(document.cookie);nudgepad.name=ParseName(nudgepad.cookie.email);nudgepad.tab.set("email",nudgepad.cookie.email);nudgepad.tab.set("name",nudgepad.name);window.name="nudgepad";nudgepad.select=!0;Events.shortcut.context=".nudgepad";nudgepad.query=ParseQueryString();nudgepad.explorer.getSite(function(){nudgepad.bind_shortcuts();nudgepad.socket=io.connect("/");nudgepad.socket.on("public",
function(a){nudgepad.trigger("public",a)});nudgepad.socket.on("uploadComplete",function(a){nudgepad.trigger("uploadComplete",a)});nudgepad.socket.on("patch",function(a){nudgepad.trigger("patch",a)});nudgepad.socket.on("connect_failed",function(a){console.log("Connect failed");console.log(a);$("#nudgepadConnectionStatus").html("Connection to server failed...").show()});nudgepad.socket.on("error",function(a){console.log(a);$("#nudgepadConnectionStatus").html("Connecting to server...").show()});nudgepad.socket.on("disconnect",
function(a){nudgepad.trigger("disconnect",a)});nudgepad.socket.on("collage.update",function(a){site.values.collage.patch(a);nudgepad.trigger("collage.update")});nudgepad.socket.on("collage.delete",function(a){var b=site.get("collage "+a);nudgepad.notify(b.get("name")+" closed a tab");site.values.collage.delete(a);nudgepad.trigger("collage.update")});nudgepad.socket.on("collage.create",function(a){a=new Space(a);site.values.collage.patch(a);nudgepad.notify(a.get(a.keys[0]+" name")+" opened a tab")});
nudgepad.socket.on("ack",function(a){nudgepad.trigger("ping",a)});nudgepad.socket.on("connect",function(a){console.log("connected to server %s",a);$("#nudgepadConnectionStatus").html("Connected!").fadeOut();nudgepad.restartCheck()});nudgepad.iosMain();var b=store.get("activePage")||"home";site.get("pages "+b)||(b="home");nudgepad.stage.open(b);$(window).on("resize",function(){$(".handle").trigger("update")});nudgepad.warnBeforeReload=!0;window.onbeforeunload=function(){if(nudgepad.warnBeforeReload)return nudgepad.reloadMessage()};
$("body").scrollTop(0);$("body").scrollLeft(0);nudgepad.navigation.openAppFromQueryString();$("#nudgepadLoadingScreen").hide();$(document).on("dragstart","img",function(a){a.preventDefault()});nudgepad.explorer.downloadTimelines();nudgepad.trigger("main");mixpanel.track("I opened NudgePad");nudgepad.query.newSite&&!store.get("opens")&&(store.set("opens",1),mixpanel.track("I created a new website"));a&&a()})};
nudgepad.emit=function(a,b){if(nudgepad.isTesting)return null;nudgepad.socket.emit(a,b.toString(),function(a){console.log(a)})};nudgepad.off=function(){};nudgepad.on=function(a,b){nudgepad.events[a].push(b)};nudgepad.quit=function(){$(".scrap,.nudgepad").remove()};nudgepad.trigger=function(a,b){for(var c in nudgepad.events[a])nudgepad.events[a][c](b)};nudgepad.apps.account=new App("account");nudgepad.apps.account.onopen=function(){$(".nudgepad#email").val(nudgepad.cookie.email)};
nudgepad.apps.account.save=function(){var a=$(".nudgepad#email").val();if(!ValidateEmail(a))return nudgepad.error("Invalid Email");if(a===nudgepad.cookie.email)return nudgepad.apps.home.open();$.post("/nudgepad.updateEmail",{email:a},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?app=home"})};
nudgepad.on("main",function(){$(".barDroppable").on("click",function(){$(".imageDroppableOptions").hide();$(this).hasClass("selectedDroppable")?($(this).removeClass("selectedDroppable"),$(".barDroppable").removeClass("lowlight"),$("#nudgepadRibbon").slideUp("fast")):($(".barDroppable").removeClass("selectedDroppable"),$(this).addClass("selectedDroppable"),$(this).removeClass("lowlight"),$(".barDroppable").not(".selectedDroppable").addClass("lowlight"),$("#nudgepadRibbon").slideDown("fast"))});$(".barDroppable").on("slidestart",
function(){var a=$(this).attr("title").toLowerCase();nudgepad.stage.dragAndDrop(nudgepad.droppables.get("blocks "+a))});$("#imageDroppable").on("click",function(){$(".imageDroppableOptions").show()})});nudgepad.apps.blog=new App("blog");
nudgepad.apps.blog.blankTheme=new Space({title:{tag:"title",content:"{{post.title Post Title}}"},stylesheet:{tag:"link",rel:"stylesheet",href:"site.css"},container:{style:{width:"90%","max-width":"800px",height:"100%",margin:"0 auto"},scraps:{block1:{style:{height:"auto","font-family":"Open Sans",width:"auto","font-size":"48px","font-weight":"normal",color:"#333","text-decoration":"none","font-style":"normal",padding:"10px"},content:"{{post.title Post Title}}"},block14:{style:{height:"auto","font-family":"Open Sans",
width:"auto","font-size":"18px","font-weight":"normal",color:"#333","text-decoration":"none","font-style":"normal",padding:"10px"},content:"{{post.content Lorem ipsum foobar }}"}}}});nudgepad.apps.blog.createPost=function(){$(".nudgepad#content,.nudgepad#title").val("");$(".nudgepad#advanced").val("timestamp "+(new Date).getTime()+"\ntemplate blog");$(".nudgepad#permalink").attr("value","");$(".nudgepad#title").focus();nudgepad.apps.blog.activePost=null};
nudgepad.apps.blog.deletePost=function(){nudgepad.apps.blog.activePost=null;var a=Permalink($(".nudgepad#permalink").attr("value"));if(!a)return nudgepad.error("No post to delete");if(!site.get("posts "+a))return nudgepad.error("Post does not exist");site.delete("posts "+a);var b=new Space;b.set("posts "+a,"");nudgepad.emit("patch",b.toString());nudgepad.apps.blog.restart()};
nudgepad.apps.blog.editPost=function(a){nudgepad.apps.blog.activePost=a;var b=site.get("posts "+a);$(".nudgepad#content").val(b.get("content"));$(".nudgepad#title").val(b.get("title"));b=new Space(b.toString());b.delete("title");b.delete("content");$(".nudgepad#advanced").val(b.toString());$(".nudgepad#permalink").text("http://"+nudgepad.domain+"/"+a).attr("value",a);nudgepad.apps.blog.updateLinks();$(".nudgepad#content").focus()};
nudgepad.apps.blog.initialize=function(){if(site.get("pages blog"))return!0;var a=new Space;a.set("pages blog",nudgepad.apps.blog.blankTheme.clone());nudgepad.emit("patch",a.toString());site.set("pages blog",nudgepad.apps.blog.blankTheme);nudgepad.pages.updateTabs()};nudgepad.apps.blog.activePost=null;
nudgepad.apps.blog.onopen=function(){nudgepad.apps.blog.initialize();$(".nudgepad#posts").html("");if(!site.get("posts"))return!0;_.each(site.get("posts").keys,function(a){console.log(a);var b=site.get("posts").get(a);a=$("<div >"+b.get("title")+"</div>").css({color:"#777","margin-bottom":"9px","font-size":"13px"}).on("click",function(){nudgepad.apps.blog.editPost($(this).attr("value"))}).attr("value",a).attr("title",a);$(".nudgepad#posts").append(a)})};
nudgepad.apps.blog.onready=function(){nudgepad.apps.blog.activePost?nudgepad.apps.blog.editPost(nudgepad.apps.blog.activePost):nudgepad.apps.blog.createPost()};
nudgepad.apps.blog.savePost=function(){var a=Permalink($(".nudgepad#permalink").attr("value"));if(!a)return nudgepad.error("Title cannot be blank");mixpanel.track("I saved a blog post");var b=site.get("posts "+a);b||(b=new Space);b.set("content",$(".nudgepad#content").val());b.set("title",$(".nudgepad#title").val());b.patch($(".nudgepad#advanced").val());site.set("posts "+a,b);var c=new Space;c.set("posts "+a,b);nudgepad.apps.blog.activePost&&nudgepad.apps.blog.activePost!==a&&(c.set("posts "+nudgepad.apps.blog.activePost,
""),site.delete("posts "+nudgepad.apps.blog.activePost));nudgepad.emit("patch",c.toString());nudgepad.apps.blog.activePost=a;nudgepad.apps.blog.restart();window.open(a,"published")};nudgepad.apps.blog.updateLinks=function(){$(".nudgepad#posts div").css("color","#777");$(".nudgepad#posts div").each(function(){$(this).attr("value")==nudgepad.apps.blog.activePost&&$(this).css("color","#333")})};
nudgepad.apps.blog.updatePermalink=function(){var a=Permalink($(".nudgepad#title").val());$(".nudgepad#permalink").text("http://"+nudgepad.domain+"/"+a).attr("value",a)};nudgepad.codePanel={};nudgepad.codePanel.livePreview=!1;nudgepad.codePanel.livePreviewTimeout=!1;nudgepad.codePanel.livePreviewStart=function(){clearTimeout(nudgepad.codePanel.livePreviewTimeout);nudgepad.codePanel.livePreviewTimeout=setTimeout("nudgepad.codePanel.livePreview()",500)};
nudgepad.codePanel.livePreview=function(){var a=new Space($("#nudgepadCodePanel").val());nudgepad.stage.selection.exists()&&nudgepad.stage.selection.clear();nudgepad.pages.stage=new Page(a);nudgepad.stage.render()};nudgepad.codePanel.close=function(){$("#nudgepadCodePanel").hide();$("#nudgepadStage").css("padding-left",nudgepad.codePanel.currentPadding);nudgepad.off("selection",nudgepad.codePanel.load);nudgepad.off("stage",nudgepad.codePanel.load)};nudgepad.codePanel.isOpen=function(){return 0<$("#nudgepadCodePanel:visible").length};
nudgepad.codePanel.load=function(){$("#nudgepadCodePanel").val(nudgepad.pages.stage.toString())};
nudgepad.codePanel.open=function(){var a=$("#nudgepadCodePanel");a.show();nudgepad.codePanel.currentPadding=$("#nudgepadStage").css("padding-left");$("#nudgepadStage").css("padding-left","40%");nudgepad.codePanel.load();a.on("keyup",nudgepad.codePanel.livePreviewStart);a.on("blur",nudgepad.stage.commit);a.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});nudgepad.on("selection",nudgepad.codePanel.load);nudgepad.on("stage",nudgepad.codePanel.load)};
nudgepad.codePanel.toggle=function(){nudgepad.codePanel.isOpen()?nudgepad.codePanel.close():nudgepad.codePanel.open()};
nudgepad.console=function(){mixpanel.track("I opened the console");var a=$('<pre id="nudgepadEditorConsole"></pre>'),b=$('<input id="nudgepadEditorInput" type="text"/>'),c=$('<input type="checkbox" id="nudgepadEditorCheckbox"/>'),d=$('<label for="nudgepadEditorCheckbox" id="nudgepadEditorLabel">Shell</label>'),f=$('<div id="nudgepadEditorModalScreen"/>');f.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});a.on("tap mousedown click slide slidestart slideend mouseup",
function(a){a.stopPropagation()});var q=$('<div id="nudgepadEditorSaveButton">Send</div>'),u=$('<div id="nudgepadEditorCancelButton">Close</div>'),l=$('<div id="nudgepadEditorButtonContainer"></div>');f.on("click",function(){u.trigger("click")});u.on("click",function(){q.remove();a.remove();f.remove();l.remove();u.remove();d.remove();c.remove();b.remove()});q.on("click",function(){var d=b.val(),f="nudgepad.console";c.is(":checked")&&(f="nudgepad.exec");$.post(f,{command:d},function(c){a.append(">"+
d.replace(/\n/g,"> \n")+"\n");a.append(c+"\n");a.scrollTop($("pre")[0].scrollHeight+"");b.val("");b.focus()},null,function(c){mixpanel.track("I used the console and got an error");a.append(">"+d.replace(/\n/g,"> \n")+"\n");a.append("ERROR\n");a.append(c.responseText+"\n");a.scrollTop($("pre")[0].scrollHeight+"");b.val("");b.focus()})});b.on("enterkey",function(){q.click()});$("body").append(f);$("body").append(c);$("body").append(d);$("body").append(a);$("body").append(b);$("body").append(q);$("body").append(u);
$("body").append(l);b.focus()};nudgepad.contentEditor={};nudgepad.contentEditor.blur=function(){nudgepad.contentEditor.element&&nudgepad.contentEditor.element.trigger("blur")};nudgepad.contentEditor.onblur=function(){$(this).scrap().set("content",$(this).html());$(this).off("tap mousedown slide slidestart hold slideend",nudgepad.contentEditor.killEvent);$(this).removeAttr("contenteditable");nudgepad.stage.commit();nudgepad.broadcastSelection();nudgepad.contentEditor.element=!1};
nudgepad.contentEditor.focus=function(a,b){nudgepad.stage.selection.clear();var c=$(a),d=c.scrap();if(d.isContentEditable())nudgepad.broadcastSelection(d.selector()),c.attr("contenteditable","true"),c.on("tap slide slidestart hold slideend",nudgepad.contentEditor.killEvent),c.on("blur",nudgepad.contentEditor.onblur),c.focus(),MoveCursorToEnd(c[0]),nudgepad.contentEditor.element=c,b&&document.execCommand("selectAll",!1,null);else{var f="content",q=d.values.tag;if(q&&q.match(/^(list)$/))return nudgepad.stage.selection.clear(),
c.selectMe(),nudgepad.stage.selection.editSource(),!1;q&&q.match(/^(textarea|input|password)$/)&&(f="placeholder");nudgepad.textPrompt("Editing content for this block",d.values[f],function(a){d.values[f]=a;nudgepad.stage.commit();c.remove();$("#nudgepadStageBody").append(d.toHtml(null,!0));c.selectMe()})}};nudgepad.contentEditor.killEvent=function(){nudgepad.mouse.down.stopPropagation();return!1};nudgepad.apps.develop=new App("develop");nudgepad.apps.develop.files="";nudgepad.apps.develop.log="";
nudgepad.apps.develop.path="";nudgepad.apps.develop.pathPretty="";nudgepad.apps.develop.status="";nudgepad.apps.develop.createFile=function(){var a=prompt("Name your file");if(!a)return!1;nudgepad.explorer.create(nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refresh)};nudgepad.apps.develop.home=function(){nudgepad.apps.develop.path="";nudgepad.apps.develop.pathPretty="";nudgepad.apps.develop.renderExplorer()};
nudgepad.apps.develop.import=function(){nudgepad.textPrompt("Import a Site ","",function(a){$.post("/nudgepad.import",{space:a},function(){nudgepad.notify("Imported. Please restart")})})};nudgepad.apps.develop.onopen=function(){nudgepad.apps.develop.log||nudgepad.apps.develop.refresh()};
nudgepad.apps.develop.renderExplorer=function(){var a=nudgepad.apps.develop.files;nudgepad.apps.develop.path&&(a=a.get(nudgepad.apps.develop.path));var b;b='<table id="nudgepadExplorer"><tr class="explorerHeader"><td>Filename</td><td></td><td></td><td>Size</td><td>Age</td></tr>';var c=a.keys,d;for(d in c){var f=c[d],q=a.values[f],u="<tr";q.get("timeSinceLastChange")?(u+=' class="explorerFile" value="'+f+'">',u+='<td class="explorerEdit standardCell">'+f+"</td>",u+='<td class="explorerRename standardCell">Rename</td>',
u+='<td class="explorerRemove standardCell">Delete</td>',u+='<td class="standardCell">'+q.get("size")+"KB</td>",u+='<td class="standardCell">'+moment(q.get("mtime")).fromNow()+"</td>"):(u+=' class="explorerFolder" value="'+f+'">',u+='<td class="explorerFolderName standardCell" colspan=5>'+f+"</td>");u+="</tr>";b+=u}nudgepad.apps.develop.explorer=b+"</table>";$(".nudgepad#explorerPath").text(nudgepad.domain+"/"+nudgepad.apps.develop.pathPretty);$(".nudgepad#explorerHolder").html(nudgepad.apps.develop.explorer)};
nudgepad.apps.develop.refresh=function(){$.get("/nudgepad.status",{},function(a){nudgepad.apps.develop.status=a;$(".nudgepad#statusArea").text(nudgepad.apps.develop.status)});$.get("/nudgepad.logs",{},function(a){nudgepad.apps.develop.log=a;$(".nudgepad#logHolder").html(a);$("#logHolder").scrollTop($("#logHolder").height())});$.get("/nudgepad.explorer.list",{},function(a){nudgepad.apps.develop.files=new Space(a);nudgepad.apps.develop.renderExplorer()})};
$(document).on("click","td.explorerEdit",function(){nudgepad.explorer.edit(nudgepad.apps.develop.pathPretty+$(this).parent().attr("value"))});$(document).on("click","td.explorerRename",function(){var a=prompt("Rename this file",$(this).parent().attr("value"));if(!a)return!1;nudgepad.explorer.rename(nudgepad.apps.develop.pathPretty+$(this).parent().attr("value"),nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refreshFiles)});
$(document).on("click","td.explorerRemove",function(){var a=$(this).parent().attr("value");if(!confirm("Are you sure you want to delete "+a+"?"))return!1;nudgepad.explorer.remove(nudgepad.apps.develop.pathPretty+a,nudgepad.apps.develop.refresh)});
$(document).on("click","td.explorerFolderName",function(){nudgepad.apps.develop.path=nudgepad.apps.develop.path?nudgepad.apps.develop.path+(" "+$(this).parent().attr("value")):$(this).parent().attr("value");nudgepad.apps.develop.pathPretty=nudgepad.apps.develop.path.replace(" ","/")+"/";nudgepad.apps.develop.renderExplorer()});var visibleContent;
$(document).on("click",".devToggleOption",function(){visibleContent=$(this).text().toLowerCase()+"Content";$(this).hasClass("devSelect")||($("div").removeClass("devSelect"),$(this).addClass("devSelect"),$(".devAppContent").hide(),$("#"+visibleContent).show())});nudgepad.droppables=new Space("blocks\n block\n  block1\n   style\n    background-color #7a8289\n    height 180px\n    width 220px\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    color #333\n    top 0\n    left 0\n block8\n  block1\n   style\n    height 40px\n    width 150px\n    padding 0px\n    font-size 14px\n    text-indent 10px\n    color #555\n    position absolute\n    border 2px solid #ccc\n    -webkit-appearance normal\n    top 0\n    left 0\n   tag input\n   placeholder Type Here\n button\n  block1\n   style\n    background-color #ed2e11\n    height 50px\n    font-family Open Sans\n    width auto\n    cursor pointer\n    font-size 18px\n    line-height 50px\n    text-align center\n    position absolute\n    padding 0px 20px\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 0\n    left 0\n   content Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n fullx\n  fullx\n   style\n    background-color #eee\n    height 60px\n    width 100%\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    color #333\n    top 0\n    left 0\n graph\n  block1\n   style\n    background-image url(/nudgepad/images/graphPlace.png)\n    background-repeat no-repeat\n    background-color transparent\n    background-size contain\n    background-position center\n    position absolute\n    height 300px\n    width 300px\n    font-size 14px\n    color #fff\n    top 0\n    left 0\n header\n  block1\n   style\n    height auto\n    font-family Open Sans\n    width auto\n    font-size 24px\n    font-weight bold\n    position absolute\n    color #333\n    top 0\n    left 0\n   content Title\n image\n  block1\n   style\n    background-image url(/nudgepad/images/imagePlace.png)\n    background-repeat no-repeat\n    background-color transparent\n    background-size contain\n    background-position center\n    position absolute\n    height 300px\n    width 300px\n    font-size 14px\n    color #fff\n    top 0\n    left 0\n nav\n  nav\n   style\n    height auto\n    font-family Open Sans\n    font-size 18px\n    line-height 140%\n    color #999\n    position absolute\n    top 0\n    left 0\n   scraps\n    nav1\n     style\n      margin-right 40px\n      float left\n     content Home\n    nav2\n     style\n      margin-right 40px\n      float left\n     content About\n    nav3\n     style\n      margin-right 40px\n      float left\n     content Portfolio\n    nav4\n     style\n      float left\n     content Contact\n paragraph\n  nav\n   style\n    height auto\n    font-family Open Sans\n    font-size 16px\n    width 420px\n    color #222\n    position absolute\n    top 0\n    left 0\n   scraps\n    header\n     style\n      margin-bottom 30px\n      font-size 52px\n     content Born Good\n    subHeader\n     style\n      margin-bottom 30px\n      font-size 18px\n      font-weight bold\n     content About Me\n    nav3\n     style\n      margin-right 40px\n      font-size 16px\n      line-height 140%\n      color #555\n     content When I was a lad I ate four dozen eggs ev'ry morning to help me get large. And now that I'm grown I eat five dozen eggs, so I'm roughly the size of a barge!\n rounded\n  rounded\n   style\n    background-color #e83b1e\n    height 60px\n    width 120px\n    position absolute\n    font-size 15px\n    font-family Open Sans\n    text-align center\n    color #333\n    top 0\n    left 0\n    border-radius 5px\n    line-height 60px\n sticky\n  stickyNote\n   style\n    background-color #f4ed04\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n stickyBlue\n  stickyBlue\n   style\n    background-color #15cbf2\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n stickyOrange\n  stickyOrange\n   style\n    background-color #f29215\n    font-family Courier\n    position absolute\n    color #222\n    top 0\n    left 0\n    height auto\n    width 120px\n    font-size 14px\n    line-height 120%\n    padding 10px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n   content I am a sticky note. I do not show up on your live site.\n   draft true\n text\n  text\n   style\n    height auto\n    font-family Open Sans\n    width 420px\n    font-size 16px\n    line-height 140%\n    color #555\n    position absolute\n    top 0\n    left 0\n   content There is a place where the sidewalk ends and before the street begins, and there the grass grows soft and white, and there the sun burns crimson bright, and there the moon-bird rests from his flight to cool in the peppermint wind.\nbuttons\n button1\n  head\n   tag creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color #e3543b\n    height 40px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    top 0\n    left 0\n   content Plain Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n button2\n  head\n   tag creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    height 40px\n    width 120px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    background -webkit-linear-gradient(top, #ff5e42, #e3543b)\n    border 1px solid #bf4530\n    box-shadow 0px 1px 3px rgba(0,0,0,.5), inset 0px 1px 0px #ffc0b5\n    left 0px\n    top 0px\n   content Fancy Button\n   hover_style\n    background #e3543b\n   active_style\n    background #bf4530\n button3\n  head\n   tag creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color #e3543b\n    height 40px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 40px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 4px\n    box-shadow 0px 5px 0px 0px #c94932\n    top 0\n    left 0\n   content Drop Button\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n    box-shadow 0px 5px 0px 0px #a33a27\nelements\n iframe\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n     background-color white\n  block2\n   tag iframe\n   src http://nudgepad.com/iframe\n   style\n    height 245px\n    width 282px\n    top 0px\n    left 0px\n    box-shadow 0px 1px 3px rgba(0,0,0,.6)\n    border-radius 4px 4px 4px 4px\n video\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n     background-color white\n  block2\n   tag iframe\n   frameborder 0\n   width 560\n   height 315\n   allowfullscreen allowfullscreen\n   src http://www.youtube.com/embed/cFEarBzelBs?rel=0\n   style\n    top 0\n    left 0\nforms\n contact_form\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 100%\n  block3\n   style\n    background-color #e3543b\n    height 35px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 35px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 315px\n    left 154px\n   content Sign Up\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n   click $.post('/nudgepad.surveys', { note : 'email ' + $('input.email').val() + '\nname ' + $('input.name').val() + '\n comment ' + $('textarea.comment').val() } , function () { $('.submit_button').html('Success!') } )\n   class submit_button\n  email_address\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 110px\n    left 0px\n    padding 0\n    padding-left 5px\n   tag email\n   placeholder Email address\n   class email\n   tabindex 2\n  block1\n   style\n    height auto\n    width auto\n    white-space nowrap\n    font-size 32px\n    line-height 140%\n    color #333\n    top 0px\n    left 0px\n   content Contact Us\n  comment\n   style\n    height 135px\n    width 264px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 163px\n    left 0px\n    padding 3px\n    margin 0\n   tag textarea\n   placeholder How can we help you?\n   class comment\n   tabindex 3\n  name\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 64px\n    left 0px\n    padding 0\n    padding-left 5px\n   tag text\n   placeholder Your name\n   class name\n   tabindex 1\n email_signup\n  head\n   tag page\n   title email_signup\n   stylesheets /nudgepad/blocks.css site.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block3\n   style\n    background-color #e3543b\n    height 35px\n    width 110px\n    cursor pointer\n    font-size 14px\n    line-height 35px\n    text-align center\n    font-weight bold\n    color #fff\n    border-radius 3px\n    top 66px\n    left 175px\n   content Sign Up\n   hover_style\n    background-color #c94932\n   active_style\n    background-color #a33a27\n   click $.post('/nudgepad.surveys', { note : 'email ' + $('input.email').val() } , function () { $('.submit_button').html('Success!') } )\n   class submit_button\n  email_address\n   style\n    height 35px\n    width 168px\n    font-size 14px\n    color #555\n    border 1px solid #ccc\n    -webkit-appearance normal\n    top 66px\n    left -1px\n    padding 0\n    padding-left 5px\n   tag email\n   placeholder Email address\n   class email\n  block1\n   style\n    height auto\n    width auto\n    white-space nowrap\n    font-size 32px\n    line-height 140%\n    color #333\n    top 0px\n    left 1px\n   content Join our Email List\nfun\n blog\n  head\n   tag page\n   title {{nudgepad.post.title}}\n   style\n    body\n     width 400px\n     position relative\n     height 100%\n     margin 0 auto\n    html\n     width 100%\n     height 100%\n    .scrap\n     position absolute\n    a\n     text-decoration none\n    a:hover\n     text-decoration underline\n  title\n   style\n    width 100%\n    height auto\n    font-size 36px\n    font-family Georgia\n    color #202020\n    padding 20px\n    line-height 36px\n    top 40px\n    left 0\n   content {{nudgepad.post.title Title of Post}}\n   onedit blog\n  content\n   content {{nudgepad.post.content The post body goes here. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu. Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.  Lorem ipsum factum ipsum et et tu.}}\n   style\n    width 100%\n    height auto\n    background-color transparent\n    color #202020\n    font-family Georgia\n    font-size 16px\n    line-height 22px\n    padding 0px 20px\n    top 150px\n    text-align justify\n   content_format nl2br\n   onedit blog\n book\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n  block3\n   style\n    left 191px\n    top 77px\n    height 20px\n    width 520px\n    background-color #8b9dc1\n    z-index 2\n  block4\n   style\n    left 0px\n    top 0px\n    height 40px\n    width 960px\n    padding-left 10px\n    -webkit-box-shadow 0 2px 2px -2px rgba(0, 0, 0, .52)\n    border-bottom 1px solid #133783\n    background-color #3b5a9b\n    font-size 30px\n    color #FFFFFF\n    font-family Arial\n    font-weight bold\n    line-height 40px\n   content book\n  block1\n   style\n    left 0px\n    top 77px\n    height 256px\n    width 174.5px\n    background-color #f8f8f8\n   content <br>\n  block6\n   style\n    left 191px\n    top 87px\n    height 517px\n    width 520px\n    background-color #f8f8f8\n   content <br>\n  block7\n   content John Doe\n   style\n    left 881px\n    top 13px\n    height 15px\n    width 78.5px\n    color #e1e4ed\n    z-index 2\n  block11\n   style\n    left 0px\n    top 368px\n    height 236px\n    width 174.5px\n    background-color #f8f8f8\n   content <br>\n  block8\n   style\n    left 724.5px\n    top 348px\n    height 20px\n    width 245.5px\n    background-color #e1e4ed\n   content <br>\n  block12\n   style\n    left 725px\n    top 368px\n    height 236px\n    width 245px\n    background-color #f8f8f8\n   content <br>\n  block13\n   style\n    left 724.5px\n    top 77px\n    height 20px\n    width 245.5px\n    background-color #e1e4ed\n   content <br>\n  block14\n   style\n    left 725px\n    top 97px\n    height 171px\n    width 245px\n    background-color #f8f8f8\n   content <br>\n  block15\n   style\n    left 0px\n    top 77px\n    height 20px\n    width 175px\n    background-color #e1e4ed\n   content <br>\n  block16\n   style\n    left 0px\n    top 368px\n    height 20px\n    width 175px\n    background-color #e1e4ed\n   content <br>\n  block2\n   content This is a demo page.\n   style\n    left 0px\n    top 681px\n    height auto\n    padding-top 3px\n    font-size 12px\n    color gray\n    width 970px\n    border-top 1px solid #e1e4ed\n    z-index 2\n  block17\n   tag img\n   src /nudgepad/images/obama.jpg\n   style\n    left 290px\n    top 154px\n    width 321.5px\n    height auto\n  block18\n   tag img\n   src /nudgepad/images/obama_small.jpg\n   style\n    left 222px\n    top 132px\n    width auto\n    height auto\n  block19\n   content Barack Obama went on a nice stroll with his wife.\n   style\n    left 290px\n    top 132px\n    height 15px\n    width 405.5px\n    color gray\n    z-index 2\n cluster\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n  block2\n   style\n    left 181px\n    top 60px\n    width 138.5px\n    height auto\n    font-size 15px\n    background transparent\n    color #666666\n    line-height 140%\n   content A warm westerly blew over the prairie, making waves, and when I wound down the window I heard it growl in the dry grass like surf. For gulls, there were killdeer plovers, crying out their name as they wheeled and skidded on the wind.\n  block3\n   style\n    left 333px\n    top 137px\n    width auto\n    height auto\n    font-size 40px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block7\n   style\n    left 100px\n    top 267px\n    width 66.5px\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 30%\n   content Section Header\n  block8\n   style\n    left 7px\n    top 116px\n    width auto\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 140%\n   content Section Header\n  block9\n   style\n    left 11px\n    top 149px\n    width auto\n    height auto\n    font-size 32px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block10\n   style\n    left 182px\n    top -19px\n    width 368.5px\n    height auto\n    font-size 51px\n    background transparent\n    font-weight bold\n    color #222222\n    line-height 140%\n   content Page Header\n  block11\n   style\n    left 167px\n    top 312px\n    width auto\n    height auto\n    font-size 40px\n    background transparent\n    color #666666\n    line-height 140%\n   content Small Label\n  block12\n   style\n    left 333px\n    top 60px\n    width 34px\n    height auto\n    font-size 24px\n    background transparent\n    color #222222\n    line-height 30%\n   content Section Header\n  block1\n   style\n    left 7px\n    top 368px\n    background transparent\n    height auto\n    font-weight bold\n    width 368.5px\n    color #222222\n    font-size 51px\n    line-height 140%\n   content Page Header\n  block13\n   style\n    left 338px\n    top 99px\n    background transparent\n    height auto\n    width auto\n    color #222222\n    font-size 24px\n    line-height 140%\n   content Section Header\n  block14\n   style\n    left 7px\n    top 202px\n    background transparent\n    height auto\n    width auto\n    color #666666\n    font-size 32px\n    line-height 140%\n   content Small Label\n  block15\n   style\n    left 338px\n    top 267px\n    background transparent\n    height auto\n    width auto\n    color #222222\n    font-size 24px\n    line-height 140%\n   content Section Header\n  block16\n   style\n    left 338px\n    top 376px\n    background transparent\n    height auto\n    width 126.5px\n    color #666666\n    font-size 15px\n    line-height 140%\n   content A warm westerly blew over the prairie, making waves, and when I wound down the window I heard it growl in the dry grass like surf. For gulls, there were killdeer plovers, crying out their name as they wheeled and skidded on the wind.\n meme\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     background-color white\n     height 1000px\n  block17\n   tag img\n   src /nudgepad/images/firstworld.jpg\n   style\n    left 0px\n    top 0px\n    width auto\n    height auto\n  block2\n   style\n    left 0px\n    top 0px\n    background transparent\n    height auto\n    font-weight bold\n    width 552px\n    color #FFFFFF\n    font-size 36px\n    line-height 140%\n    text-shadow 1px 1px 1px black\n    text-align center\n   content There's nothing to drink....\n  block3\n   style\n    left 0px\n    top 267px\n    background transparent\n    height auto\n    font-weight bold\n    width 552px\n    color #FFFFFF\n    font-size 36px\n    line-height 140%\n    text-shadow 1px 1px 1px black\n    text-align center\n   content Except for a virtually unlimited supply of clean water.\n mindmap\n  head\n   tag page\n   title Mindmap\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     background-color transparent\n     background-image url(/nudgepad/images/textures/tan.jpeg)\n     width 960px\n     height 1000px\n  block2\n   style\n    left 145px\n    top 50px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block3\n   style\n    left 283px\n    top 126px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 36px\n    background-color white\n    font-weight normal\n   content Main Topic\n  block4\n   style\n    left 333px\n    top -2px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block5\n   style\n    left 521px\n    top 50px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block6\n   style\n    left 521px\n    top 225px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block7\n   style\n    left 333px\n    top 281px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block8\n   style\n    left 145px\n    top 225px\n    width auto\n    padding 15px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 20px\n    background-color white\n    font-weight bold\n   content Subtopic\n  block9\n   style\n    left 652px\n    top 14px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block10\n   style\n    left 652px\n    top 90px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block11\n   style\n    left 14px\n    top 277px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n  block12\n   style\n    left 14px\n    top 207px\n    width auto\n    padding 10px\n    height auto\n    border-radius 20px\n    border 1px solid #333333\n    text-align center\n    font-family Open Sans\n    box-shadow 1px 1px 5px rgba(0,0,0,0.3)\n    font-size 14px\n    background-color white\n   content Minor Topic\n times\n  head\n   tag page\n   title Untitled\n   stylesheets /nudgepad/blocks.css\n   style\n    body\n     width 960px\n     height 1000px\n   old_style \n    @font-face {\n      font-family: 'OldLondon';\n      src: url('/nudgepad/fonts/OldLondon.ttf');\n      font-weight: normal;\n      font-style: normal;\n    }\n  block2\n   style\n    left 392px\n    top 114px\n    background transparent\n    height auto\n    width 174.5px\n    color #666666\n    font-size 15px\n    line-height 140%\n    font-family Times\n   content Friday, December 7, 2012\n  block1\n   style\n    left -1px\n    top 26px\n    background transparent\n    padding-bottom 20px\n    height auto\n    font-weight bold\n    width 960px\n    color #222222\n    font-size 69px\n    line-height 140%\n    font-family OldLondon\n    border-bottom-width 2px\n    border-left-width 1px\n    border-top-width 1px\n    border-right-width 1px\n    border-color black\n    border-style solid\n    text-align center\n   content The Nudgepad Times\n  block17\n   tag img\n   src /nudgepad/images/pic.jpg\n   style\n    left 259px\n    top 202px\n    width 336.5px\n    height auto\n  block4\n   style\n    left -1px\n    top 145px\n    height 562px\n    width 94px\n    border-left-width 1px\n    border-color black\n    border-style solid\n    border-right-width 1px\n    border-right-color #e2e2e2\n  block5\n   style\n    left 605.5px\n    top 145px\n    height 562px\n    width 353.5px\n    border-left-width 1px\n    border-color #e2e2e2\n    border-style solid\n    border-right-width 1px\n    border-right-color black\n  block6\n   style\n    left -2px\n    top 707px\n    background transparent\n    padding-bottom 20px\n    height auto\n    font-weight bold\n    width 960px\n    color #222222\n    font-size 69px\n    line-height 140%\n    border-bottom-width 2px\n    border-left-width 1px\n    border-top-width 1px\n    border-right-width 1px\n    border-color black\n    border-style solid\n    text-align center\n  block7\n   style\n    left 112px\n    top 160px\n    background transparent\n    height auto\n    width auto\n    color #004276\n    font-size 24px\n    font-family Times\n    font-weight bold\n   content Man Points at Map with Elongated Stick\n  block8\n   style\n    left 112px\n    top 202px\n    background transparent\n    height auto\n    width 128.5px\n    color #004276\n    font-size 16px\n    font-family Times\n    font-weight bold\n   content What will he point at next?<br>\n  block9\n   style\n    left 112px\n    top 255px\n    background transparent\n    height auto\n    width 128.5px\n    color #333333\n    font-size 12px\n    font-family Times\n   content The pointing at the stick began when a man in third row stood up to ask a question.<br>\nlists\n list1\n  head\n   tag creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color transparent\n    height auto\n    width auto\n    font-size 14px\n    border-top 1px solid #ccc\n    white-space nowrap\n    border-bottom 1px solid #ccc\n    border-left 1px solid #ccc\n    color #333\n    top 0\n    left 0\n   tag list\n   item\n    style\n     color #333\n     display inline-block\n     text-align center\n     width 120px\n     height 40px\n     line-height 40px\n     background-color #eee\n     border-right 1px solid #ccc\n    content {{value}}\n   items\n    1 Item 1\n    2 Item 2\n    3 Item 3\n    4 Item 4\n list2\n  head\n   tag creation\n   title Untitled\n   category content\n   stylesheets /nudgepad/blocks.css\n   scripts http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\n   style\n    body\n     width 100%\n  block1\n   style\n    background-color transparent\n    height auto\n    width auto\n    font-size 14px\n    white-space nowrap\n    color #333\n    top 0\n    left 0\n   tag list\n   item\n    style\n     color #333\n     line-height 180%\n    content {{value}}\n   items\n    1 Item 1\n    2 Item 2\n    3 Item 3\n    4 Item 4\nscripts\n googleAnalytics\n  googleAnalytics\n   tag script\n   content \n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', '{{site.googleAnalyticsId}}']);\n    _gaq.push(['_trackPageview']);\n    (function() {\n      var ga = document.createElement('script'); ga.tag = 'text/javascript'; ga.async = true;\n      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n    })();\n jquery\n  jquery\n   tag script\n   src //ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js\n");
function EditHandle(){}EditHandle.create=function(a){var b=a.element(),c=$('<div class="nudgepadEditHandle"></div>');c.attr("value",a.getPath());c.addClass("handle edit_handle "+a.id+"_handle");var d=$('<div class="nudgepadEditStyleHandle"></div>');d.on("tap",function(){nudgepad.styleEditor(a);c.remove();return!1});c.append(d);b.parent().append(c);c.on("update",EditHandle.update);c.trigger("update")};
EditHandle.update=function(){var a=$(this).owner();$(this).css({left:a.left()+2+"px",top:a.bottom()+4+"px"})};nudgepad.emailPrompt=function(){var a=new Space("to \nsubject \nmessage \n");nudgepad.textPrompt("Send an email",a.toString(),function(a){a=new Space(a);$.post("/nudgepad.email",a.keys,function(a){alert(a)})},!1,"Send")};nudgepad.explorer={};nudgepad.explorer.create=function(a,b){var c={};c.path=a;c.content="";$.post("/nudgepad.explorer.save",c,function(){b()})};
nudgepad.explorer.downloadTimelines=function(){$.get("/nudgepad.site.timelines",{},function(a){a=new Space(a);a.delete(nudgepad.stage.activePage);site.get("timelines").patch(a)})};nudgepad.explorer.getSite=function(a){var b=store.get("activePage")||"home";$.get("/nudgepad.site",{activePage:b,id:nudgepad.id},function(b){site=new Space(b);a()})};nudgepad.explorer.quickEdit=function(){nudgepad.explorer.edit(prompt("Enter path to file you want to edit","public/nudgepad.site.css"))};
nudgepad.explorer.remove=function(a,b){var c={};c.path=a;$.post("nudgepad.explorer.remove",c,function(){b()})};nudgepad.explorer.rename=function(a,b,c){var d={};d.oldPath=a;d.newPath=b;if(!b)return nudgepad.error("No name provided");$.post("/nudgepad.explorer.rename",d,function(){c()})};
nudgepad.explorer.edit=function(a){var b={};b.path=a;$.post("nudgepad.explorer.get",b,function(b){nudgepad.textPrompt("Editing "+a,b,function(b){var c={};c.path=a;c.content=b+"";$.post("/nudgepad.explorer.save",c,function(a){console.log(a)})})})};
nudgepad.getPageDimensions=function(a){a=new Page(a);a._static=!0;var b=$('<iframe class="deleteMe" style="position: fixed; right: 0px; top: 0px;"></iframe>');b.attr("frameborder",0);b.attr("scrolling","no");b.css("width",1);b.css("height",1);$("#nudgepadTemp").append(b);b.contents().find("body").append(a.toHtml());var c={},d=!1;b.contents().find(".scrap").each(function(){var a,b,u,l;d?(a=$(this).position().left,b=a+$(this).outerWidth(),u=$(this).position().top,l=top+$(this).outerHeight(),a<c.left&&
(c.left=a),b>c.right&&(c.right=b),u<c.top&&(c.top=u),l>c.bottom&&(c.bottom=l)):(c.left=$(this).position().left,c.right=c.left+$(this).outerWidth(),c.top=$(this).position().top,c.bottom=c.top+$(this).outerHeight(),d=!0)});c.height=c.bottom-c.top;c.width=c.right-c.left;$(".deleteMe").remove();return c};nudgepad.apps.git=new App("git");nudgepad.apps.git.commit=function(){var a=prompt("Enter your commit message");nudgepad.apps.git.send("git commit -am '"+a+"'")};nudgepad.apps.git.init=function(){nudgepad.apps.git.send("git init")};
nudgepad.apps.git.pull=function(){nudgepad.apps.git.send("git pull")};nudgepad.apps.git.push=function(){nudgepad.apps.git.send("git push")};nudgepad.apps.git.send=function(a){$.post("nudgepad.exec",{command:a},function(a){nudgepad.notify(a)},null,function(a){nudgepad.error(a.responseText)})};nudgepad.apps.git.status=function(){nudgepad.apps.git.send("git status")};
function Grid(a){this.points={};this.radius=7;this.snap_to_objects=!0;this.snap_to_grid=!1;this.snap_to_container=!0;this.horizontal_spacing=this.vertical_spacing=20;this.on=this.snaplines=!0;this.visible=!1;if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}Grid.prototype.addDynamicPoints=function(){var a=this;if(200<$("#nudgepadStageBody").children(".scrap:not(.selection)").length)return!0;$("#nudgepadStageBody").children(".scrap:not(.selection)").each(function(){a.addPoints($(this).scrap().selector())})};
Grid.prototype.addFixedPoints=function(){var a=$("#nudgepadStageBody").left(),b=$("#nudgepadStageBody").right();for(this.horizontal_spacing=parseFloat(this.horizontal_spacing);a<=b;a+=this.horizontal_spacing)this.addPoint(a,0,"#nudgepadStageBody");a=$("#nudgepadStageBody").top();b=$("#nudgepadStageBody").bottom();for(this.vertical_spacing=parseFloat(this.vertical_spacing);a<=b;a+=this.vertical_spacing)this.addPoint(0,a,"#nudgepadStageBody")};
Grid.prototype.addPoint=function(a,b,c){var d={};d.x=a;d.y=b;d.selector=c;this.points[a+"."+b]=d};Grid.prototype.addPoints=function(a){var b=$(a);if(!b.length)return console.log("not found %s",a);this.addPoint(b.left(),b.top(),a);this.addPoint(b.center(),b.middle(),a);this.addPoint(b.right(),b.bottom(),a)};
Grid.prototype.create=function(){this.points={};if(!this.on)return this.erase();this.snap_to_objects&&this.addDynamicPoints();this.snap_to_grid&&this.addFixedPoints();this.snap_to_container&&(this.addPoint(0,$("#nudgepadStageBody").top(),"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").left(),0,"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").center(),0,"#nudgepadStageBody"),this.addPoint($("#nudgepadStageBody").right(),0,"#nudgepadStageBody"),this.addPoint(0,$("#nudgepadStageBody").height(),
"#nudgepadStageBody"));this.visible?this.draw():this.erase()};
Grid.prototype.draw=function(){var a=$("#nudgepadStageBody").width(),b=$("#nudgepadStageBody").height();this.context&&this.erase();$("#nudgepadStageBody").append('<canvas style="position: absolute; top: 0; left: 0; z-index: 0;" id="grid_canvas" width="'+a+'" height="'+b+'"></canvas>');this.context=document.getElementById("grid_canvas").getContext("2d");this.context.strokeStyle="#eee";var c,d;c={};d={};for(var f in this.points)if(this.points.hasOwnProperty(f)){var q=this.points[f];"#nudgepadStageBody"===
q.selector&&(this.context.lineWidth=0.5,q.x in c||(this.context.beginPath(),this.context.moveTo(q.x+0.5,0),this.context.lineTo(q.x+0.5,b),this.context.closePath(),this.context.stroke(),c[q.x]=!0),q.y in d||(this.context.beginPath(),this.context.moveTo(0,q.y+0.5),this.context.lineTo(a,q.y+0.5),this.context.closePath(),this.context.stroke(),d[q.y]=!0))}};
Grid.prototype.drawSnapline=function(a,b){if(!this.snaplines)return!1;this.drawSnaplineCanvas();this.snapline_context.beginPath();this.snapline_context.lineWidth=1;this.snapline_context.moveTo(a.x+0.5,a.y+0.5);this.snapline_context.lineTo(b.x+0.5,b.y+0.5);this.snapline_context.stroke();this.snapline_context.moveTo(a.x,a.y);this.snapline_context.beginPath();this.snapline_context.arc(a.x,a.y,2,0,2*Math.PI,!0);this.snapline_context.closePath();this.snapline_context.fill();this.snapline_context.moveTo(b.x,
b.y);this.snapline_context.beginPath();this.snapline_context.arc(b.x,b.y,2,0,2*Math.PI,!0);this.snapline_context.closePath();this.snapline_context.fill();"#nudgepadStageBody"!==b.selector&&$(b.selector).addClass("nudgepadSnapOrigin")};
Grid.prototype.drawSnaplineCanvas=function(){if(this.snapline_context)return!0;this.width=$("#nudgepadStageBody").width();this.height=$("#nudgepadStageBody").height();var a='<canvas style="position: absolute; top: 0; left: 0; z-index: 100;" id="snapline_canvas" width="'+this.width+'" height="'+this.height+'"></canvas>';$("#nudgepadStageBody").append(a);this.snapline_context=document.getElementById("snapline_canvas").getContext("2d");this.snapline_context.lineWidth=1;this.snapline_context.strokeStyle=
"blue";$("#snapline_canvas").on("mousedown",function(){$(this).remove()})};Grid.prototype.erase=function(){delete this.context;delete this.snapline_context;$("#grid_canvas,#snapline_canvas").remove();$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin")};Grid.prototype.eraseSnaplines=function(){if(!this.snaplines)return!1;$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin");if(!this.snapline_context)return!1;this.snapline_context.clearRect(0,0,this.width,this.height)};
Grid.prototype.getDelta=function(a){this.eraseSnaplines();var b={},c=[],d=[],f;for(f in a){var q=a[f],u;for(u in this.points)if(this.points.hasOwnProperty(u)){var l=this.points[u],s=l.x-q.x,S=l.y-q.y;b.x||(b.x=s,b.y=S);Math.abs(s)<=Math.abs(b.x)&&(b.x=s,c=[q,l]);Math.abs(S)<=Math.abs(b.y)&&(b.y=S,d=[q,l])}}a=Math.abs(b.x)<this.radius;f=Math.abs(b.y)<this.radius;a||(b.x=0);f||(b.y=0);a&&(c[0]={x:c[0].x+b.x,y:c[0].y+b.y},this.drawSnapline(c[0],c[1]));f&&(d[0]={x:d[0].x+b.x,y:d[0].y+b.y},this.drawSnapline(d[0],
d[1]));return b};Grid.prototype.removeSnaplines=function(){delete this.snapline_context;$("#snapline_canvas").remove();$(".nudgepadSnapOrigin").removeClass("nudgepadSnapOrigin")};nudgepad.apps.home=new App("home");nudgepad.apps.home.onopen=function(){$(".nudgepad#domainName").text(nudgepad.domain)};nudgepad.images={};nudgepad.images.getFilename=function(a){a=nudgepad.images.parseBackgroundUrl(a).split(/\//);return a[a.length-1]};
nudgepad.images.insertImageScrap=function(a,b){a.match(/^url\(/)&&(a=nudgepad.images.parseBackgroundUrl(a));if(!b&&0<$(".selection").length)return nudgepad.stage.selection.css("background-image url("+a+")"),nudgepad.stage.selection.css("background-repeat no-repeat"),nudgepad.stage.selection.css("background-position center"),!1;$("<img/>").attr("src",a).load(function(){var c=new Space("style\n background-image url("+a+")\n background-repeat no-repeat\n background-color transparent\n background-position center\n background-size contain\n width "+
this.width+"px\n height "+this.height+"px"),c=(new Space).set("scrap",c);return nudgepad.stage.insert(c,b)})};nudgepad.images.isImage=function(a){return a.match(/\.(png|jpg|jpeg|gif)$/i)};nudgepad.images.parseBackgroundUrl=function(a){return a.split(/(\(|\))/).slice(2)[0]};nudgepad.images.images=new Space;
nudgepad.images.updateList=function(){$.get("/nudgepad.explorer.public",{},function(a){var b="";nudgepad.images.images=new Space(a);nudgepad.images.images.each(function(a){nudgepad.images.isImage(a)&&(b+='<div class="imageThumbDrop">&nbsp;<img src="/'+a+'">&nbsp;</div>')});$("#imageDroppablesList").html(b)})};nudgepad.on("uploadComplete",nudgepad.images.updateList);nudgepad.on("uploadComplete",function(){mixpanel.track("I uploaded something")});nudgepad.on("public",nudgepad.images.updateList);
nudgepad.on("main",nudgepad.images.updateList);nudgepad.importPrompt=function(){var a=prompt("Enter a url to import");if(!a)return!1;a.match(/^https?\:\/\//)||(a="http://"+a);nudgepad.import(a)};nudgepad.import=function(a){$.get("/nudgepad.import/"+a,{},function(a){nudgepad.pages.stage=new Page(a);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};nudgepad.invite={};
nudgepad.invite.prompt=function(){var a=prompt("Invite people to edit this site. Add one or more emails, separated by spaces","");if(!a)return!1;$.post("/nudgepad.invite",{emails:a},function(){nudgepad.notify("Invite Sent");mixpanel.track("I invited people")})};nudgepad.isIOS=function(){return null!=navigator.userAgent.match(/iPad|iPhone|iPod/i)};
nudgepad.iosMain=function(){nudgepad.isIOS()&&($(document).on("touchstart",function(a){1<a.originalEvent.touches.length&&a.stopPropagation()}),$(document).on("touchmove",function(a){1==a.originalEvent.touches.length&&a.preventDefault()}))};$.fn.insertAt=function(a,b){var c=this.children().size();0>a&&(a=Math.max(0,c+1+a));this.append(b);a<c&&this.children().eq(a).before(this.children().last());return this};$.fn.owner=function(){return nudgepad.pages.stage.get($(this).attr("value")).element()};
$.fn.deselect=function(){var a=$(this).attr("id");$(this).removeClass("selection");$("."+a+"_handle").remove();nudgepad.trigger("selection");return $(this)};
$.fn.duplicate=function(){var a=$(this).scrap(),b=$(this).attr("id"),c=nudgepad.pages.stage,d=$(this).parentPath();d&&(c=nudgepad.pages.stage.get(d),d=d.replace(/ scraps/g,"")+" ");var f=c.autokey(b),a=new Scrap(d+f,a.toString()),b=c.keys.indexOf(b)+1;c.set(f,a,b);$(this).deselect();c=a.render(null,b).element();"absolute"===c.css("position")&&a.move(10,10);c.selectMe()};$.fn.parentPath=function(){var a=$(this).attr("path");return!a.match(/ /)?"":a.replace(/ [^ ]+$/,"")};$.fn.scrap=function(){return nudgepad.pages.stage.get($(this).attr("path"))};
$.fn.selectMe=function(){var a=$(this).scrap();if(a.get("locked"))return!1;if($(this).hasClass("selection"))return this;$(this).addClass("selection");nudgepad.MoveHandle.create(a);nudgepad.trigger("selection");EditHandle.create(a);var b=a.get("style");if(!b)return this;if(b=b.get("background-image")&&"contain"===b.get("background-size"))return nudgepad.StretchHandle.create(a,"middle","left",b),nudgepad.StretchHandle.create(a,"middle","right",b),this;nudgepad.StretchHandle.create(a,"top","left");nudgepad.StretchHandle.create(a,
"top","center");nudgepad.StretchHandle.create(a,"top","right");nudgepad.StretchHandle.create(a,"middle","left");nudgepad.StretchHandle.create(a,"middle","right");nudgepad.StretchHandle.create(a,"bottom","left");nudgepad.StretchHandle.create(a,"bottom","center");nudgepad.StretchHandle.create(a,"bottom","right");return $(this)};
$.fn.togglePosition=function(){var a=$(this).scrap(),b="absolute";"absolute"===$(this).css("position")?(b="relative",a.set("style left",""),a.set("style top","")):(a.set("style left","0px"),a.set("style top","0px"));a.set("style position",b);$(this).attr("style","");$(this).css(a.get("style").values)};
$.fn.toggleSize=function(){var a=$(this).scrap(),b=$(this).width()+"px";if(!a.get("style width")||!a.get("style width").match(/\%/))b=Math.round(100*$(this).width()/$(this).parent().width())+"%";a.set("style width",b);var c=$(this).height()+"px";if(!a.get("style height")||!a.get("style height").match(/\%/))c=Math.round(100*$(this).height()/$(this).parent().height())+"%";a.set("style height",c);$(this).css({width:b,height:c})};nudgepad.mouse={};nudgepad.mouse.isDown=!1;nudgepad.mouse.yChange=0;
nudgepad.mouse.xChange=0;nudgepad.mouse.pathDistance=0;nudgepad.mouse.onmousedown=function(a){nudgepad.mouse.isDown=!0;nudgepad.mouse.down=a;nudgepad.mouse.target=a.srcElement||a.originalTarget||a.target;nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.pathDistance=0;return!0};
nudgepad.mouse.onmousemove=function(a){nudgepad.mouse.move=a;if(!nudgepad.mouse.isDown)return!0;nudgepad.mouse.pathDistance+=Math.abs(a.pageX-nudgepad.mouse.lastX)+Math.abs(a.pageY-nudgepad.mouse.lastY);nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onmouseup=function(a){nudgepad.mouse.isDown=!1;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onTouchEnd=function(a){nudgepad.mouse.isDown=!1;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.mouse.onTouchStart=function(a){nudgepad.mouse.isDown=!0;nudgepad.mouse.down=a;nudgepad.mouse.target=a.srcElement||a.originalTarget||a.target;nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.pathDistance=0;return!0};
nudgepad.mouse.onTouchMove=function(a){nudgepad.mouse.move=a;if(!nudgepad.mouse.isDown)return!0;nudgepad.mouse.pathDistance+=Math.abs(a.pageX-nudgepad.mouse.lastX)+Math.abs(a.pageY-nudgepad.mouse.lastY);nudgepad.mouse.lastX=a.pageX;nudgepad.mouse.lastY=a.pageY;nudgepad.mouse.xChange=a.pageX-nudgepad.mouse.down.pageX;nudgepad.mouse.yChange=a.pageY-nudgepad.mouse.down.pageY;nudgepad.mouse.distance=Math.pow(Math.pow(nudgepad.mouse.xChange,2)+Math.pow(nudgepad.mouse.yChange,2),0.5);return!0};
nudgepad.on("main",function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",nudgepad.mouse.onTouchStart,!0),document.addEventListener("touchend",nudgepad.mouse.onTouchEnd,!0),document.addEventListener("touchmove",nudgepad.mouse.onTouchMove,!0)):(document.addEventListener("mousedown",nudgepad.mouse.onmousedown,!0),document.addEventListener("mousemove",nudgepad.mouse.onmousemove,!0),document.addEventListener("mouseup",nudgepad.mouse.onmouseup,!0))});
nudgepad.MoveHandle=function(){};
nudgepad.MoveHandle.create=function(a){var b=a.element(),c=$("<div></div>");c.attr("value",a.getPath());c.addClass("handle "+a.id+"_handle move_handle");c.attr("id","move_handle_"+a.id);c.attr("title",a.id);var d=b.css("position");if("fixed"===d||"absolute"===d)c.on("mousedown",nudgepad.MoveHandle.mousedown),c.on("slide",nudgepad.MoveHandle.slide),c.on("slidestart",nudgepad.MoveHandle.slidestart),c.on("slideend",nudgepad.MoveHandle.slideend),c.css("cursor","move");c.css({position:"fixed"===d?"fixed":
"absolute","z-index":"50"});b.parent().append(c);c.on("tap",nudgepad.MoveHandle.tap);c.on("update",nudgepad.MoveHandle.update);c.on("dblclick",function(c){c.metaKey?(b.togglePosition(),nudgepad.stage.commit(),b.deselect().selectMe()):a.edit(!0)});c.trigger("update")};nudgepad.MoveHandle.dimensions={};
nudgepad.MoveHandle.mousedown=function(){nudgepad.MoveHandle.dimensions=$(this).owner().dimensions();nudgepad.grid.create();nudgepad.MoveHandle.last_x_change=0;nudgepad.MoveHandle.last_y_change=0;nudgepad.MoveHandle.scrollTop=nudgepad.stage.scrollTop();return!0};
nudgepad.MoveHandle.selectTopScrap=function(){var a=$("#nudgepadStageBody").offset().left,b=$("#nudgepadStageBody").offset().top,a=$.topDiv(".scrap:visible",nudgepad.mouse.down.pageX-a,nudgepad.mouse.down.pageY-b+nudgepad.stage.scrollTop());if(!a||a.hasClass("selection")||a.scrap().get("locked"))return!0;nudgepad.stage.selection.clear();a.selectMe();return!0};
nudgepad.MoveHandle.slide=function(a,b){var c=$(this).owner();c.scrap();var d=nudgepad.MoveHandle.dimensions,f=nudgepad.stage.scrollTop()-nudgepad.MoveHandle.scrollTop,q={y:0,x:0};b.shiftKey||(q=nudgepad.grid.getDelta([{x:d.left+nudgepad.mouse.xChange,y:d.top+nudgepad.mouse.yChange+f},{x:d.right+nudgepad.mouse.xChange,y:d.bottom+nudgepad.mouse.yChange+f},{x:d.center+nudgepad.mouse.xChange,y:d.middle+nudgepad.mouse.yChange+f}]));var u=nudgepad.mouse.yChange+f+q.y,l=nudgepad.mouse.xChange+q.x;$(".selection").each(function(){$(this).scrap().move(l-
nudgepad.MoveHandle.last_x_change,u-nudgepad.MoveHandle.last_y_change)});d="X "+parseFloat(c.css("left"))+"<br>Y "+parseFloat(c.css("top"));$("#nudgepadDimensions").css({left:10+c.offset().left+c.outerWidth(),top:-10+c.offset().top+Math.round(c.outerHeight()/2)}).html(d);nudgepad.MoveHandle.last_x_change=l;nudgepad.MoveHandle.last_y_change=u;return!1};nudgepad.MoveHandle.slideend=function(){$(".handle").trigger("update").show();nudgepad.grid.removeSnaplines();$("#nudgepadDimensions").hide();nudgepad.stage.commit()};
nudgepad.MoveHandle.slidestart=function(){$(".handle").not(this).hide();var a=$(this).owner(),b="X "+parseFloat(a.css("left"))+"<br>Y "+parseFloat(a.css("top"));$("#nudgepadDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight()/2)}).html(b).show();return!1};nudgepad.MoveHandle.tap=function(){nudgepad.mouse.down&&nudgepad.mouse.down.shiftKey&&$(this).owner().deselect();return!1};
nudgepad.MoveHandle.update=function(){var a=$(this).owner(),b=Math.min(10,a.outerHeight()-20),c=Math.min(10,a.outerWidth()-20),a={left:a.left()+c+"px",top:a.top()+b+"px",height:a.outerHeight()-2*b+"px",width:a.outerWidth()-2*c+"px"};$(this).css(a)};nudgepad.navigation={};
nudgepad.navigation.open=function(a,b){if("pages"===a)nudgepad.pages.open();else if(nudgepad.apps[a])nudgepad.apps[a].open();else return!1;if(b||nudgepad.isTesting)return null;history.pushState(a,"Nudgepad - "+a,"/nudgepad?app="+a)};nudgepad.navigation.openAppFromQueryString=function(){var a=ParseQueryString().app||"home";nudgepad.navigation.open(a,!0)};window.addEventListener("popstate",function(){nudgepad.navigation.openAppFromQueryString()});nudgepad.notifyTimeout=!1;
nudgepad.notify=function(a,b){blinker.change(a);clearTimeout(nudgepad.notifyTimeout);$("#nudgepadNotify").html(a);nudgepad.popup.open("#nudgepadNotify");$("#nudgepadNotify").css("left",($(window).width()-$("#nudgepadNotify").width())/2);b&&(nudgepad.notifyTimeout=setTimeout("$('#nudgepadNotify').hide()",b))};
nudgepad.oncopy=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!nudgepad.stage.selection.exists())return!0;a.clipboardData&&(a.preventDefault(),a.clipboardData.setData("text/xcustom",nudgepad.stage.selection.toSpace().toString()),a.clipboardData.setData("text/plain",nudgepad.stage.selection.toSpace().toString()));window.clipboardData&&(a.returnValue=!1,window.clipboardData.setData("Text",nudgepad.stage.selection.toSpace().toString()));mixpanel.track("I copied something")};
nudgepad.on("main",function(){window.addEventListener("copy",nudgepad.oncopy,!1)});
nudgepad.oncut=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!nudgepad.stage.selection.exists())return!0;if(a.clipboardData){a.preventDefault();a.clipboardData.setData("text/xcustom",nudgepad.stage.selection.toSpace().toString());var b=a.clipboardData.setData("text/plain",nudgepad.stage.selection.toSpace().toString());console.log("setData: "+b)}window.clipboardData&&(a.returnValue=!1,b=window.clipboardData.setData("Text",nudgepad.stage.selection.toSpace().toString()),
console.log("setData: "+b));nudgepad.stage.selection.remove();nudgepad.stage.commit();mixpanel.track("I cut something")};nudgepad.on("main",function(){window.addEventListener("cut",nudgepad.oncut,!1)});nudgepad.on("disconnect",function(){$("#nudgepadConnectionStatus").html("Disconnected from server. Attempting to reconnect...").show()});
nudgepad.ondrop=function(a){mixpanel.track("I dropped an image onto the page");var b=new FileReader;b.onload=function(a){a=new Space("tag img\nsrc "+a.target.result+"\nstyle\n width auto\n height auto");a=(new Space).set("scrap1",a);nudgepad.stage.insert(a)};b.readAsDataURL(a.dataTransfer.files[0]);a.preventDefault()};nudgepad.on("main",function(){window.addEventListener("drop",nudgepad.ondrop,!1)});
nudgepad.on("main",function(){window.onerror=function(a){mixpanel.track("I got a javascript error");$(".nudgepad#nudgepadJavascriptError").prepend("<div>Javascript Error: "+a+"</div>").show();return!1}});nudgepad.keydown=function(a){if(0!=$("input:focus, div:focus, textarea:focus, a:focus").length||(a.ctrlKey||a.metaKey||a.shiftKey)||(48>a.keyCode&&32!=a.keyCode||90<a.keyCode)||!$(".selection").length||$(".selection").is("input")||$(".selection").is("textarea"))return!0;$(".selection").scrap().edit()};
nudgepad.on("main",function(){$("body").on("keydown",nudgepad.keydown)});nudgepad.isScraps=function(a){return a.match(/\n/)};
nudgepad.onpaste=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length)return!0;var b=void 0;window.clipboardData&&window.clipboardData.getData?b=window.clipboardData.getData("Text"):a.clipboardData&&a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"));nudgepad.isScraps(b)&&(nudgepad.stage.insert(b),nudgepad.stage.selection.save(),nudgepad.stage.open(nudgepad.stage.activePage),nudgepad.stage.selection.restore());mixpanel.track("I pasted something")};
nudgepad.on("main",function(){window.addEventListener("paste",nudgepad.onpaste,!1)});nudgepad.on("ping",function(){$("#nudgepadConnectionStatus").hide()});nudgepad.restart=function(){nudgepad.notify("Site restarted. Please refresh.")};nudgepad.error=function(a){$("#nudgepadWorkerError").html(a);nudgepad.popup.open("#nudgepadWorkerError");return!1};Page.prototype.render=function(a){for(var b in this.keys)this.values[this.keys[b]].render(a);return this};nudgepad.pages.stage=new Page;
nudgepad.pages.edge=new Space;nudgepad.pages.blank=function(){var a=new Space("title\n tag title\n content Untitled"),b=prompt("Name your page",nudgepad.pages.nextName());if(!b)return null;nudgepad.pages.create(b,a)};
nudgepad.pages.clearTimeline=function(){if(!confirm("Are you sure you want to erase the history of this page?"))return!1;var a=(new Date).getTime(),b=new Space;b.set("timelines "+nudgepad.stage.activePage,new Space);for(var c in nudgepad.stage.timeline.keys){var d=nudgepad.stage.timeline.keys[c];b.set("timelines "+nudgepad.stage.activePage+" "+d,"");nudgepad.stage.timeline.delete(d)}b.set("timelines "+nudgepad.stage.activePage+" "+a,nudgepad.pages.edge);nudgepad.stage.timeline.set(a,nudgepad.pages.edge);
nudgepad.stage.version=nudgepad.stage.timeline.keys.length;nudgepad.emit("patch",b.toString());nudgepad.trigger("selection");return!0};
nudgepad.pages.create=function(a,b){a=a?Permalink(a):nudgepad.pages.nextName();if(site.get("pages "+a))return nudgepad.error("A page named "+a+" already exists.");var c=new Space,d=new Space;if(b&&2<b.toString().length){var c=new Space(b.toString()),f=new Space;f.set("author",nudgepad.cookie.email);f.set("values",new Space(b.toString()));d.set((new Date).getTime(),f)}site.set("pages "+a,c);site.set("timelines "+a,d);f=new Space;f.set("pages "+a,c);f.set("timelines "+a,d);nudgepad.emit("patch",f.toString());
nudgepad.stage.open(a);mixpanel.track("I created a new webpage");return a};nudgepad.pages.duplicate=function(a,b,c){a=a||nudgepad.stage.activePage;b=nudgepad.pages.nextName(b||a);if(!c&&(b=prompt("Name your new page",b),!b))return!1;if(!site.get("pages").get(a))return nudgepad.error("Page "+a+" not found");mixpanel.track("I duplicated a page");return a!==nudgepad.stage.activePage?nudgepad.pages.create(b,site.get("pages").get(a)):nudgepad.pages.create(b,nudgepad.pages.stage)};
nudgepad.pages.nextName=function(a){a=a||"untitled";if(!(a in site.values.pages.values))return a;for(var b=1;1E3>b;b++)if(!(a+b in site.values.pages.values))return a+b};nudgepad.pages.open=function(){App.openApp&&App.openApp.close()};
nudgepad.pages.rename=function(a){mixpanel.track("I renamed a page");a=Permalink(a);var b=nudgepad.stage.activePage;if(!a.length)return nudgepad.error("Name cannot be blank");if("home"==b)return nudgepad.error("You cannot rename the home page.");if(site.get("pages "+a))return nudgepad.error("A page named "+a+" already exists.");site.set("pages "+a,site.get("pages "+b));site.set("timelines "+a,site.get("timelines "+b));site.delete("pages "+b);site.delete("timelines "+b);nudgepad.pages.updateTabs();
var c=new Space;c.set("pages "+b,"");c.set("timeline "+b,"");c.set("pages "+a,site.get("pages "+a));c.set("timelines "+a,site.get("timelines "+a));nudgepad.emit("patch",c.toString());nudgepad.stage.open(a);mixpanel.track("I renamed a page");return""};nudgepad.pages.renamePrompt=function(){var a=prompt("Enter a new name",nudgepad.stage.activePage);a&&nudgepad.pages.rename(a)};
nudgepad.pages.trash=function(a){a=a||nudgepad.stage.activePage;if("home"===a)return nudgepad.error("You cannot delete the home page");nudgepad.stage.activePage===a&&nudgepad.stage.back();var b=new Space;b.set("pages "+a,"");b.set("timelines "+a,"");nudgepad.emit("patch",b.toString());site.get("pages").delete(a);site.get("timelines").delete(a);nudgepad.pages.updateTabs();nudgepad.notify("Deleted "+a,1E3);mixpanel.track("I deleted a page");return""};
nudgepad.on("main",function(){$("#nudgepadPagesBar #menuButton").on("mousedown",function(a){if(0<$("#nudgepadPageMenu:visible").length)return nudgepad.popup.hide(a),!0;nudgepad.popup.open("#nudgepadPageMenu");mixpanel.track("I opened the designer menu")});$("#nudgepadPagesBar #menuButton").on("mouseup",function(a){a.stopPropagation();return!1});$("#nudgepadPagesBar").on("slide slidestart",function(a){a.stopPropagation()})});nudgepad.patch={};
nudgepad.patch.receive=function(a){a=new Space(a);var b=nudgepad.stage.isBehind();""===a.get("pages "+nudgepad.stage.activePage)&&nudgepad.stage.back();site.patch(a);nudgepad.pages.updateTabs();if(!a.get("timelines "+nudgepad.stage.activePage))return!0;if(b)return nudgepad.stage.updateTimeline();nudgepad.contentEditor.blur();nudgepad.stage.redo();nudgepad.notify("Change received",1E3)};nudgepad.on("patch",nudgepad.patch.receive);nudgepad.pen={on:!1};
nudgepad.pen.draw=function(){if(!nudgepad.pen.on&&!nudgepad.mouse.down.metaKey||!nudgepad.mouse.isDown||$.isOnScrollbar(nudgepad.mouse.down.clientX,nudgepad.mouse.down.clientY))return!0;var a=$("#nudgepadStageBody").offset().left,b=$("#nudgepadStageBody").offset().top,a=nudgepad.mouse.down.pageX-a,b=nudgepad.mouse.down.pageY-b,b=(new Space).set("container",new Space("style\n position absolute\n left "+a+"px\n top "+b+"px\n width 1px\n height 1px\n")),b=nudgepad.stage.insert(b)[0],b=$(b).scrap().id;
console.log(b);Events.slide.target=$("#stretch_handle_bottomright"+b);$("#stretch_handle_bottomright"+b).triggerHandler("mousedown");$("#stretch_handle_bottomright"+b).triggerHandler("slidestart");mixpanel.track("I used the pen tool")};nudgepad.on("main",function(){$(document).on("slidestart",nudgepad.pen.draw)});nudgepad.popup={};
nudgepad.popup.hide=function(a){if(1!==a.which)return!0;console.log("hide");$(".nudgepadPopup").hide();console.log(a);$("body").off("mouseup touchend",nudgepad.popup.hide);nudgepad.popup.isOpen=!1;return!0};nudgepad.popup.isOpen=!1;nudgepad.popup.open=function(a){$(a).addClass("nudgepadPopup").show();nudgepad.popup.isOpen||($("body").on("mouseup touchend",nudgepad.popup.hide),nudgepad.popup.isOpen=!0);return!0};nudgepad.reloadMessageOneTime="";
nudgepad.reloadMessage=function(){var a;return(a=nudgepad.reloadMessageOneTime)?(nudgepad.reloadMessageOneTime="",a):"Are you sure you want to leave Nudgepad?"};nudgepad.restartCheck=function(){$.get("/nudgepad.started",{},function(a){a!==site.get("started")&&(nudgepad.reloadMessageOneTime="Your site restarted. Please refresh the page.",location.reload())})};
nudgepad.on("main",function(){var a;$("#blockDroppable").on("click",function(){a="block";b(a)});$("#textDroppable").on("click",function(){a="text";b(a)});$("#imageDroppable").on("click",function(){a="image";b(a)});$("#stickyDroppable").on("click",function(){a="sticky";b(a)});var b=function(a){switch(a){case "block":a=["block","rounded"];break;case "text":a=["text","nav","paragraph"];break;case "image":a=["image","graph"];break;case "sticky":a=["sticky","stickyOrange","stickyBlue"];break;default:a=
[]}var b="",f;for(f in a)b+='<div class="droppableImg"><img src="/nudgepad/images/droppables/'+a[f]+'.png" title="'+a[f]+'"></div>';f=$('<div class="droppablesList">'+b+"</div>");$("#droppablesList").html(f);$("#droppablesList div img").on("slidestart",function(){var a=$(this).attr("title");nudgepad.stage.dragAndDrop(nudgepad.droppables.get("blocks "+a));mixpanel.track("I dropped a droppable")});$(".droppablesList div img").on("tap",function(){var a=$(this).attr("title");nudgepad.stage.insert(nudgepad.droppables.get("blocks "+
a),!1,0,0,!0);mixpanel.track("I tapped a droppable")})};$(document).on("tap",".imageThumbDrop img",function(){var a=$("#nudgepadStage").height()/2-130;nudgepad.stage.insert("images\n style\n  position absolute\n  top "+a+"\n  left 100\n tag img\n src "+$(this).attr("src"))});$("#nudgepadRibbon").on("slidestart",".imageThumbDrop img",function(){nudgepad.stage.dragAndDrop("images\n style\n  position absolute\n  top 0px\n  left 0px\n tag img\n src "+$(this).attr("src"));mixpanel.track("I dropped a ribbon droppable")});
$("#nudgepadRibbon").on("mousedown slide slidestart",function(a){a.stopPropagation()})});Scrap.prototype.element=function(){return $(this.selector())};Scrap.prototype.getPath=function(){return this.path.replace(/ /g," scraps ")};Scrap.prototype.onedit="";Scrap.prototype.edit=function(a){this.values.onedit&&nudgepad.apps[this.values.onedit]?nudgepad.apps[this.values.onedit].open():nudgepad.contentEditor.focus(this.selector(),a);return this};
Scrap.prototype.isContentEditable=function(){return"nl2br"===this.values.content_format||"markdown"===this.values.content_format||this.values.content&&this.values.content.match(/\{\{.*\}\}/)||this.values.tag&&this.values.tag.match(/^(textarea|input|password|label|button|list|ul|ol)$/)?!1:!0};
Scrap.prototype.move=function(a,b){var c={},d=this.get("style");d||(this.set("style",new Space),d=this.get("style"));if(a){var f=d.get("left");"undefined"!==typeof f&&(c.left=a+parseFloat(f)+"px",d.set("left",c.left));f=d.get("right");"undefined"!==typeof f&&(c.right=-a+parseFloat(f)+"px",d.set("right",c.right));"undefined"!==typeof d.get("margin-left")&&(d.set("margin-left",a+parseFloat(d.get("margin-left"))+"px"),c["margin-left"]=d.get("margin-left"))}b&&("undefined"!==typeof d.get("top")&&(d.set("top",
b+parseFloat(d.get("top"))+"px"),c.top=d.get("top")),"undefined"!==typeof d.get("bottom")&&(d.set("bottom",-b+parseFloat(d.get("bottom"))+"px"),c.bottom=d.get("bottom")),"undefined"!==typeof d.get("margin-top")&&(d.set("margin-top",b+parseFloat(d.get("margin-top"))+"px"),c["margin-top"]=d.get("margin-top")));this.element().css(c);return this};
Scrap.prototype.moveDown=function(){this.values.style||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",0):this.set("style z-index",parseFloat(this.get("style z-index"))-1);$(this.selector()).css("z-index",this.get("style z-index"))};
Scrap.prototype.moveUp=function(){this.values.style||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",1):this.set("style z-index",parseFloat(this.get("style z-index"))+1);$(this.selector()).css("z-index",this.get("style z-index"))};Scrap.prototype.parentSelector=function(){return this.selector().replace(/\>[^\>]+$/,"")};
Scrap.prototype.render=function(a,b){if(this.values.tag&&this.values.tag.match(/title|script|meta|head/))return this;var c={draft:!0};if(this.values.tag&&this.values.tag.match(/style|link/))return this.setElementTag(a),this.setContent(a,c),$("#nudgepadStageStyles").append(this.div.toHtml()),this;if(this.values.tag&&"body"===this.values.tag)return this.setElementTag(a),this.setContent(a,c),this.setStyle(a),this.div.addClass("scrap"),this.div.attr("path",this.getPath()),this.div.attr("selector",this.selector()),
this.div.tag="div",$("#nudgepadStageBody").append(this.div.toHtml()),this;b?$(this.parentSelector()).insertAt(b,this.toHtml(a)):$(this.parentSelector()).append(this.toHtml(a));return this};Scrap.prototype.selector=function(){return"#nudgepadStageBody>#"+this.path.replace(/ /g,">#")};Scrap.prototype.toHtml=function(a){this.setElementTag(a);this.setContent(a,{draft:!0});this.setStyle(a);this.div.addClass("scrap");this.div.attr("path",this.getPath());this.div.attr("selector",this.selector());return this.div.toHtml()};
Scrap.prototype.unlock=function(){if(!this.values.locked)return!0;this.delete("locked");$(this.selector()).removeClass("lockedScrap");return!0};Scrap.disableLinks=function(a){a.preventDefault();return!1};
Scrap.selectOnTap=function(){$(this).is(":focus")||$(":focus").blur();if(nudgepad.mouse.down&&nudgepad.mouse.down.metaKey&&!$(this).hasClass("selection")&&$(".selection").length)return nudgepad.stage.selection.nest($(this).attr("path")),!1;(!nudgepad.mouse.down||!nudgepad.mouse.down.shiftKey)&&nudgepad.stage.selection.clear();$(this).selectMe();return!1};Scrap.unlock=function(){var a=$(this).scrap();a.get("locked")&&(a.unlock(),nudgepad.stage.commit());$(this).selectMe();return!1};
nudgepad.on("main",function(){$(document).on("click","a.scrap, .scrap a, .scrap div",Scrap.disableLinks);$("#nudgepadStage").on("tap",".scrap",Scrap.selectOnTap);$("body").on("hold",".scrap",Scrap.unlock);$(document).on("mousedown click","input.scrap,textarea.scrap",function(){return!1});$(document).on("focus","input.scrap,textarea.scrap",function(){$(this).blur()})});
$.fn.scrollMinimal=function(a){var b=this.position().top,c=this.outerHeight(!0),d=$("#nudgepadStage").scrollTop(),f=$("#nudgepadStage").height();b<d?a?$("#nudgepadStage").animate({scrollTop:b},"slow","swing"):$("#nudgepadStage").scrollTop(b):b+c>d+f&&(a?$("#nudgepadStage").animate({scrollTop:b-f+c},"slow","swing"):$("#nudgepadStage").scrollTop(b-f+c))};nudgepad.pages.selectBox={on:!0};
nudgepad.pages.selectBox.clear=function(){if(0!=$("#nudgepadSelectBox").length){var a=$("#nudgepadSelectBox"),b,c,d,f;b=a.offset().left;c=a.offset().left+a.outerWidth();d=a.offset().top;f=a.offset().top+a.outerHeight();nudgepad.stage.selection.clear();$("#nudgepadStageBody .scrap:visible").each(function(){var a=$(this);if(a.offset().left<b||a.offset().left+a.outerWidth()>c||a.offset().top<d||a.offset().top+a.outerHeight()>f)return!0;$(this).selectMe()});$("#nudgepadSelectBox").remove()}};
nudgepad.pages.selectBox.update=function(a){if(!nudgepad.pages.selectBox.on&&(!nudgepad.mouse.is_mouse_down||!nudgepad.mouse.down.shiftKey))return!0;0==$("#nudgepadSelectBox").length&&($("#nudgepadStage").append('<div id="nudgepadSelectBox" style="top: '+nudgepad.mouse.down.pageY+";left: "+nudgepad.mouse.down.pageX+';"></div>'),nudgepad.pages.selectBox.scrollTop=nudgepad.stage.scrollTop());var b=$("#nudgepadSelectBox"),c={vertical:nudgepad.mouse.down.pageY+nudgepad.pages.selectBox.scrollTop,horizontal:nudgepad.mouse.down.pageX},
d;for(d in c){var f=d,q=c[d],u="horizontal"==f?nudgepad.mouse.move.pageX:nudgepad.mouse.move.pageY+nudgepad.stage.scrollTop(),l="horizontal"==f?"width":"height",f="horizontal"==f?"left":"top",s=u-q;0<=s?b.css(l,s).css(f,q):b.css(f,u).css(l,-s)}a.preventDefault()};nudgepad.on("main",function(){$(document).on("slide",nudgepad.pages.selectBox.update);$(document).on("slideend",nudgepad.pages.selectBox.clear)});nudgepad.stage.selection={};nudgepad.stage.selection.saved=[];
nudgepad.stage.selection.alignLeft=function(){var a;$(".selection").each(function(){if(!a||$(this).left()<a)a=$(this).left()});nudgepad.stage.selection.css("left "+a+"px")};nudgepad.stage.selection.alignRight=function(){var a;$(".selection").each(function(){if(!a||$(this).left()>a)a=$(this).left()});nudgepad.stage.selection.css("left "+a+"px")};
nudgepad.stage.selection.alignTop=function(){var a;$(".selection").each(function(){if(!a||$(this).top()<a)a=$(this).top()});nudgepad.stage.selection.css("top "+a+"px")};nudgepad.stage.selection.alignBottom=function(){var a;$(".selection").each(function(){if(!a||$(this).top()>a)a=$(this).top()});nudgepad.stage.selection.css("top "+a+"px")};
nudgepad.stage.selection.boxShadow=function(a){$(".selection").each(function(){var b=$(this).scrap();1>a?(b.set("style box-shadow","none"),$(this).css("box-shadow","none")):(b.set("style box-shadow","0px 1px "+a+"px #888"),$(this).css("box-shadow","0px 1px "+a+"px #888"))})};nudgepad.stage.selection.capture=function(){nudgepad.stage.selection.captured=nudgepad.stage.selection.toSpace()};nudgepad.stage.selection.clear=function(){$(".selection").each(function(){$(this).deselect()})};
nudgepad.stage.selection.css=function(a){nudgepad.stage.selection.cssPreview(a);nudgepad.stage.commit();$(".handle").trigger("update")};nudgepad.stage.selection.cssPreview=function(a){if(!a)return!1;a=new Space(a);$(".selection").each(function(){var b=$(this).scrap().get("style");b||($(this).scrap().set("style",new Space),b=$(this).scrap().get("style"));b.patch(a);$(this).css(a.values)})};
nudgepad.stage.selection.cssPrompt=function(){var a=prompt("Enter a CSS command like font-family Arial","");a&&nudgepad.stage.selection.css(a)};
nudgepad.stage.selection.distributeVertical=function(){var a=_.sortBy($(".selection"),function(a){return $(a).top()}),b=0,c=0;_.each(a,function(a,d,u){if(0===d)return!0;d=u[d-1];$(a).attr("id");b+=$(a).top()-$(d).bottom();c++});var d=Math.floor(b/c);0>d&&(d=0);_.each(a,function(a,b,c){if(0===b)return!0;b=c[b-1];c=$(a).scrap();c.set("style top",$(b).bottom()+d+"px");$(a).css("top",c.get("style top"))});$(".handle").trigger("update");nudgepad.stage.commit()};
nudgepad.stage.selection.distributeHorizontal=function(){var a=_.sortBy($(".selection"),function(a){return $(a).left()}),b=0,c=0;_.each(a,function(a,d,u){if(0===d)return!0;d=u[d-1];$(a).attr("id");b+=$(a).left()-$(d).right();c++});var d=Math.floor(b/c);0>d&&(d=0);_.each(a,function(a,b,c){if(0===b)return!0;b=c[b-1];c=$(a).scrap();c.set("style left",$(b).right()+d+"px");$(a).css("left",c.get("style left"))});$(".handle").trigger("update");nudgepad.stage.commit();nudgepad.notify("Distributed",1E3)};
nudgepad.stage.selection.duplicate=function(){$(".selection").each(function(){$(this).duplicate()});nudgepad.stage.commit()};
nudgepad.stage.selection.editLoop=function(){var a=prompt("What property do you want to edit?");if(!a)return!1;$(".selection");$(".selection").each(function(){var b=$(this).scrap();$(this).addClass("nudgepadHighlightedScrap");$(this).scrollMinimal();var c=b.get(a),d=prompt("Set "+a+" of "+id+" to",c);if(!d)return!0;if(d==c)return $(this).removeClass("nudgepadHighlightedScrap"),!0;$(this).removeClass("nudgepadHighlightedScrap");b.set(a,d);b.render()});nudgepad.stage.commit()};
nudgepad.stage.selection.editProperty=function(){var a=$(".selection").scrap(),b=prompt("What property do you want to edit?","");if(!b)return!1;var c=a.get(b);nudgepad.textPrompt("Enter new value...",c.toString(),function(c){a.set(b,c);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};
nudgepad.stage.selection.editSource=function(){nudgepad.stage.selection.capture();nudgepad.stage.selection.save();nudgepad.textPrompt("Enter code...",nudgepad.stage.selection.captured.toString(),nudgepad.stage.selection.modify)};nudgepad.stage.selection.exists=function(){return $(".selection").length};
nudgepad.stage.selection.modify=function(a){a=new Space(a);nudgepad.pages.stage.patch(nudgepad.stage.selection.captured.diff(a));nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage);nudgepad.stage.selection.restore()};
nudgepad.stage.selection.move=function(a,b){if(!$(".selection").length)return!1;$(".selection").each(function(){$(this).scrap().move(a,b)});var c=$($(".selection")[0]),d="X "+parseFloat(c.css("left"))+"<br>Y "+parseFloat(c.css("top"));$("#nudgepadDimensions").css({left:10+c.offset().left+c.outerWidth(),top:-10+c.offset().top+Math.round(c.outerHeight()/2)}).html(d);nudgepad.popup.open("#nudgepadDimensions");$(".handle").trigger("update");nudgepad.stage.commit()};
nudgepad.stage.selection.nest=function(a){var b=nudgepad.pages.stage.get(a);if(!b)return!1;b.get("scraps")||b.set("scraps",new Space);b=b.get("scraps");a=nudgepad.stage.selection.toSpace();nudgepad.stage.selection.remove();a.each(function(a){b.get(a)&&this.rename(a,b.autokey(a))});b.patch(a);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)};
nudgepad.stage.selection.patch=function(a){"string"===typeof a&&(a=new Space(a));$(".selection").each(function(){var b=$(this).scrap();$(this).deselect();b.patch(a);$(this).replaceWith(b.toHtml());b.element().selectMe()});nudgepad.stage.commit()};nudgepad.stage.selection.patchPrompt=function(){var a=prompt("Enter a patch like content hi","");a&&nudgepad.stage.selection.patch(a)};
nudgepad.stage.selection.remove=function(){$(".selection").each(function(){var a=$(this).scrap();$(this).deselect().remove();a&&nudgepad.pages.stage.delete(a.getPath())})};
nudgepad.stage.selection.renameScraps=function(){var a=$(".selection").length;$(".selection").each(function(b){var c=$(this).scrap();$(this).addClass("nudgepadHighlightedScrap");$(this).scrollMinimal();b=prompt("Renaming block "+(b+1)+"/"+a+". Enter a new ID",c.id);if(b==c.id)return $(this).removeClass("nudgepadHighlightedScrap"),!0;if(!b)return!0;var d=new Scrap(b,c.toString());nudgepad.pages.stage.set(b,d);$(this).deselect().remove();nudgepad.pages.stage.delete(c.getPath());d.render();d.element().selectMe()});
nudgepad.stage.commit()};nudgepad.stage.selection.restore=function(){for(var a in nudgepad.stage.selection.saved){var b=nudgepad.stage.selection.saved[a];$(b).length&&$(b).selectMe()}};nudgepad.stage.selection.save=function(){nudgepad.stage.selection.saved=[];$(".selection").each(function(){nudgepad.stage.selection.saved.push($(this).scrap().selector())})};
nudgepad.stage.selection.toSpace=function(){var a=new Space;$(".selection").each(function(){var b=$(this).scrap();a.set(b.getPath(),new Space(b.toString()))});return a};nudgepad.broadcastSelection=function(a){nudgepad.setColor();var b=a||"",c="";$(".selection").each(function(){b+=c+$(this).scrap().selector();c=","});b+="{box-shadow: 0 0 4px "+nudgepad.tab.get("color")+";cursor: not-allowed;}";nudgepad.tab.patch("selection "+b)};
nudgepad.updateSelections=function(){$("#nudgepadRemoteSelections").html("");site.values.collage.each(function(a,b){if(a==nudgepad.id||b.get("page")!==nudgepad.stage.activePage)return!0;var c=b.get("selection");c&&$("#nudgepadRemoteSelections").append(c)})};nudgepad.on("selection",nudgepad.broadcastSelection);nudgepad.on("collage.update",nudgepad.updateSelections);Events.shortcut.onfire=function(a){mixpanel.track("I used the keyboard shortcut "+a)};
nudgepad.bind_shortcuts=function(){Events.shortcut.shortcuts["meta+shift+p"]=nudgepad.stage.selection.patchPrompt;Events.shortcut.shortcuts["ctrl+a"]=nudgepad.stage.selectAll;Events.shortcut.shortcuts["meta+a"]=nudgepad.stage.selectAll;Events.shortcut.shortcuts["meta+p"]=function(){window.open(nudgepad.stage.activePage,"published")};Events.shortcut.shortcuts["meta+shift+left"]=nudgepad.stage.selection.alignLeft;Events.shortcut.shortcuts["meta+shift+right"]=nudgepad.stage.selection.alignRight;Events.shortcut.shortcuts["meta+shift+up"]=
nudgepad.stage.selection.alignTop;Events.shortcut.shortcuts["meta+shift+down"]=nudgepad.stage.selection.alignBottom;Events.shortcut.shortcuts["meta+shift+v"]=nudgepad.stage.selection.distributeVertical;Events.shortcut.shortcuts["meta+shift+h"]=nudgepad.stage.selection.distributeHorizontal;Events.shortcut.shortcuts["shift+d"]=nudgepad.stage.selection.distributeHorizontal;Events.shortcut.shortcuts["alt+o"]=nudgepad.explorer.quickEdit;Events.shortcut.shortcuts["meta+shift+s"]=nudgepad.edit_settings;
var a=function(){nudgepad.stage.selection.remove();nudgepad.stage.commit()};Events.shortcut.shortcuts["delete"]=a;Events.shortcut.shortcuts.backspace=a;Events.shortcut.shortcuts["ctrl+d"]=nudgepad.stage.selection.duplicate;Events.shortcut.shortcuts["meta+d"]=nudgepad.stage.selection.duplicate;a=function(){$(".selection").length?nudgepad.stage.selection.editSource():nudgepad.stage.editSource()};Events.shortcut.shortcuts["ctrl+u"]=a;Events.shortcut.shortcuts["meta+u"]=a;Events.shortcut.shortcuts["meta+shift+u"]=
nudgepad.codePanel.toggle;Events.shortcut.shortcuts["meta+e"]=nudgepad.stage.selection.editProperty;Events.shortcut.shortcuts["meta+l"]=nudgepad.stage.selection.editLoop;a=function(){$("#pagesContextMenu").toggle()};Events.shortcut.shortcuts["ctrl+i"]=a;Events.shortcut.shortcuts["meta+i"]=a;Events.shortcut.shortcuts["shift+space"]=function(){var a=prompt("Enter a command");if(!a)return!1;a.match(/^(w|width) (.*)/)&&(a=a.match(/^(w|width) (.*)/),nudgepad.stage.selection.css("width "+a[2]))};Events.shortcut.shortcuts["meta+shift+m"]=
function(){nudgepad.explorer.edit("/public/manifest.webapp")};Events.shortcut.shortcuts["meta+backspace"]=nudgepad.pages.trash;Events.shortcut.shortcuts["meta+o"]=nudgepad.pages.spotlight;Events.shortcut.shortcuts["ctrl+o"]=nudgepad.pages.spotlight;Events.shortcut.shortcuts["ctrl+n"]=nudgepad.pages.blank;Events.shortcut.shortcuts["meta+n"]=nudgepad.pages.blank;Events.shortcut.shortcuts.esc=nudgepad.stage.selection.clear;Events.shortcut.shortcuts["shift+n"]=nudgepad.pages.duplicate;Events.shortcut.shortcuts.up=
function(){nudgepad.stage.selection.move(0,-1)};Events.shortcut.shortcuts.left=function(){nudgepad.stage.selection.move(-1,0)};Events.shortcut.shortcuts.down=function(){nudgepad.stage.selection.move(0,1)};Events.shortcut.shortcuts.right=function(){nudgepad.stage.selection.move(1,0)};Events.shortcut.shortcuts["shift+t"]=function(){$(".nudgepadTimeline").toggle()};Events.shortcut.shortcuts["shift+v"]=nudgepad.stage.toggleView;Events.shortcut.shortcuts["shift+up"]=function(){nudgepad.stage.selection.move(0,
-10)};Events.shortcut.shortcuts["shift+left"]=function(){nudgepad.stage.selection.move(-10,0)};Events.shortcut.shortcuts["shift+down"]=function(){nudgepad.stage.selection.move(0,10)};Events.shortcut.shortcuts["shift+right"]=function(){nudgepad.stage.selection.move(10,0)};Events.shortcut.shortcuts["alt+left"]=nudgepad.stage.back;Events.shortcut.shortcuts["alt+right"]=nudgepad.stage.forward;Events.shortcut.shortcuts["ctrl+z"]=nudgepad.stage.undo;Events.shortcut.shortcuts["meta+z"]=nudgepad.stage.undo;
Events.shortcut.shortcuts["meta+shift+z"]=nudgepad.stage.redo;Events.shortcut.shortcuts["meta+y"]=nudgepad.stage.redo;Events.shortcut.shortcuts["ctrl+y"]=nudgepad.stage.redo;Events.shortcut.shortcuts["meta+shift+c"]=nudgepad.stage.selection.cssPrompt};
nudgepad.on("main",function(){if(nudgepad.cookie.email!=="owner@"+nudgepad.domain)return!0;$("#nudgepadSignupFormDomain").text(nudgepad.domain).attr("href","http://"+nudgepad.domain);var a=Math.round(($(window).width()-725)/2);0<a&&$("#nudgepadSignupFormModal").children().each(function(){$(this).css("left",parseFloat($(this).css("left"))+a+"px");$(this).on("click",function(a){a.stopPropagation()})});$("#nudgepadSignupFormModal").show();$("#nudgepadSignupFormModal").on("click",function(){$(this).remove()});
$("#nudgepadSignupFormButton").on("click",function(){var a=$("#nudgepadSignupFormEmail").val();if(!ValidateEmail(a))return nudgepad.error("Invalid Email");mixpanel.track("I added my email");$.post("/nudgepad.updateEmail",{email:a,sendWelcomeEmail:"true"},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?app=pages"})});$("#nudgepadSignupFormEmail").focus()});Space.prototype.autokey=function(a){a=a||"";if(!this.get(a))return a;for(var b=2;this.get(a+b.toString());)b++;return a+b.toString()};
nudgepad.pages.spotlight=function(){var a=prompt("Enter the name of the page to open...","");a&&nudgepad.stage.open(a)};nudgepad.stage.version=0;nudgepad.stage.percentElapsed=100;nudgepad.stage.back=function(){nudgepad.stage.open(site.get("pages").prev(nudgepad.stage.activePage))};
nudgepad.stage.commit=function(){var a=(new Date).getTime(),b=nudgepad.pages.edge.diff(nudgepad.pages.stage),c=nudgepad.pages.edge.diffOrder(nudgepad.pages.stage);if(b.isEmpty()&&c.isEmpty())return console.log("no change"),!1;var d=new Space;d.set("author",nudgepad.cookie.email);b.isEmpty()||d.set("values",new Space(b.toString()));c.isEmpty()||d.set("order",new Space(c.toString()));nudgepad.stage.timeline.set(a,d);nudgepad.pages.edge=new Space(nudgepad.pages.stage.toString());nudgepad.stage.version=
nudgepad.stage.timeline.keys.length;nudgepad.stage.updateTimeline();nudgepad.trigger("selection");c=new Space;c.set("timelines "+nudgepad.stage.activePage+" "+a,d);site.set("pages "+nudgepad.stage.activePage,new Space(nudgepad.pages.stage.toString()));nudgepad.emit("commit",c.toString());return b};
nudgepad.stage.dragAndDrop=function(a){"string"===typeof a&&(a=new Space(a));var b=0,c=0,c=a.get("head style html height"),b=a.get("head style html height");if(!c||!b)c=nudgepad.getPageDimensions(a),isNaN(c.width)&&(c.width=140,c.height=100),b=c.width,c=c.height;var b=parseFloat(b),c=parseFloat(c),b=Math.round(b/2),c=Math.round(c/2),d=$("#nudgepadStageBody").offset().left,f=$("#nudgepadStage").scrollTop();nudgepad.stage.insert(a,!0,nudgepad.mouse.move.pageX-d-b,nudgepad.mouse.move.pageY-c+f)};
nudgepad.stage.editSource=function(){nudgepad.textPrompt("Enter code...",nudgepad.pages.stage.toString(),function(a){nudgepad.pages.stage=new Space(a);nudgepad.stage.commit();nudgepad.stage.open(nudgepad.stage.activePage)})};nudgepad.stage.erase=function(){nudgepad.stage.selectAll();nudgepad.stage.selection.remove();nudgepad.stage.commit()};nudgepad.stage.forward=function(){nudgepad.stage.open(site.get("pages").next(nudgepad.stage.activePage))};
nudgepad.stage.goto=function(a){nudgepad.stage.selection.save();nudgepad.stage.selection.clear();if(0>a||a>nudgepad.stage.timeline.keys.length)return!1;nudgepad.stage.version>a&&(nudgepad.pages.stage=new Page,nudgepad.stage.version=0);for(var b=nudgepad.stage.version;b<a;b++){var c=nudgepad.stage.timeline.keys[b],d=nudgepad.stage.timeline.values[c].values.values,c=nudgepad.stage.timeline.values[c].values.order;d&&nudgepad.pages.stage.patch(d.toString());c&&nudgepad.pages.stage.patchOrder(c.toString());
nudgepad.stage.version++}nudgepad.stage.updateTimeline();nudgepad.stage.render();nudgepad.stage.selection.restore();nudgepad.trigger("stage")};nudgepad.stage.height=function(){return $(window).height()-$("#nudgepadPagesBar").outerHeight()};
nudgepad.stage.insert=function(a,b,c,d,f){a||(a="scrap\n content Hello world\n style\n  position absolute\n  top 10px\n  left 10px");a=new Space(a.toString());nudgepad.stage.selection.clear();a.each(function(a){nudgepad.pages.stage.get(a)&&this.rename(a,nudgepad.pages.stage.autokey(a))});nudgepad.pages.stage.patch(a);var q=[];a.each(function(a,b){nudgepad.pages.stage.values[a]=new Scrap(a,b);var c=nudgepad.pages.stage.values[a].render().element();c.length&&(c.selectMe(),q.push(nudgepad.pages.stage.values[a].selector()))});
f&&(f=$(".selection").dimensions(),c=Math.round($("#nudgepadStageBody").width()/2-f.width/2),d=Math.round(nudgepad.stage.scrollTop()+$(window).height()/2-f.height/2));(c||d)&&$(".selection").each(function(){$(this).scrap().move(c,d)});$(".handle").trigger("update");if(b){var u=$(".selection").attr("id");Events.slide.target=$("#move_handle_"+u);$("#move_handle_"+u).triggerHandler("mousedown");$("#move_handle_"+u).triggerHandler("slidestart");$(".selection").each(function(){var a=$(this),b=a.clone(),
c=a.css("opacity"),d=$(this).scrap();a.css("opacity","0.01");b.attr("id","nudgepad_move_ghost").removeClass("scrap selection");b.on("mousedown",function(){a.remove()});b.css("font-family",$("#nudgepadStageBody").css("font-family"));d.values.style&&b.css(d.values.style.values);b.css({"z-index":"600",position:"fixed",top:a.offset().top,left:a.offset().left});$("#move_handle_"+u).on("slide",function(){b.css({top:a.offset().top,left:a.offset().left})});$("#move_handle_"+u).on("slideend",function(){a.css("opacity",
c);b.remove()});$("body").append(b)})}else nudgepad.stage.commit();return q};nudgepad.stage.isBehind=function(){return nudgepad.stage.version<nudgepad.stage.timeline.keys.length};
nudgepad.stage.open=function(a){if(!site.get("pages "+a))return nudgepad.error("Page "+a+" not found");nudgepad.stage.selection.clear();nudgepad.stage.activePage=a;store.set("activePage",nudgepad.stage.activePage);nudgepad.tab.patch("page "+nudgepad.stage.activePage);nudgepad.pages.updateTabs();nudgepad.stage.reload();nudgepad.stage.render();nudgepad.stage.updateTimeline();nudgepad.trigger("selection");return""};nudgepad.stage.redo=function(){nudgepad.stage.goto(nudgepad.stage.version+1)};
nudgepad.stage.render=function(){$("#nudgepadStageStyles").html("");$("#nudgepadRemoteSelections").html("");$(".scrap").remove();nudgepad.pages.stage.loadScraps();nudgepad.pages.stage.render();nudgepad.grid.create();nudgepad.updateSelections()};nudgepad.stage.reload=function(){var a=nudgepad.stage.activePage,b=site.get("pages "+a);nudgepad.pages.edge=b;nudgepad.pages.stage=new Page(b.toString());nudgepad.stage.setTimeline(a);nudgepad.stage.version=nudgepad.stage.timeline.keys.length};
nudgepad.stage.reset=function(){$("#nudgepadStage").height($(window).height()-40)};nudgepad.stage.ribbonClose=function(){$("#nudgepadStage").height($(window).height()-40)};nudgepad.stage.ribbonOpen=function(){$("#nudgepadStage").height($(window).height()-122)};nudgepad.stage.scrollTop=function(){return $("#nudgepadStage").scrollTop()};nudgepad.stage.selectAll=function(){$(".scrap").each(function(){$(this).selectMe()})};
nudgepad.stage.setTimeline=function(a){if(site.get("timelines "+a))return nudgepad.stage.timeline=site.get("timelines "+a),!0;var b=$.ajax({type:"GET",url:"/nudgepad.site.timelines."+a,async:!1});b.done(function(b){site.set("timelines "+a,new Space(b))});b.fail(function(){var b=site.get("pages "+a),d=new Space;if(b&&!b.isEmpty()){var f=new Space;f.set("author",nudgepad.cookie.email);f.set("values",new Space(b.toString()))}site.set("timelines "+a,d);b=new Space;b.set("timelines "+a,d);nudgepad.emit("patch",
b.toString());nudgepad.notify("Timeline created")});nudgepad.stage.timeline=site.get("timelines "+a)};
var stageViews=new Space({full:function(){$("#nudgepadStage").css({width:"100%",padding:0});$("#nudgepadStageBody").css({height:"100%","min-height":"1000px"})},ipad:function(){var a=Math.round(($(window).width()-1024)/2)+"px";$("#nudgepadStage").css({width:"1024px",padding:"20px "+a+" 20px "+a});$("#nudgepadStageBody").css({height:"100%","min-height":"768px"})},ios:function(){var a=Math.round(($(window).width()-320)/2)+"px";$("#nudgepadStage").css({padding:"20px "+a+" 20px "+a,width:"320px"});$("#nudgepadStageBody").css({height:"356px"})}});
nudgepad.stage.currentView="full";nudgepad.stage.toggleView=function(){nudgepad.stage.currentView=stageViews.next(nudgepad.stage.currentView);stageViews.get(nudgepad.stage.currentView)();console.log(nudgepad.stage.currentView);$("#nudgepadStageBody").width()};nudgepad.stage.undo=function(){nudgepad.stage.goto(nudgepad.stage.version-1)};
nudgepad.stage.updateTimeline=function(){nudgepad.stage.percentElapsed=nudgepad.stage.timeline.keys.length?Math.round(100*nudgepad.stage.version/nudgepad.stage.timeline.keys.length):100;$("#nudgepadTimeline").attr("max",nudgepad.stage.timeline.keys.length).val(nudgepad.stage.version);$("#nudgepadTimelinePosition").text(nudgepad.stage.version+"/"+nudgepad.stage.timeline.keys.length)};
nudgepad.on("main",function(){$("#nudgepadStage").on("tap",function(){nudgepad.stage.selection.clear();return!0});$(window).on("resize",function(){$("#nudgepadRibbon:visible").length?$("#nudgepadStage").height($(window).height()-122):$("#nudgepadStage").height($(window).height()-40)});nudgepad.stage.reset()});nudgepad.apps.stats=new App("stats");nudgepad.StretchHandle=function(){};
nudgepad.StretchHandle.create=function(a,b,c,d){var f=a.element(),q="fixed"==f.css("position")?"fixed":"absolute",u=("top"==b?"n":"bottom"==b?"s":"")+("left"==c?"w":"right"==c?"e":""),l=$("<div></div>");l.attr("value",a.getPath());l.addClass("handle stretch_handle stretch_handle_"+a.id+" "+a.id+"_handle");l.attr("id","stretch_handle_"+b+c+a.id);l.css({cursor:u+"-resize",position:q,width:"5px",height:"5px",border:"1px solid rgba(0, 0, 0, .5)","background-color":"rgba(255, 255, 255, 0.5)","z-index":"50"});
l.data("row",b);l.data("column",c);d&&l.data("fixed",!0);f.parent().append(l);l.on("mousedown",nudgepad.StretchHandle.mousedown);l.on("slide",nudgepad.StretchHandle.slide);l.on("slidestart",nudgepad.StretchHandle.slidestart);l.on("slideend",nudgepad.StretchHandle.slideend);l.on("tap",nudgepad.StretchHandle.tap);l.on("update",nudgepad.StretchHandle.update);l.on("dblclick",nudgepad.StretchHandle.dblclick);l.trigger("update")};nudgepad.StretchHandle.dimensions={};
nudgepad.StretchHandle.mousedown=function(){nudgepad.StretchHandle.dimensions=$(this).owner().dimensions();var a=$(this).owner().scrap();nudgepad.StretchHandle.originalWidth=parseFloat(a.get("style width"));nudgepad.StretchHandle.originalHeight=parseFloat(a.get("style height"));nudgepad.grid.create()};
nudgepad.StretchHandle.slide=function(){var a=$(this).owner(),b=$(this).data().row,c=$(this).data().column,d=$(this).data().fixed,f,q;f="left"===c?nudgepad.StretchHandle.dimensions.right:"right"===c?nudgepad.StretchHandle.dimensions.left:nudgepad.StretchHandle.dimensions.center;q="top"===b?nudgepad.StretchHandle.dimensions.bottom:"bottom"===b?nudgepad.StretchHandle.dimensions.top:nudgepad.StretchHandle.dimensions.middle;var u=nudgepad.mouse.move.pageX-$(this).parent().offset().left,l=nudgepad.mouse.move.pageY-
$(this).parent().offset().top,l=nudgepad.StretchHandle.getLength(f,q,u,l,"center"!=c,"middle"!=b),u=a.scrap();"center"!=c&&(u.set("style left",(0<=l.x?f:l.x+f)+"px"),c=a.outerWidth()-a.width(),u.set("style width",Math.abs(l.x)-c+"px"));d?(b=parseFloat(u.get("style width"))/nudgepad.StretchHandle.originalWidth,u.set("style height",Math.round(nudgepad.StretchHandle.originalHeight*b)+"px")):"middle"!=b&&(0<=l.y?u.set("style top",q+"px"):u.set("style top",l.y+q+"px"),b=a.outerHeight()-a.height(),u.set("style height",
Math.abs(l.y)-b+"px"));a.css(u.values.style.values);b="W "+parseFloat(a.css("width"))+"<br> H "+parseFloat(a.css("height"));$("#nudgepadDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight()/2)}).html(b);$(".stretch_handle_"+u.id).trigger("update");return!1};
nudgepad.StretchHandle.slidestart=function(){var a=$(this).owner(),b=a.scrap();$("."+b.id+"_handle").not(".stretch_handle_"+b.id).hide();b="W "+parseFloat(a.css("width"))+"<br> H "+parseFloat(a.css("height"));$("#nudgepadDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight()/2)}).html(b).show();return!1};
nudgepad.StretchHandle.dblclick=function(){var a=$(this).owner(),b=$(this).data().row,c=$(this).data().column,d=a.scrap();"right"===c&&d.set("style width","100%");"left"===c&&d.set("style left","0");"top"===b&&d.set("style top","0");"bottom"===b&&d.set("style height","100%");a.css(d.values.style.values);$("."+d.id+"_handle").trigger("update").show();nudgepad.stage.commit()};
nudgepad.StretchHandle.slideend=function(){var a=$(this).owner().scrap();$("."+a.id+"_handle").trigger("update").show();nudgepad.grid.removeSnaplines();$("#nudgepadDimensions").hide();nudgepad.stage.commit()};nudgepad.StretchHandle.getLength=function(a,b,c,d,f,q){a={x:c-a,y:d-b};c=nudgepad.grid.getDelta([{x:c,y:d}]);f&&(a.x+=c.x);q&&(a.y+=c.y);return a};nudgepad.StretchHandle.tap=function(){return!1};
nudgepad.StretchHandle.update=function(){var a=$(this).owner(),b,c,d=$(this).data().row,f=$(this).data().column;switch(d){case "top":c=a.position().top-4;break;case "middle":c=a.position().top+Math.round(a.outerHeight()/2)-4;break;case "bottom":c=a.position().top+a.outerHeight()-4}switch(f){case "left":b=a.position().left-4;break;case "center":b=a.position().left+Math.round(a.outerWidth()/2)-4;break;case "right":b=a.position().left+a.outerWidth()-4}$(this).css({left:b,top:c})};
nudgepad.livePreviewScrap=!1;nudgepad.livePreviewTimeout=!1;nudgepad.livePreviewStart=function(){clearTimeout(nudgepad.livePreviewTimeout);nudgepad.livePreviewTimeout=setTimeout("nudgepad.livePreview()",500)};nudgepad.livePreview=function(){var a=$("#nudgepadStyleEditorCssEditor"),b=nudgepad.livePreviewScrap;b.set("style",new Space(a.val()));b.element().attr("style","").css(b.get("style").values)};
nudgepad.styleEditor=function(a){$(".handle").remove();var b=$('<div id="nudgepadStyleEditorModal" class="nudgepad"/>');b.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});b.on("click",function(){V.trigger("click")});$("body").append(b);var c=a.element(),d=$('<div id="nudgepadStyleEditor" class="nudgepad"></div>');d.css({left:c.offset().left+2+"px",top:c.offset().top+c.outerHeight()+4+"px"});c=$('<div id="nudgepadStyleEditorTopBar"></div>');d.append(c);var f=
$('<div class="editorOption selectedEditorOption">Block</div>');f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");F.hide();U.hide();q.show();return!1});c.append(f);f=$('<div class="editorOption">Text</div>');f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");q.hide();F.hide();a.get("style")&&F.val(a.get("style"));U.show();return!1});c.append(f);f=$('<div class="editorOption">Code</div>');
f.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");q.hide();U.hide();a.get("style")&&F.val(a.get("style"));F.show();return!1});c.append(f);var q=$('<div id="blockContainer"></div>');d.append(q);var u=$(".selection").css("background-color"),c=$('<div class="colorBackground"><input type="text" class="colorPicker"></div>');q.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/dup_lt.png"></div>');c.on("click",function(){nudgepad.stage.selection.duplicate()});
q.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/lock_lt.png"></div>');c.on("tap",function(){nudgepad.stage.selection.patch("locked true");V.trigger("click");return!1});q.append(c);var l=$('<select id="nudgepadLinkSelect"></select>'),c=$("<option>No link</option>");c.on("click",function(){nudgepad.stage.selection.patch("href ")});l.append(c);_.each(site.values.pages.values,function(a,b){var c=$('<option value="'+b+'">'+ToProperCase(b)+"</option>");c.on("click",function(){nudgepad.stage.selection.patch("tag a\nhref "+
$(this).attr("value"))});l.append(c)});c=$("<option>New Page</option>");c.on("click",function(){var a=prompt("Enter the name of your new page",nudgepad.pages.nextName(nudgepad.stage.activePage));if(a){a=Permalink(a);nudgepad.stage.selection.patch("tag a\nhref "+a);V.trigger("click");var b=nudgepad.stage.activePage;nudgepad.pages.duplicate(null,a,!0);nudgepad.stage.open(b)}});l.append(c);c=$("<option>External Link</option>");c.on("click",function(){var a=prompt("Enter the url to link to","http://");
a&&nudgepad.stage.selection.patch("tag a\nhref "+a)});l.append(c);l.css({display:"none",position:"absolute","z-index":"100000"});l.attr("size",l.find("option").length);l.on("click",function(){l.hide();return!1});q.append(l);c=$('<div class="editorButton"><img src="/nudgepad/images/link_lt.png"></div>');c.on("tap",function(){l.css({left:$(this).position().left,top:$(this).position().top});l.show();return!1});q.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/up_lt.png" title="Order Up"></div>');
c.on("tap",function(){a.moveUp();F.val(a.get("style"));return!1});q.append(c);c=$('<div class="editorButton"><img src="/nudgepad/images/down_lt.png" title="Order Down"></div>');c.on("tap",function(){a.moveDown();F.val(a.get("style"));return!1});q.append(c);var s=$('<div class="clear"></div>');q.append(s);c=$('<div class="columnLeft"></div>');q.append(c);f=$('<div class="editorHeader">Curve</div>');c.append(f);f=$('<div id="roundessOne" class="toolButton toolButtonOne">0</div>');f.on("click",function(){nudgepad.stage.selection.cssPreview("border-radius 0px 0px 0px 0px");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="roundessTwo" class="toolButton toolButtonTwo">4</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 4px 4px 4px 4px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">10</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 10px 10px 10px 10px");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">50</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border-radius 50px 50px 50px 50px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);s=$('<div class="clear"></div>');c.append(s);f=$('<div class="editorHeader">Border</div>');c.append(f);var S=$(".selection").css("border-color"),f=$('<div class="colorBorder"><input type="text" class="colorBorderPicker toolButton toolButtonOne"></div>');
c.append(f);f=$('<div class="toolButton toolButtonTwo">0</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border none");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">1</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border 1px solid "+S);nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">5</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("border 5px solid "+
S);nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);c=$('<div class="columnRight"></div>');q.append(c);f=$('<div class="editorHeader">Opacity</div>');c.append(f);f=$('<div class="toolButton toolButtonOne">1</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity 1");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="opacityOne" class="toolButton toolButtonTwo">.8</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .8");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonTwo">.5</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .5");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="toolButton toolButtonThree">.2</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("opacity .2");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div class="clear"></div>');
c.append(f);f=$('<div class="editorHeader">Shadow</div>');c.append(f);f=$('<div class="toolButton toolButtonOne">0</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow none");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="shadowOne" class="toolButton toolButtonTwo">Out</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow 0px 1px 3px rgba(0,0,0,.6)");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);f=$('<div id="shadowTwo" class="toolButton toolButtonTwo">In</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow inset 0px 1px 3px rgba(0,0,0,.6)");nudgepad.stage.commit();$(".handle").trigger("update");return!1});c.append(f);f=$('<div id="ShadowThree" class="toolButton toolButtonThree">All</div>');f.on("tap",function(){nudgepad.stage.selection.cssPreview("box-shadow 0px 0px 0px 4px rgba(0,0,0,.2)");nudgepad.stage.commit();$(".handle").trigger("update");
return!1});c.append(f);s=$('<div class="clear"></div>');q.append(s);var U=$('<div id="nudgepadStyleEditorTextEditor"></div>');d.append(U);var T=$(".selection").css("font-family"),c=$('<select id="fontFamily" class="toolButton" name="fontFamilyDropdown"><option>Arial</option><option>Arvo</option><option>Courier</option><option>Helvetica</option><option>Open Sans</option><option>Times</option><option>Titillium Web</option></select>');c.on("change",function(){T=$("#fontFamily").val();nudgepad.stage.selection.cssPreview("font-family "+
T);nudgepad.stage.commit();$(".handle").trigger("update");return!1});U.append(c);c=$(".selection").css("color");f=$('<div class="colorFont"><input type="text" class="colorFontPicker toolButton toolButtonOne"></div>');U.append(f);var z=$(".selection").css("font-size"),f=$('<select id="fontSize" name="fontDropdown"><option>11</option><option>12</option><option>13</option><option>14</option><option>16</option><option>18</option><option>24</option><option>32</option><option>40</option><option>48</option><option>56</option><option>64</option><option>72</option></select>');
f.on("change",function(){z=$("#fontSize").val();nudgepad.stage.selection.cssPreview("font-size "+z+"px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});U.append(f);f=$('<div id="resize" class="toolButton" title="Auto Resize"><img src="/nudgepad/images/contract.png"></div>');f.on("click",function(){nudgepad.stage.selection.cssPreview({width:"auto",height:"auto"});nudgepad.stage.commit();$(".handle").trigger("update");return!1});U.append(f);s=$('<div class="clear"></div>');U.append(s);
f=$('<div class="columnLeft"></div>');U.append(f);s=$('<div class="editorHeader">Alignment</div>');f.append(s);s=$('<div class="toolButton toolButtonOne"><img src="/nudgepad/images/left_lt.png"></div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("text-align left");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/images/center_lt.png"></div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("text-align center");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/images/right_lt.png"></div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("text-align right");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonThree"><img src="/nudgepad/images/justify_lt.png"></div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("text-align justify");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="clear"></div>');f.append(s);s=$('<div class="editorHeader">Padding</div>');f.append(s);s=$('<div class="toolButton toolButtonOne">0</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("padding 0px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonTwo">10</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("padding 10px");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonTwo">20</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("padding 20px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div class="toolButton toolButtonTwo">40</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("padding 40px");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);f=$('<div class="columnRight"></div>');
U.append(f);s=$('<div class="clear"></div>');f.append(s);s=$('<div class="editorHeader">Line Height</div>');f.append(s);s=$('<div id="lineHeightOne" class="toolButton toolButtonOne">100</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 100%");return!1});f.append(s);s=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">140</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 140%");return!1});f.append(s);s=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">180</div>');
s.on("click",function(){nudgepad.stage.selection.cssPreview("line-height 180%");return!1});f.append(s);s=$('<div id="lineHeightThree" class="toolButton toolButtonThree">Mid</div>');s.on("click",function(){var a=$(".selection").css("height");nudgepad.stage.selection.cssPreview("line-height "+a);return!1});f.append(s);s=$('<div class="clear"></div>');f.append(s);s=$('<div class="editorHeader">Style</div>');f.append(s);s=$('<div id="textStyleOne" class="toolButton toolButtonOne">B</div>');s.on("click",
function(){nudgepad.stage.selection.cssPreview("font-weight bold");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div id="italics" class="toolButton toolButtonTwo">I</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("font-style italic");nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div id="textStyleTwo" class="toolButton toolButtonTwo">U</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview("text-decoration underline");
nudgepad.stage.commit();$(".handle").trigger("update");return!1});f.append(s);s=$('<div id="textStyleThree" class="toolButton toolButtonThree">Auto</div>');s.on("click",function(){nudgepad.stage.selection.cssPreview({"text-decoration":"none","font-weight":"normal","font-style":"normal"});return!1});f.append(s);s=$('<div class="clear"></div>');U.append(s);var F=$('<textarea id="nudgepadStyleEditorCssEditor"></textarea>');a.get("style")&&F.val(a.get("style"));F.on("tap mousedown click slide slidestart slideend mouseup",
function(a){a.stopPropagation()});nudgepad.livePreviewScrap=a;F.on("keyup",nudgepad.livePreviewStart);d.append(F);f=$('<div id="nudgepadStyleEditorBottomBar"></div>');F.append(f);var V=$('<div id="nudgepadStyleEditorSaveButton">Save</div>');V.on("click",function(){nudgepad.stage.commit();$(".handle").trigger("update");d.remove();b.remove()});F.append(V);$("body").append(d);var E;$(".colorPicker").spectrum({color:u,move:function(a){nudgepad.stage.selection.cssPreview("background-color "+a.toHexString());
u=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());u=a.toHexString()},show:function(){E="background-color "},hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(".colorBorderPicker").spectrum({color:S,move:function(a){nudgepad.stage.selection.cssPreview("border-color "+a.toHexString());S=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());S=a.toHexString()},show:function(){E="border-color "},
hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(".colorFontPicker").spectrum({color:c,move:function(a){nudgepad.stage.selection.cssPreview("color "+a.toHexString());S=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());S=a.toHexString()},show:function(){E="color "},hide:function(){nudgepad.stage.commit();$(".handle").trigger("update")}});$(document).on("slide slidestart slideend",".sp-container",function(){return!1});$(".sp-input[type=text]").on("keydown",
function(a){if(13==a.which)return a.preventDefault(),a=$(this).val(),nudgepad.stage.selection.css(E+a),!1});$(".colorFont .sp-replacer").addClass("fontColorButton");$(".colorFont .sp-preview").addClass("fontColorLine");$(".colorFont .sp-replacer").append('<img src="/nudgepad/images/letter.png">');$(".colorBorder .sp-replacer").addClass("borderColorButton");$(".colorBorder .sp-preview").addClass("borderColorLine");$(".colorBackground .sp-replacer").addClass("backgroundColorButton");$(":input[name=fontDropdown] option").each(function(a,
b){$(b).text()+"px"==z&&$(this).attr("selected","selected")});$(":input[name=fontFamilyDropdown] option").each(function(a,b){$(b).text()==T&&$(this).attr("selected","selected")});c=d.position().top+d.outerHeight()-nudgepad.stage.height();0<c&&($("#nudgepadStage").scrollTop($("#nudgepadStage").scrollTop()+c),d.css("top",parseFloat(d.css("top"))-c));c=d.position().left+d.outerWidth()-$(window).width();0<c&&($("#nudgepadStage").scrollLeft($("#nudgepadStage").scrollLeft()+c),d.css("left",parseFloat(d.css("left"))-
c))};nudgepad.apps.surveys=new App("surveys");nudgepad.apps.surveys.entries=new Space;nudgepad.apps.surveys.download=function(){$.get("/nudgepad.surveys",function(a){nudgepad.apps.surveys.entries=new Space(a);if(nudgepad.apps.surveys.isOpen())nudgepad.apps.surveys.onready()})};nudgepad.apps.surveys.onmain=nudgepad.apps.surveys.download;nudgepad.apps.surveys.onopen=nudgepad.apps.surveys.download;
nudgepad.apps.surveys.onready=function(){$(".nudgepad#entriesCount").text(nudgepad.apps.surveys.entries.keys.length);$(".nudgepad#entries").text(nudgepad.apps.surveys.entries.toString());$(".nudgepad#entries span").each(function(){$(this).text(moment(parseInt($(this).text())).fromNow())})};nudgepad.on("main",nudgepad.apps.surveys.download);
nudgepad.pages.updateTabs=function(){$("#nudgepadTabs").html("");var a=site.get("pages").keys;_.each(a,function(a){var c=$("<span>"+a+"</span>");a===nudgepad.stage.activePage&&c.css("color","white");var d="";site.values.collage.each(function(f,q){if(q.get("page")!==a)return!0;d+=q.get("name")+"("+q.get("device")+") ";f!=nudgepad.id&&c.addClass("openPage")});c.attr("title",d);c.on("click",function(){mixpanel.track("I clicked a page tab");nudgepad.stage.open($(this).text());return!0});c.attr("value",
a);$("#nudgepadTabs").append(c)})};nudgepad.on("collage.update",nudgepad.pages.updateTabs);
nudgepad.textPrompt=function(a,b,c,d,f){var q=$('<textarea id="nudgepadEditorTextarea" class="nudgepad"></textarea>');q.val(b);var u=$('<div id="nudgepadEditorModalScreen" class="nudgepad"/>');u.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});q.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});if(d)q.on("keypress",d);var l=$('<div id="nudgepadEditorSaveButton" class="nudgepad">'+(f||"Save")+"</div>"),s=$('<div id="nudgepadEditorCancelButton" class="nudgepad">Cancel</div>'),
S=$('<div id="nudgepadEditorButtonContainer" class="nudgepad"></div>');u.on("click",function(){s.trigger("click")});s.on("click",function(){l.remove();q.remove();u.remove();S.remove();s.remove()});l.on("click",function(){c&&c(q.val());l.remove();q.remove();u.remove();S.remove();s.remove()});$("body").append(u);$("body").append(q);$("body").append(l);$("body").append(s);$("body").append(S);q.focus()};
/**
 * @param {object} Context
 * @return null
 */
Page.prototype.request = function (context) {
  // Compile any dynamic code
  // Execute any scraps of type server
  return false
  if (!this.get('head onrequest'))
    return null
  try {
    eval(this.get('head onrequest'))
  } catch (e) {
    if (e instanceof SyntaxError)
      console.log('Syntax error rendering onrequest %s', e.message)
    else
      console.log('Error rendering onrequest %s', e.message)
  }
}
